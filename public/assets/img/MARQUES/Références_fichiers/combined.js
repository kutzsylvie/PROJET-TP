(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.jQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r));return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body)return setTimeout(b.ready);b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g)return g.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r)b.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;l>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n)if(n=b.Deferred(),"complete"===o.readyState)setTimeout(b.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++)if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1)u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return!u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length)return{};s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t)return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?$:b.isEmptyObject)(o))return}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++)i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]));b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else r=t}return r}function $(e){var t;for(t in e)if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=b.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++])u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}else(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get"in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set"in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--)s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode)h.push(l),f=l;f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault();if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;
return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!d&&!r){if(i=J.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return H.apply(n,q.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&T.getByClassName&&t.getElementsByClassName)return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--)l[u]=g+dt(l[u]);m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v)try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return u=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:0;if(o===a)return ut(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t)))try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}else if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N)f=l[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=lt(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=ct(n);function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter)!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0)return!0}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--)(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}else y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++)if(n=i.relative[e[u].type])f=[ht(gt(f),n)];else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++)if(i.relative[e[r].type])break;return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,u,c)){f.push(h);break}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++])m(x,y,u,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=L.call(f));y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--)o=vt(t[n]),o[x]?r.push(o):i.push(o);o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t)return n;e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type])break;if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e)return H.apply(n,q.call(r,0)),n;break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++)if(b.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++)(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g))return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++)o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++)o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")));l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)b.event.add(t,n,s[n][r])}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a)r[a]&&Ft(i,r[a]);if(t)if(n)for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++)_t(i,r[a]);else _t(e,o);return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===b.type(o))b.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)
}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++)if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events)for(r in a.events)f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle);l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=b.css(e,n[s],!1,o);return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==b.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x)return N;u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)N.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x))return N.abort();T="abort";for(i in{success:1,error:1,complete:1})N[i](p[i]);if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c)s in r&&(n[c[s]]=r[s]);while("*"===l[0])l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials"in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i)4!==u.readyState&&u.abort();else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,b.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++)if(r=Gn[o].call(l,e,c,l.opts))return r;return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e)if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h)b.style(e,t,h[t])});for(i=0;o>i;i++)r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using"in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position"))e=e.offsetParent;return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);
;window.Modernizr=function(a,b,c){function C(a){j.cssText=a}function D(a,b){return C(m.join(a+";")+(b||""))}function E(a,b){return typeof a===b}function F(a,b){return!!~(""+a).indexOf(b)}function G(a,b){for(var d in a){var e=a[d];if(!F(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function H(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:E(f,"function")?f.bind(d||b):f}return!1}function I(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return E(b,"string")||E(b,"undefined")?G(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),H(e,b,c))}var d="2.8.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={svg:"http://www.w3.org/2000/svg"},r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},y=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b)&&c(b).matches||!1;var d;return x("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},z=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=E(e[d],"function"),E(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),A={}.hasOwnProperty,B;!E(A,"undefined")&&!E(A.call,"undefined")?B=function(a,b){return A.call(a,b)}:B=function(a,b){return b in a&&E(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.flexbox=function(){return I("flexWrap")},r.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},r.canvastext=function(){return!!e.canvas&&!!E(b.createElement("canvas").getContext("2d").fillText,"function")},r.rgba=function(){return C("background-color:rgba(150,255,150,.5)"),F(j.backgroundColor,"rgba")},r.borderradius=function(){return I("borderRadius")},r.boxshadow=function(){return I("boxShadow")},r.textshadow=function(){return b.createElement("div").style.textShadow===""},r.opacity=function(){return D("opacity:.55"),/^0.55$/.test(j.opacity)},r.cssanimations=function(){return I("animationName")},r.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c},r.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c},r.svg=function(){return!!b.createElementNS&&!!b.createElementNS(q.svg,"svg").createSVGRect},r.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(l.call(b.createElementNS(q.svg,"clipPath")))};for(var J in r)B(r,J)&&(w=J.toLowerCase(),e[w]=r[J](),u.push((e[w]?"":"no-")+w));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)B(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},C(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.mq=y,e.hasEvent=z,e.testProp=function(a){return G([a])},e.testAllProps=I,e.testStyles=x,e.prefixed=function(a,b,c){return b?I(a,b,c):I(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("cssfilters",function(){var a=document.createElement("div");return a.style.cssText=Modernizr._prefixes.join("filter:blur(2px); "),!!a.style.length&&(document.documentMode===undefined||document.documentMode>9)}),Modernizr.addTest("svgfilters",function(){var a=!1;try{a=typeof SVGFEColorMatrixElement!==undefined&&SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE==2}catch(b){}return a});
(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",u="ui-effects-style",d="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(d)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(c+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(c+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=c+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(d),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(d,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)
}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var f=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var f;t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;
this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(g,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))
}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on("mouseup",function(){_=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}
},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog
},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&v(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=v(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1
},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;
this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip});
(function ($) {$.support.touch ='ontouchend'in document;if (!$.support.touch) {return;}
 var mouseProto =$.ui.mouse.prototype,_mouseInit =mouseProto._mouseInit,_mouseDestroy =mouseProto._mouseDestroy,touchHandled;function simulateMouseEvent (event,simulatedType) {if (event.originalEvent.touches.length > 1) {return;}
 event.preventDefault();var touch =event.originalEvent.changedTouches[0],simulatedEvent =document.createEvent('MouseEvents');simulatedEvent.initMouseEvent(simulatedType,true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null );event.target.dispatchEvent(simulatedEvent);}
 mouseProto._touchStart =function (event) {var self =this;if (touchHandled ||!self._mouseCapture(event.originalEvent.changedTouches[0])) {return;}
 touchHandled =true;self._touchMoved =false;simulateMouseEvent(event,'mouseover');simulateMouseEvent(event,'mousemove');simulateMouseEvent(event,'mousedown');};mouseProto._touchMove =function (event) {if (!touchHandled) {return;}
 this._touchMoved =true;simulateMouseEvent(event,'mousemove');};mouseProto._touchEnd =function (event) {if (!touchHandled) {return;}
 simulateMouseEvent(event,'mouseup');simulateMouseEvent(event,'mouseout');if (!this._touchMoved) {simulateMouseEvent(event,'click');}
 touchHandled =false;};mouseProto._mouseInit =function () {var self =this;self.element.bind({touchstart:$.proxy(self,'_touchStart'),touchmove:$.proxy(self,'_touchMove'),touchend:$.proxy(self,'_touchEnd')
 });_mouseInit.call(self);};mouseProto._mouseDestroy =function () {var self =this;self.element.unbind({touchstart:$.proxy(self,'_touchStart'),touchmove:$.proxy(self,'_touchMove'),touchend:$.proxy(self,'_touchEnd')
 });_mouseDestroy.call(self);};})(jQuery);(function($) {var _ajax =$.ajax,mockHandlers =[],mockedAjaxCalls =[],unmockedAjaxCalls =[],CALLBACK_REGEX =/=\?(&|$)/,
jsc =(new Date()).getTime();function parseXML(xml) {if (window.DOMParser ==undefined &&window.ActiveXObject ) {DOMParser =function() {};DOMParser.prototype.parseFromString =function(xmlString ) {var doc =new ActiveXObject('Microsoft.XMLDOM');doc.async ='false';doc.loadXML(xmlString );return doc;};}
try {var xmlDoc =(new DOMParser() ).parseFromString(xml,'text/xml');if ($.isXMLDoc(xmlDoc ) ) {var err =$('parsererror',xmlDoc);if (err.length ==1 ) {throw new Error('Error: '+ $(xmlDoc).text() );}
} else {throw new Error('Unable to parse XML');}
return xmlDoc;} catch(e ) {var msg =(e.name ==undefined ?e :e.name + ': '+ e.message );$(document).trigger('xmlParseError',[msg ]);return undefined;}
}
function isMockDataEqual(mock,live ) {var identical =true;if (typeof live ==='string') {return $.isFunction(mock.test ) ?mock.test(live) :mock ==live;}
$.each(mock,function(k) {if (live[k] ===undefined ) {identical =false;return identical;} else {if (typeof live[k] ==='object'&&live[k] !==null ) {if (identical &&$.isArray(live[k] ) ) {identical =$.isArray(mock[k] ) &&live[k].length ===mock[k].length;}
identical =identical &&isMockDataEqual(mock[k],live[k]);} else {if (mock[k] &&$.isFunction(mock[k].test ) ) {identical =identical &&mock[k].test(live[k]);} else {identical =identical &&(mock[k] ==live[k] );}
}
}
});return identical;}
 function isDefaultSetting(handler,property) {return handler[property] ===$.mockjaxSettings[property];}
function getMockForRequest(handler,requestSettings ) {if ($.isFunction(handler) ) {return handler(requestSettings );}
if ($.isFunction(handler.url.test) ) {if (!handler.url.test(requestSettings.url ) ) {return null;}
} else {var star =handler.url.indexOf('*');if (handler.url !==requestSettings.url &&star ===-1 ||!new RegExp(handler.url.replace(/[-[\]{}()+?.,\\^$|#\s]/g, "\\$&").replace(/\*/g, '.+')).test(requestSettings.url)) {
return null;}
}
if (handler.data ) {if (!requestSettings.data ||!isMockDataEqual(handler.data,requestSettings.data) ) {return null;}
}
if (handler &&handler.type &&handler.type.toLowerCase() !=requestSettings.type.toLowerCase() ) {return null;}
return handler;}
function parseResponseTimeOpt(responseTime) {if ($.isArray(responseTime)) {var min =responseTime[0];var max =responseTime[1];return (typeof min ==='number'&&typeof max ==='number') ?Math.floor(Math.random() * (max - min)) + min :null;} else {return (typeof responseTime ==='number') ?responseTime:null;}
}
function _xhrSend(mockHandler,requestSettings,origSettings) {var process =(function(that) {return function() {return (function() {this.status =mockHandler.status;this.statusText =mockHandler.statusText;this.readyState=1;var finishRequest =function () {this.readyState=4;var onReady;if (requestSettings.dataType =='json'&&(typeof mockHandler.responseText =='object') ) {this.responseText =JSON.stringify(mockHandler.responseText);} else if (requestSettings.dataType =='xml') {if (typeof mockHandler.responseXML =='string') {this.responseXML =parseXML(mockHandler.responseXML);this.responseText =mockHandler.responseXML;} else {this.responseXML =mockHandler.responseXML;}
} else if (typeof mockHandler.responseText ==='object'&&mockHandler.responseText !==null) {mockHandler.contentType ='application/json';this.responseText =JSON.stringify(mockHandler.responseText);} else {this.responseText =mockHandler.responseText;}
if(typeof mockHandler.status =='number'||typeof mockHandler.status =='string') {this.status =mockHandler.status;}
if(typeof mockHandler.statusText ==="string") {this.statusText =mockHandler.statusText;}
onReady =this.onreadystatechange ||this.onload;if ($.isFunction(onReady ) ) {if(mockHandler.isTimeout) {this.status =-1;}
onReady.call(this,mockHandler.isTimeout ?'timeout':undefined );} else if (mockHandler.isTimeout ) {this.status =-1;}
};if ($.isFunction(mockHandler.response) ) {if (mockHandler.response.length ===2 ) {mockHandler.response(origSettings,function () {finishRequest.call(that);});return;} else {mockHandler.response(origSettings);}
}
finishRequest.call(that);}).apply(that);};})(this);if (mockHandler.proxy ) {_ajax({global:false,url:mockHandler.proxy,type:mockHandler.proxyType,data:mockHandler.data,dataType:requestSettings.dataType ==="script"?"text/plain":requestSettings.dataType,complete:function(xhr) {mockHandler.responseXML =xhr.responseXML;mockHandler.responseText =xhr.responseText;if (isDefaultSetting(mockHandler,'status')) {mockHandler.status =xhr.status;}
 if (isDefaultSetting(mockHandler,'statusText')) {mockHandler.statusText =xhr.statusText;}
this.responseTimer =setTimeout(process,parseResponseTimeOpt(mockHandler.responseTime) ||0);}
});} else {if (requestSettings.async ===false ) {process();} else {this.responseTimer =setTimeout(process,parseResponseTimeOpt(mockHandler.responseTime) ||50);}
}
}
function xhr(mockHandler,requestSettings,origSettings,origHandler) {mockHandler =$.extend(true,{},$.mockjaxSettings,mockHandler);if (typeof mockHandler.headers ==='undefined') {mockHandler.headers ={};}
if (typeof requestSettings.headers ==='undefined') {requestSettings.headers ={};}
if (mockHandler.contentType ) {mockHandler.headers['content-type'] =mockHandler.contentType;}
return {status:mockHandler.status,statusText:mockHandler.statusText,readyState:1,open:function() {},send:function() {origHandler.fired =true;_xhrSend.call(this,mockHandler,requestSettings,origSettings);},abort:function() {clearTimeout(this.responseTimer);},setRequestHeader:function(header,value) {requestSettings.headers[header] =value;},getResponseHeader:function(header) {if (mockHandler.headers &&mockHandler.headers[header] ) {return mockHandler.headers[header];} else if (header.toLowerCase() =='last-modified') {return mockHandler.lastModified ||(new Date()).toString();} else if (header.toLowerCase() =='etag') {return mockHandler.etag ||'';} else if (header.toLowerCase() =='content-type') {return mockHandler.contentType ||'text/plain';}
},getAllResponseHeaders:function() {var headers ='';if (mockHandler.contentType) {mockHandler.headers['Content-Type'] =mockHandler.contentType;}
$.each(mockHandler.headers,function(k,v) {headers +=k + ': '+ v + "\n";});return headers;}
};}
function processJsonpMock(requestSettings,mockHandler,origSettings ) {processJsonpUrl(requestSettings );requestSettings.dataType ="json";if(requestSettings.data &&CALLBACK_REGEX.test(requestSettings.data) ||CALLBACK_REGEX.test(requestSettings.url)) {createJsonpCallback(requestSettings,mockHandler,origSettings);var rurl =/^(\w+:)?\/\/([^\/?#]+)/,
parts =rurl.exec(requestSettings.url ),remote =parts &&(parts[1] &&parts[1] !==location.protocol ||parts[2] !==location.host);requestSettings.dataType ="script";if(requestSettings.type.toUpperCase() ==="GET"&&remote ) {var newMockReturn =processJsonpRequest(requestSettings,mockHandler,origSettings );if(newMockReturn) {return newMockReturn;} else {return true;}
}
}
return null;}
function processJsonpUrl(requestSettings ) {if (requestSettings.type.toUpperCase() ==="GET") {if (!CALLBACK_REGEX.test(requestSettings.url ) ) {requestSettings.url +=(/\?/.test( requestSettings.url ) ? "&" : "?") +
(requestSettings.jsonp ||"callback") + "=?";}
} else if (!requestSettings.data ||!CALLBACK_REGEX.test(requestSettings.data) ) {requestSettings.data =(requestSettings.data ?requestSettings.data + "&":"") + (requestSettings.jsonp ||"callback") + "=?";}
}
function processJsonpRequest(requestSettings,mockHandler,origSettings ) {var callbackContext =origSettings &&origSettings.context ||requestSettings,newMock =null;if (mockHandler.response &&$.isFunction(mockHandler.response) ) {mockHandler.response(origSettings);} else {if(typeof mockHandler.responseText ==='object') {$.globalEval('('+ JSON.stringify(mockHandler.responseText ) + ')');} else {$.globalEval('('+ mockHandler.responseText + ')');}
}
setTimeout(function() {jsonpSuccess(requestSettings,callbackContext,mockHandler );jsonpComplete(requestSettings,callbackContext,mockHandler );},parseResponseTimeOpt(mockHandler.responseTime) ||0);if($.Deferred){newMock =new $.Deferred();if(typeof mockHandler.responseText =="object"){newMock.resolveWith(callbackContext,[mockHandler.responseText] );}
else{newMock.resolveWith(callbackContext,[$.parseJSON(mockHandler.responseText )] );}
}
return newMock;}
function createJsonpCallback(requestSettings,mockHandler,origSettings ) {var callbackContext =origSettings &&origSettings.context ||requestSettings;var jsonp =requestSettings.jsonpCallback ||("jsonp"+ jsc++);if (requestSettings.data ) {requestSettings.data =(requestSettings.data + "").replace(CALLBACK_REGEX,"="+ jsonp + "$1");}
requestSettings.url =requestSettings.url.replace(CALLBACK_REGEX,"="+ jsonp + "$1");window[jsonp ] =window[jsonp ] ||function(tmp ) {data =tmp;jsonpSuccess(requestSettings,callbackContext,mockHandler );jsonpComplete(requestSettings,callbackContext,mockHandler );window[jsonp ] =undefined;try {delete window[jsonp ];} catch(e) {}
if (head ) {head.removeChild(script );}
};}
function jsonpSuccess(requestSettings,callbackContext,mockHandler) {if (requestSettings.success ) {requestSettings.success.call(callbackContext,mockHandler.responseText ||"",status,{} );}
if (requestSettings.global ) {(requestSettings.context ?$(requestSettings.context) :$.event).trigger("ajaxSuccess",[{},requestSettings]);}
}
function jsonpComplete(requestSettings,callbackContext) {if (requestSettings.complete ) {requestSettings.complete.call(callbackContext,{} ,status );}
if (requestSettings.global ) {(requestSettings.context ?$(requestSettings.context) :$.event).trigger("ajaxComplete",[{},requestSettings]);}
if (requestSettings.global &&!--$.active ) {$.event.trigger("ajaxStop");}
}
function handleAjax(url,origSettings ) {var mockRequest,requestSettings,mockHandler,overrideCallback;if (typeof url ==="object") {origSettings =url;url =undefined;} else {origSettings =origSettings ||{};origSettings.url =url;}
requestSettings =$.extend(true,{},$.ajaxSettings,origSettings);overrideCallback =function(action,mockHandler) {var origHandler =origSettings[action.toLowerCase()];return function() {if ($.isFunction(origHandler) ) {origHandler.apply(this,[].slice.call(arguments));}
mockHandler['onAfter'+ action]();};};for(var k =0;k < mockHandlers.length;k++) {if (!mockHandlers[k] ) {continue;}
mockHandler =getMockForRequest(mockHandlers[k],requestSettings );if(!mockHandler) {continue;}
mockedAjaxCalls.push(requestSettings);$.mockjaxSettings.log(mockHandler,requestSettings );if (requestSettings.dataType &&requestSettings.dataType.toUpperCase() ==='JSONP') {if ((mockRequest =processJsonpMock(requestSettings,mockHandler,origSettings ))) {return mockRequest;}
}
mockHandler.cache =requestSettings.cache;mockHandler.timeout =requestSettings.timeout;mockHandler.global =requestSettings.global;if (mockHandler.isTimeout ) {if (mockHandler.responseTime > 1 ) {origSettings.timeout =mockHandler.responseTime - 1;} else {mockHandler.responseTime =2;origSettings.timeout =1;}
mockHandler.isTimeout =false;}
if ($.isFunction(mockHandler.onAfterSuccess ) ) {origSettings.success =overrideCallback('Success',mockHandler);}
if ($.isFunction(mockHandler.onAfterError ) ) {origSettings.error =overrideCallback('Error',mockHandler);}
if ($.isFunction(mockHandler.onAfterComplete ) ) {origSettings.complete =overrideCallback('Complete',mockHandler);}
copyUrlParameters(mockHandler,origSettings);(function(mockHandler,requestSettings,origSettings,origHandler) {mockRequest =_ajax.call($,$.extend(true,{},origSettings,{xhr:function() {return xhr(mockHandler,requestSettings,origSettings,origHandler );}
}));})(mockHandler,requestSettings,origSettings,mockHandlers[k]);return mockRequest;}
unmockedAjaxCalls.push(origSettings);if($.mockjaxSettings.throwUnmocked ===true) {throw new Error('AJAX not mocked: '+ origSettings.url);}
else {return _ajax.apply($,[origSettings]);}
}
function copyUrlParameters(mockHandler,origSettings) {if (!(mockHandler.url instanceof RegExp)) {return;}
if (!mockHandler.hasOwnProperty('urlParams')) {return;}
var captures =mockHandler.url.exec(origSettings.url);if (captures.length ===1) {return;}
captures.shift();var i =0,capturesLength =captures.length,paramsLength =mockHandler.urlParams.length,maxIterations =Math.min(capturesLength,paramsLength),paramValues ={};for (i;i < maxIterations;i++) {var key =mockHandler.urlParams[i];paramValues[key] =captures[i];}
origSettings.urlParams =paramValues;}
$.extend({ajax:handleAjax
});$.mockjaxSettings ={log:function(mockHandler,requestSettings ) {if (mockHandler.logging ===false ||(typeof mockHandler.logging ==='undefined'&&$.mockjaxSettings.logging ===false ) ) {return;}
if (window.console &&console.log ) {var message ='MOCK '+ requestSettings.type.toUpperCase() + ': '+ requestSettings.url;var request =$.extend({},requestSettings);if (typeof console.log ==='function') {console.log(message,request);} else {try {console.log(message + ' '+ JSON.stringify(request) );} catch (e) {console.log(message);}
}
}
},logging:true,status:200,statusText:"OK",responseTime:500,isTimeout:false,throwUnmocked:false,contentType:'text/plain',response:'',responseText:'',responseXML:'',proxy:'',proxyType:'GET',lastModified:null,etag:'',headers:{etag:'IJF@H#@923uf8023hFO@I#H#','content-type':'text/plain'}
};$.mockjax =function(settings) {var i =mockHandlers.length;mockHandlers[i] =settings;return i;};$.mockjax.clear =function(i) {if (arguments.length ==1 ) {mockHandlers[i] =null;} else {mockHandlers =[];}
mockedAjaxCalls =[];unmockedAjaxCalls =[];};$.mockjaxClear =function(i) {window.console &&window.console.warn &&window.console.warn('DEPRECATED: The $.mockjaxClear() method has been deprecated in 1.6.0. Please use $.mockjax.clear() as the older function will be removed soon!');$.mockjax.clear();};$.mockjax.handler =function(i) {if (arguments.length ==1 ) {return mockHandlers[i];}
};$.mockjax.mockedAjaxCalls =function() {return mockedAjaxCalls;};$.mockjax.unfiredHandlers =function() {var results =[];for (var i=0,len=mockHandlers.length;i<len;i++) {var handler =mockHandlers[i];if (handler !==null &&!handler.fired) {results.push(handler);}
}
return results;};$.mockjax.unmockedAjaxCalls =function() {return unmockedAjaxCalls;};})(jQuery);(function (root,factory) {if (typeof define ==='function'&&define.amd) {define([],factory);} else if (typeof exports ==='object') {module.exports =factory();} else {root.Handlebars =root.Handlebars ||factory();}
}(this,function () {var __module4__ =(function() {"use strict";var __exports__;function SafeString(string) {this.string =string;}
 SafeString.prototype.toString =function() {return ""+ this.string;};__exports__ =SafeString;return __exports__;})();var __module3__ =(function(__dependency1__) {"use strict";var __exports__ ={};var SafeString =__dependency1__;var escape ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars =/[&<>"'`]/g;
 var possible =/[&<>"'`]/;

 function escapeChar(chr) {return escape[chr];}
 function extend(obj ) {for (var i =1;i < arguments.length;i++) {for (var key in arguments[i]) {if (Object.prototype.hasOwnProperty.call(arguments[i],key)) {obj[key] =arguments[i][key];}
 }
 }
 return obj;}
 __exports__.extend =extend;var toString =Object.prototype.toString;__exports__.toString =toString;var isFunction =function(value) {return typeof value ==='function';};if (isFunction(/x/)) {
 isFunction =function(value) {return typeof value ==='function'&&toString.call(value) ==='[object Function]';};}
 var isFunction;__exports__.isFunction =isFunction;var isArray =Array.isArray ||function(value) {return (value &&typeof value ==='object') ?toString.call(value) ==='[object Array]':false;};__exports__.isArray =isArray;function escapeExpression(string) {if (string instanceof SafeString) {return string.toString();} else if (string ==null) {return "";} else if (!string) {return string + '';}
 string =""+ string;if(!possible.test(string)) {return string;}
 return string.replace(badChars,escapeChar);}
 __exports__.escapeExpression =escapeExpression;function isEmpty(value) {if (!value &&value !==0) {return true;} else if (isArray(value) &&value.length ===0) {return true;} else {return false;}
 }
 __exports__.isEmpty =isEmpty;function appendContextPath(contextPath,id) {return (contextPath ?contextPath + '.':'') + id;}
 __exports__.appendContextPath =appendContextPath;return __exports__;})(__module4__);var __module5__ =(function() {"use strict";var __exports__;var errorProps =['description','fileName','lineNumber','message','name','number','stack'];function Exception(message,node) {var line;if (node &&node.firstLine) {line =node.firstLine;message +=' - '+ line + ':'+ node.firstColumn;}
 var tmp =Error.prototype.constructor.call(this,message);for (var idx =0;idx < errorProps.length;idx++) {this[errorProps[idx]] =tmp[errorProps[idx]];}
 if (line) {this.lineNumber =line;this.column =node.firstColumn;}
 }
 Exception.prototype =new Error();__exports__ =Exception;return __exports__;})();var __module2__ =(function(__dependency1__,__dependency2__) {"use strict";var __exports__ ={};var Utils =__dependency1__;var Exception =__dependency2__;var VERSION ="2.0.0";__exports__.VERSION =VERSION;var COMPILER_REVISION =6;__exports__.COMPILER_REVISION =COMPILER_REVISION;var REVISION_CHANGES ={1:'<= 1.0.rc.2',2:'== 1.0.0-rc.3',3:'== 1.0.0-rc.4',4:'== 1.x.x',5:'== 2.0.0-alpha.x',6:'>= 2.0.0-beta.1'};__exports__.REVISION_CHANGES =REVISION_CHANGES;var isArray =Utils.isArray,isFunction =Utils.isFunction,toString =Utils.toString,objectType ='[object Object]';function HandlebarsEnvironment(helpers,partials) {this.helpers =helpers ||{};this.partials =partials ||{};registerDefaultHelpers(this);}
 __exports__.HandlebarsEnvironment =HandlebarsEnvironment;HandlebarsEnvironment.prototype ={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn) {if (toString.call(name) ===objectType) {if (fn) {throw new Exception('Arg not supported with multiple helpers');}
 Utils.extend(this.helpers,name);} else {this.helpers[name] =fn;}
 },unregisterHelper:function(name) {delete this.helpers[name];},registerPartial:function(name,partial) {if (toString.call(name) ===objectType) {Utils.extend(this.partials,name);} else {this.partials[name] =partial;}
 },unregisterPartial:function(name) {delete this.partials[name];}
 };function registerDefaultHelpers(instance) {instance.registerHelper('helperMissing',function() {if(arguments.length ===1) {return undefined;} else {throw new Exception("Missing helper: '"+ arguments[arguments.length-1].name + "'");}
 });instance.registerHelper('blockHelperMissing',function(context,options) {var inverse =options.inverse,fn =options.fn;if(context ===true) {return fn(this);} else if(context ===false ||context ==null) {return inverse(this);} else if (isArray(context)) {if(context.length > 0) {if (options.ids) {options.ids =[options.name];}
 return instance.helpers.each(context,options);} else {return inverse(this);}
 } else {if (options.data &&options.ids) {var data =createFrame(options.data);data.contextPath =Utils.appendContextPath(options.data.contextPath,options.name);options ={data:data};}
 return fn(context,options);}
 });instance.registerHelper('each',function(context,options) {if (!options) {throw new Exception('Must pass iterator to #each');}
 var fn =options.fn,inverse =options.inverse;var i =0,ret ="",data;var contextPath;if (options.data &&options.ids) {contextPath =Utils.appendContextPath(options.data.contextPath,options.ids[0]) + '.';}
 if (isFunction(context)) {context =context.call(this);}
 if (options.data) {data =createFrame(options.data);}
 if(context &&typeof context ==='object') {if (isArray(context)) {for(var j =context.length;i<j;i++) {if (data) {data.index =i;data.first =(i ===0);data.last =(i ===(context.length-1));if (contextPath) {data.contextPath =contextPath + i;}
 }
 ret =ret + fn(context[i],{data:data });}
 } else {for(var key in context) {if(context.hasOwnProperty(key)) {if(data) {data.key =key;data.index =i;data.first =(i ===0);if (contextPath) {data.contextPath =contextPath + key;}
 }
 ret =ret + fn(context[key],{data:data});i++;}
 }
 }
 }
 if(i ===0){ret =inverse(this);}
 return ret;});instance.registerHelper('if',function(conditional,options) {if (isFunction(conditional)) {conditional =conditional.call(this);}
 if ((!options.hash.includeZero &&!conditional) ||Utils.isEmpty(conditional)) {return options.inverse(this);} else {return options.fn(this);}
 });instance.registerHelper('unless',function(conditional,options) {return instance.helpers['if'].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash});});instance.registerHelper('with',function(context,options) {if (isFunction(context)) {context =context.call(this);}
 var fn =options.fn;if (!Utils.isEmpty(context)) {if (options.data &&options.ids) {var data =createFrame(options.data);data.contextPath =Utils.appendContextPath(options.data.contextPath,options.ids[0]);options ={data:data};}
 return fn(context,options);} else {return options.inverse(this);}
 });instance.registerHelper('log',function(message,options) {var level =options.data &&options.data.level !=null ?parseInt(options.data.level,10) :1;instance.log(level,message);});instance.registerHelper('lookup',function(obj,field) {return obj &&obj[field];});}
 var logger ={methodMap:{0:'debug',1:'info',2:'warn',3:'error'},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,message) {if (logger.level <=level) {var method =logger.methodMap[level];if (typeof console !=='undefined'&&console[method]) {console[method].call(console,message);}
 }
 }
 };__exports__.logger =logger;var log =logger.log;__exports__.log =log;var createFrame =function(object) {var frame =Utils.extend({},object);frame._parent =object;return frame;};__exports__.createFrame =createFrame;return __exports__;})(__module3__,__module5__);var __module6__ =(function(__dependency1__,__dependency2__,__dependency3__) {"use strict";var __exports__ ={};var Utils =__dependency1__;var Exception =__dependency2__;var COMPILER_REVISION =__dependency3__.COMPILER_REVISION;var REVISION_CHANGES =__dependency3__.REVISION_CHANGES;var createFrame =__dependency3__.createFrame;function checkRevision(compilerInfo) {var compilerRevision =compilerInfo &&compilerInfo[0] ||1,currentRevision =COMPILER_REVISION;if (compilerRevision !==currentRevision) {if (compilerRevision < currentRevision) {var runtimeVersions =REVISION_CHANGES[currentRevision],compilerVersions =REVISION_CHANGES[compilerRevision];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. "+
 "Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").");} else {throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. "+
 "Please update your runtime to a newer version ("+compilerInfo[1]+").");}
 }
 }
 __exports__.checkRevision =checkRevision;function template(templateSpec,env) {if (!env) {throw new Exception("No environment passed to template");}
 if (!templateSpec ||!templateSpec.main) {throw new Exception('Unknown template object: '+ typeof templateSpec);}
 env.VM.checkRevision(templateSpec.compiler);var invokePartialWrapper =function(partial,indent,name,context,hash,helpers,partials,data,depths) {if (hash) {context =Utils.extend({},context,hash);}
 var result =env.VM.invokePartial.call(this,partial,name,context,helpers,partials,data,depths);if (result ==null &&env.compile) {var options ={helpers:helpers,partials:partials,data:data,depths:depths };partials[name] =env.compile(partial,{data:data !==undefined,compat:templateSpec.compat },env);result =partials[name](context,options);}
 if (result !=null) {if (indent) {var lines =result.split('\n');for (var i =0,l =lines.length;i < l;i++) {if (!lines[i] &&i + 1 ===l) {break;}
 lines[i] =indent + lines[i];}
 result =lines.join('\n');}
 return result;} else {throw new Exception("The partial "+ name + " could not be compiled when running in runtime-only mode");}
 };var container ={lookup:function(depths,name) {var len =depths.length;for (var i =0;i < len;i++) {if (depths[i] &&depths[i][name] !=null) {return depths[i][name];}
 }
 },lambda:function(current,context) {return typeof current ==='function'?current.call(context) :current;},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function(i) {return templateSpec[i];},programs:[],program:function(i,data,depths) {var programWrapper =this.programs[i],fn =this.fn(i);if (data ||depths) {programWrapper =program(this,i,fn,data,depths);} else if (!programWrapper) {programWrapper =this.programs[i] =program(this,i,fn);}
 return programWrapper;},data:function(data,depth) {while (data &&depth--) {data =data._parent;}
 return data;},merge:function(param,common) {var ret =param ||common;if (param &&common &&(param !==common)) {ret =Utils.extend({},common,param);}
 return ret;},noop:env.VM.noop,compilerInfo:templateSpec.compiler
 };var ret =function(context,options) {options =options ||{};var data =options.data;ret._setup(options);if (!options.partial &&templateSpec.useData) {data =initData(context,data);}
 var depths;if (templateSpec.useDepths) {depths =options.depths ?[context].concat(options.depths) :[context];}
 return templateSpec.main.call(container,context,container.helpers,container.partials,data,depths);};ret.isTop =true;ret._setup =function(options) {if (!options.partial) {container.helpers =container.merge(options.helpers,env.helpers);if (templateSpec.usePartial) {container.partials =container.merge(options.partials,env.partials);}
 } else {container.helpers =options.helpers;container.partials =options.partials;}
 };ret._child =function(i,data,depths) {if (templateSpec.useDepths &&!depths) {throw new Exception('must pass parent depths');}
 return program(container,i,templateSpec[i],data,depths);};return ret;}
 __exports__.template =template;function program(container,i,fn,data,depths) {var prog =function(context,options) {options =options ||{};return fn.call(container,context,container.helpers,container.partials,options.data ||data,depths &&[context].concat(depths));};prog.program =i;prog.depth =depths ?depths.length :0;return prog;}
 __exports__.program =program;function invokePartial(partial,name,context,helpers,partials,data,depths) {var options ={partial:true,helpers:helpers,partials:partials,data:data,depths:depths };if(partial ===undefined) {throw new Exception("The partial "+ name + " could not be found");} else if(partial instanceof Function) {return partial(context,options);}
 }
 __exports__.invokePartial =invokePartial;function noop() {return "";}
 __exports__.noop =noop;function initData(context,data) {if (!data ||!('root'in data)) {data =data ?createFrame(data) :{};data.root =context;}
 return data;}
 return __exports__;})(__module3__,__module5__,__module2__);var __module1__ =(function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__) {"use strict";var __exports__;var base =__dependency1__;var SafeString =__dependency2__;var Exception =__dependency3__;var Utils =__dependency4__;var runtime =__dependency5__;var create =function() {var hb =new base.HandlebarsEnvironment();Utils.extend(hb,base);hb.SafeString =SafeString;hb.Exception =Exception;hb.Utils =Utils;hb.escapeExpression =Utils.escapeExpression;hb.VM =runtime;hb.template =function(spec) {return runtime.template(spec,hb);};return hb;};var Handlebars =create();Handlebars.create =create;Handlebars['default'] =Handlebars;__exports__ =Handlebars;return __exports__;})(__module2__,__module4__,__module5__,__module3__,__module6__);var __module7__ =(function(__dependency1__) {"use strict";var __exports__;var Exception =__dependency1__;function LocationInfo(locInfo) {locInfo =locInfo ||{};this.firstLine =locInfo.first_line;this.firstColumn =locInfo.first_column;this.lastColumn =locInfo.last_column;this.lastLine =locInfo.last_line;}
 var AST ={ProgramNode:function(statements,strip,locInfo) {LocationInfo.call(this,locInfo);this.type ="program";this.statements =statements;this.strip =strip;},MustacheNode:function(rawParams,hash,open,strip,locInfo) {LocationInfo.call(this,locInfo);this.type ="mustache";this.strip =strip;if (open !=null &&open.charAt) {var escapeFlag =open.charAt(3) ||open.charAt(2);this.escaped =escapeFlag !=='{'&&escapeFlag !=='&';} else {this.escaped =!!open;}
 if (rawParams instanceof AST.SexprNode) {this.sexpr =rawParams;} else {this.sexpr =new AST.SexprNode(rawParams,hash);}
 this.id =this.sexpr.id;this.params =this.sexpr.params;this.hash =this.sexpr.hash;this.eligibleHelper =this.sexpr.eligibleHelper;this.isHelper =this.sexpr.isHelper;},SexprNode:function(rawParams,hash,locInfo) {LocationInfo.call(this,locInfo);this.type ="sexpr";this.hash =hash;var id =this.id =rawParams[0];var params =this.params =rawParams.slice(1);this.isHelper =!!(params.length ||hash);this.eligibleHelper =this.isHelper ||id.isSimple;},PartialNode:function(partialName,context,hash,strip,locInfo) {LocationInfo.call(this,locInfo);this.type ="partial";this.partialName =partialName;this.context =context;this.hash =hash;this.strip =strip;this.strip.inlineStandalone =true;},BlockNode:function(mustache,program,inverse,strip,locInfo) {LocationInfo.call(this,locInfo);this.type ='block';this.mustache =mustache;this.program =program;this.inverse =inverse;this.strip =strip;if (inverse &&!program) {this.isInverse =true;}
 },RawBlockNode:function(mustache,content,close,locInfo) {LocationInfo.call(this,locInfo);if (mustache.sexpr.id.original !==close) {throw new Exception(mustache.sexpr.id.original + " doesn't match "+ close,this);}
 content =new AST.ContentNode(content,locInfo);this.type ='block';this.mustache =mustache;this.program =new AST.ProgramNode([content],{},locInfo);},ContentNode:function(string,locInfo) {LocationInfo.call(this,locInfo);this.type ="content";this.original =this.string =string;},HashNode:function(pairs,locInfo) {LocationInfo.call(this,locInfo);this.type ="hash";this.pairs =pairs;},IdNode:function(parts,locInfo) {LocationInfo.call(this,locInfo);this.type ="ID";var original ="",dig =[],depth =0,depthString ='';for(var i=0,l=parts.length;i<l;i++) {var part =parts[i].part;original +=(parts[i].separator ||'') + part;if (part ===".."||part ==="."||part ==="this") {if (dig.length > 0) {throw new Exception("Invalid path: "+ original,this);} else if (part ==="..") {depth++;depthString +='../';} else {this.isScoped =true;}
 } else {dig.push(part);}
 }
 this.original =original;this.parts =dig;this.string =dig.join('.');this.depth =depth;this.idName =depthString + this.string;this.isSimple =parts.length ===1 &&!this.isScoped &&depth ===0;this.stringModeValue =this.string;},PartialNameNode:function(name,locInfo) {LocationInfo.call(this,locInfo);this.type ="PARTIAL_NAME";this.name =name.original;},DataNode:function(id,locInfo) {LocationInfo.call(this,locInfo);this.type ="DATA";this.id =id;this.stringModeValue =id.stringModeValue;this.idName ='@'+ id.stringModeValue;},StringNode:function(string,locInfo) {LocationInfo.call(this,locInfo);this.type ="STRING";this.original =this.string =this.stringModeValue =string;},NumberNode:function(number,locInfo) {LocationInfo.call(this,locInfo);this.type ="NUMBER";this.original =this.number =number;this.stringModeValue =Number(number);},BooleanNode:function(bool,locInfo) {LocationInfo.call(this,locInfo);this.type ="BOOLEAN";this.bool =bool;this.stringModeValue =bool ==="true";},CommentNode:function(comment,locInfo) {LocationInfo.call(this,locInfo);this.type ="comment";this.comment =comment;this.strip ={inlineStandalone:true
 };}
 };__exports__ =AST;return __exports__;})(__module5__);var __module9__ =(function() {"use strict";var __exports__;var handlebars =(function(){var parser ={trace:function trace() {},yy:{},symbols_:{"error":2,"root":3,"program":4,"EOF":5,"program_repetition0":6,"statement":7,"mustache":8,"block":9,"rawBlock":10,"partial":11,"CONTENT":12,"COMMENT":13,"openRawBlock":14,"END_RAW_BLOCK":15,"OPEN_RAW_BLOCK":16,"sexpr":17,"CLOSE_RAW_BLOCK":18,"openBlock":19,"block_option0":20,"closeBlock":21,"openInverse":22,"block_option1":23,"OPEN_BLOCK":24,"CLOSE":25,"OPEN_INVERSE":26,"inverseAndProgram":27,"INVERSE":28,"OPEN_ENDBLOCK":29,"path":30,"OPEN":31,"OPEN_UNESCAPED":32,"CLOSE_UNESCAPED":33,"OPEN_PARTIAL":34,"partialName":35,"param":36,"partial_option0":37,"partial_option1":38,"sexpr_repetition0":39,"sexpr_option0":40,"dataName":41,"STRING":42,"NUMBER":43,"BOOLEAN":44,"OPEN_SEXPR":45,"CLOSE_SEXPR":46,"hash":47,"hash_repetition_plus0":48,"hashSegment":49,"ID":50,"EQUALS":51,"DATA":52,"pathSegments":53,"SEP":54,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",12:"CONTENT",13:"COMMENT",15:"END_RAW_BLOCK",16:"OPEN_RAW_BLOCK",18:"CLOSE_RAW_BLOCK",24:"OPEN_BLOCK",25:"CLOSE",26:"OPEN_INVERSE",28:"INVERSE",29:"OPEN_ENDBLOCK",31:"OPEN",32:"OPEN_UNESCAPED",33:"CLOSE_UNESCAPED",34:"OPEN_PARTIAL",42:"STRING",43:"NUMBER",44:"BOOLEAN",45:"OPEN_SEXPR",46:"CLOSE_SEXPR",50:"ID",51:"EQUALS",52:"DATA",54:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[10,3],[14,3],[9,4],[9,4],[19,3],[22,3],[27,2],[21,3],[8,3],[8,3],[11,5],[11,4],[17,3],[17,1],[36,1],[36,1],[36,1],[36,1],[36,1],[36,3],[47,1],[49,3],[35,1],[35,1],[35,1],[41,2],[30,1],[53,3],[53,1],[6,0],[6,2],[20,0],[20,1],[23,0],[23,1],[37,0],[37,1],[38,0],[38,1],[39,0],[39,2],[40,0],[40,1],[48,1],[48,2]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$) {var $0 =$$.length - 1;switch (yystate) {case 1:yy.prepareProgram($$[$0-1].statements,true);return $$[$0-1];break;case 2:this.$ =new yy.ProgramNode(yy.prepareProgram($$[$0]),{},this._$);break;case 3:this.$ =$$[$0];break;case 4:this.$ =$$[$0];break;case 5:this.$ =$$[$0];break;case 6:this.$ =$$[$0];break;case 7:this.$ =new yy.ContentNode($$[$0],this._$);break;case 8:this.$ =new yy.CommentNode($$[$0],this._$);break;case 9:this.$ =new yy.RawBlockNode($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 10:this.$ =new yy.MustacheNode($$[$0-1],null,'','',this._$);break;case 11:this.$ =yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],false,this._$);break;case 12:this.$ =yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],true,this._$);break;case 13:this.$ =new yy.MustacheNode($$[$0-1],null,$$[$0-2],yy.stripFlags($$[$0-2],$$[$0]),this._$);break;case 14:this.$ =new yy.MustacheNode($$[$0-1],null,$$[$0-2],yy.stripFlags($$[$0-2],$$[$0]),this._$);break;case 15:this.$ ={strip:yy.stripFlags($$[$0-1],$$[$0-1]),program:$$[$0] };break;case 16:this.$ ={path:$$[$0-1],strip:yy.stripFlags($$[$0-2],$$[$0])};break;case 17:this.$ =new yy.MustacheNode($$[$0-1],null,$$[$0-2],yy.stripFlags($$[$0-2],$$[$0]),this._$);break;case 18:this.$ =new yy.MustacheNode($$[$0-1],null,$$[$0-2],yy.stripFlags($$[$0-2],$$[$0]),this._$);break;case 19:this.$ =new yy.PartialNode($$[$0-3],$$[$0-2],$$[$0-1],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 20:this.$ =new yy.PartialNode($$[$0-2],undefined,$$[$0-1],yy.stripFlags($$[$0-3],$$[$0]),this._$);break;case 21:this.$ =new yy.SexprNode([$$[$0-2]].concat($$[$0-1]),$$[$0],this._$);break;case 22:this.$ =new yy.SexprNode([$$[$0]],null,this._$);break;case 23:this.$ =$$[$0];break;case 24:this.$ =new yy.StringNode($$[$0],this._$);break;case 25:this.$ =new yy.NumberNode($$[$0],this._$);break;case 26:this.$ =new yy.BooleanNode($$[$0],this._$);break;case 27:this.$ =$$[$0];break;case 28:$$[$0-1].isHelper =true;this.$ =$$[$0-1];break;case 29:this.$ =new yy.HashNode($$[$0],this._$);break;case 30:this.$ =[$$[$0-2],$$[$0]];break;case 31:this.$ =new yy.PartialNameNode($$[$0],this._$);break;case 32:this.$ =new yy.PartialNameNode(new yy.StringNode($$[$0],this._$),this._$);break;case 33:this.$ =new yy.PartialNameNode(new yy.NumberNode($$[$0],this._$));break;case 34:this.$ =new yy.DataNode($$[$0],this._$);break;case 35:this.$ =new yy.IdNode($$[$0],this._$);break;case 36:$$[$0-2].push({part:$$[$0],separator:$$[$0-1]});this.$ =$$[$0-2];break;case 37:this.$ =[{part:$$[$0]}];break;case 38:this.$ =[];break;case 39:$$[$0-1].push($$[$0]);break;case 48:this.$ =[];break;case 49:$$[$0-1].push($$[$0]);break;case 52:this.$ =[$$[$0]];break;case 53:$$[$0-1].push($$[$0]);break;}
 },table:[{3:1,4:2,5:[2,38],6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],31:[2,38],32:[2,38],34:[2,38]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:[1,10],13:[1,11],14:16,16:[1,20],19:14,22:15,24:[1,18],26:[1,19],28:[2,2],29:[2,2],31:[1,12],32:[1,13],34:[1,17]},{1:[2,1]},{5:[2,39],12:[2,39],13:[2,39],16:[2,39],24:[2,39],26:[2,39],28:[2,39],29:[2,39],31:[2,39],32:[2,39],34:[2,39]},{5:[2,3],12:[2,3],13:[2,3],16:[2,3],24:[2,3],26:[2,3],28:[2,3],29:[2,3],31:[2,3],32:[2,3],34:[2,3]},{5:[2,4],12:[2,4],13:[2,4],16:[2,4],24:[2,4],26:[2,4],28:[2,4],29:[2,4],31:[2,4],32:[2,4],34:[2,4]},{5:[2,5],12:[2,5],13:[2,5],16:[2,5],24:[2,5],26:[2,5],28:[2,5],29:[2,5],31:[2,5],32:[2,5],34:[2,5]},{5:[2,6],12:[2,6],13:[2,6],16:[2,6],24:[2,6],26:[2,6],28:[2,6],29:[2,6],31:[2,6],32:[2,6],34:[2,6]},{5:[2,7],12:[2,7],13:[2,7],16:[2,7],24:[2,7],26:[2,7],28:[2,7],29:[2,7],31:[2,7],32:[2,7],34:[2,7]},{5:[2,8],12:[2,8],13:[2,8],16:[2,8],24:[2,8],26:[2,8],28:[2,8],29:[2,8],31:[2,8],32:[2,8],34:[2,8]},{17:21,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:27,30:22,41:23,50:[1,26],52:[1,25],53:24},{4:28,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{4:29,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{12:[1,30]},{30:32,35:31,42:[1,33],43:[1,34],50:[1,26],53:24},{17:35,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:36,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:37,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[1,38]},{18:[2,48],25:[2,48],33:[2,48],39:39,42:[2,48],43:[2,48],44:[2,48],45:[2,48],46:[2,48],50:[2,48],52:[2,48]},{18:[2,22],25:[2,22],33:[2,22],46:[2,22]},{18:[2,35],25:[2,35],33:[2,35],42:[2,35],43:[2,35],44:[2,35],45:[2,35],46:[2,35],50:[2,35],52:[2,35],54:[1,40]},{30:41,50:[1,26],53:24},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],52:[2,37],54:[2,37]},{33:[1,42]},{20:43,27:44,28:[1,45],29:[2,40]},{23:46,27:47,28:[1,45],29:[2,42]},{15:[1,48]},{25:[2,46],30:51,36:49,38:50,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],47:57,48:58,49:60,50:[1,59],52:[1,25],53:24},{25:[2,31],42:[2,31],43:[2,31],44:[2,31],45:[2,31],50:[2,31],52:[2,31]},{25:[2,32],42:[2,32],43:[2,32],44:[2,32],45:[2,32],50:[2,32],52:[2,32]},{25:[2,33],42:[2,33],43:[2,33],44:[2,33],45:[2,33],50:[2,33],52:[2,33]},{25:[1,61]},{25:[1,62]},{18:[1,63]},{5:[2,17],12:[2,17],13:[2,17],16:[2,17],24:[2,17],26:[2,17],28:[2,17],29:[2,17],31:[2,17],32:[2,17],34:[2,17]},{18:[2,50],25:[2,50],30:51,33:[2,50],36:65,40:64,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],46:[2,50],47:66,48:58,49:60,50:[1,59],52:[1,25],53:24},{50:[1,67]},{18:[2,34],25:[2,34],33:[2,34],42:[2,34],43:[2,34],44:[2,34],45:[2,34],46:[2,34],50:[2,34],52:[2,34]},{5:[2,18],12:[2,18],13:[2,18],16:[2,18],24:[2,18],26:[2,18],28:[2,18],29:[2,18],31:[2,18],32:[2,18],34:[2,18]},{21:68,29:[1,69]},{29:[2,41]},{4:70,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{21:71,29:[1,69]},{29:[2,43]},{5:[2,9],12:[2,9],13:[2,9],16:[2,9],24:[2,9],26:[2,9],28:[2,9],29:[2,9],31:[2,9],32:[2,9],34:[2,9]},{25:[2,44],37:72,47:73,48:58,49:60,50:[1,74]},{25:[1,75]},{18:[2,23],25:[2,23],33:[2,23],42:[2,23],43:[2,23],44:[2,23],45:[2,23],46:[2,23],50:[2,23],52:[2,23]},{18:[2,24],25:[2,24],33:[2,24],42:[2,24],43:[2,24],44:[2,24],45:[2,24],46:[2,24],50:[2,24],52:[2,24]},{18:[2,25],25:[2,25],33:[2,25],42:[2,25],43:[2,25],44:[2,25],45:[2,25],46:[2,25],50:[2,25],52:[2,25]},{18:[2,26],25:[2,26],33:[2,26],42:[2,26],43:[2,26],44:[2,26],45:[2,26],46:[2,26],50:[2,26],52:[2,26]},{18:[2,27],25:[2,27],33:[2,27],42:[2,27],43:[2,27],44:[2,27],45:[2,27],46:[2,27],50:[2,27],52:[2,27]},{17:76,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[2,47]},{18:[2,29],25:[2,29],33:[2,29],46:[2,29],49:77,50:[1,74]},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],51:[1,78],52:[2,37],54:[2,37]},{18:[2,52],25:[2,52],33:[2,52],46:[2,52],50:[2,52]},{12:[2,13],13:[2,13],16:[2,13],24:[2,13],26:[2,13],28:[2,13],29:[2,13],31:[2,13],32:[2,13],34:[2,13]},{12:[2,14],13:[2,14],16:[2,14],24:[2,14],26:[2,14],28:[2,14],29:[2,14],31:[2,14],32:[2,14],34:[2,14]},{12:[2,10]},{18:[2,21],25:[2,21],33:[2,21],46:[2,21]},{18:[2,49],25:[2,49],33:[2,49],42:[2,49],43:[2,49],44:[2,49],45:[2,49],46:[2,49],50:[2,49],52:[2,49]},{18:[2,51],25:[2,51],33:[2,51],46:[2,51]},{18:[2,36],25:[2,36],33:[2,36],42:[2,36],43:[2,36],44:[2,36],45:[2,36],46:[2,36],50:[2,36],52:[2,36],54:[2,36]},{5:[2,11],12:[2,11],13:[2,11],16:[2,11],24:[2,11],26:[2,11],28:[2,11],29:[2,11],31:[2,11],32:[2,11],34:[2,11]},{30:79,50:[1,26],53:24},{29:[2,15]},{5:[2,12],12:[2,12],13:[2,12],16:[2,12],24:[2,12],26:[2,12],28:[2,12],29:[2,12],31:[2,12],32:[2,12],34:[2,12]},{25:[1,80]},{25:[2,45]},{51:[1,78]},{5:[2,20],12:[2,20],13:[2,20],16:[2,20],24:[2,20],26:[2,20],28:[2,20],29:[2,20],31:[2,20],32:[2,20],34:[2,20]},{46:[1,81]},{18:[2,53],25:[2,53],33:[2,53],46:[2,53],50:[2,53]},{30:51,36:82,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],50:[1,26],52:[1,25],53:24},{25:[1,83]},{5:[2,19],12:[2,19],13:[2,19],16:[2,19],24:[2,19],26:[2,19],28:[2,19],29:[2,19],31:[2,19],32:[2,19],34:[2,19]},{18:[2,28],25:[2,28],33:[2,28],42:[2,28],43:[2,28],44:[2,28],45:[2,28],46:[2,28],50:[2,28],52:[2,28]},{18:[2,30],25:[2,30],33:[2,30],46:[2,30],50:[2,30]},{5:[2,16],12:[2,16],13:[2,16],16:[2,16],24:[2,16],26:[2,16],28:[2,16],29:[2,16],31:[2,16],32:[2,16],34:[2,16]}],defaultActions:{4:[2,1],44:[2,41],47:[2,43],57:[2,47],63:[2,10],70:[2,15],73:[2,45]},parseError:function parseError(str,hash) {throw new Error(str);},parse:function parse(input) {var self =this,stack =[0],vstack =[null],lstack =[],table =this.table,yytext ="",yylineno =0,yyleng =0,recovering =0,TERROR =2,EOF =1;this.lexer.setInput(input);this.lexer.yy =this.yy;this.yy.lexer =this.lexer;this.yy.parser =this;if (typeof this.lexer.yylloc =="undefined")
 this.lexer.yylloc ={};var yyloc =this.lexer.yylloc;lstack.push(yyloc);var ranges =this.lexer.options &&this.lexer.options.ranges;if (typeof this.yy.parseError ==="function")
 this.parseError =this.yy.parseError;function popStack(n) {stack.length =stack.length - 2 * n;vstack.length =vstack.length - n;lstack.length =lstack.length - n;}
 function lex() {var token;token =self.lexer.lex() ||1;if (typeof token !=="number") {token =self.symbols_[token] ||token;}
 return token;}
 var symbol,preErrorSymbol,state,action,a,r,yyval ={},p,len,newState,expected;while (true) {state =stack[stack.length - 1];if (this.defaultActions[state]) {action =this.defaultActions[state];} else {if (symbol ===null ||typeof symbol =="undefined") {symbol =lex();}
 action =table[state] &&table[state][symbol];}
 if (typeof action ==="undefined"||!action.length ||!action[0]) {var errStr ="";if (!recovering) {expected =[];for (p in table[state])
 if (this.terminals_[p] &&p > 2) {expected.push("'"+ this.terminals_[p] + "'");}
 if (this.lexer.showPosition) {errStr ="Parse error on line "+ (yylineno + 1) + ":\n"+ this.lexer.showPosition() + "\nExpecting "+ expected.join(", ") + ", got '"+ (this.terminals_[symbol] ||symbol) + "'";} else {errStr ="Parse error on line "+ (yylineno + 1) + ": Unexpected "+ (symbol ==1?"end of input":"'"+ (this.terminals_[symbol] ||symbol) + "'");}
 this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol] ||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected});}
 }
 if (action[0] instanceof Array &&action.length > 1) {throw new Error("Parse Error: multiple actions possible at state: "+ state + ", token: "+ symbol);}
 switch (action[0]) {case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol =null;if (!preErrorSymbol) {yyleng =this.lexer.yyleng;yytext =this.lexer.yytext;yylineno =this.lexer.yylineno;yyloc =this.lexer.yylloc;if (recovering > 0)
 recovering--;} else {symbol =preErrorSymbol;preErrorSymbol =null;}
 break;case 2:len =this.productions_[action[1]][1];yyval.$ =vstack[vstack.length - len];yyval._$ ={first_line:lstack[lstack.length - (len ||1)].first_line,last_line:lstack[lstack.length - 1].last_line,first_column:lstack[lstack.length - (len ||1)].first_column,last_column:lstack[lstack.length - 1].last_column};if (ranges) {yyval._$.range =[lstack[lstack.length - (len ||1)].range[0],lstack[lstack.length - 1].range[1]];}
 r =this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if (typeof r !=="undefined") {return r;}
 if (len) {stack =stack.slice(0,-1 * len * 2);vstack =vstack.slice(0,-1 * len);lstack =lstack.slice(0,-1 * len);}
 stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState =table[stack[stack.length - 2]][stack[stack.length - 1]];stack.push(newState);break;case 3:return true;}
 }
 return true;}
 };var lexer =(function(){var lexer =({EOF:1,parseError:function parseError(str,hash) {if (this.yy.parser) {this.yy.parser.parseError(str,hash);} else {throw new Error(str);}
 },setInput:function (input) {this._input =input;this._more =this._less =this.done =false;this.yylineno =this.yyleng =0;this.yytext =this.matched =this.match ='';this.conditionStack =['INITIAL'];this.yylloc ={first_line:1,first_column:0,last_line:1,last_column:0};if (this.options.ranges) this.yylloc.range =[0,0];this.offset =0;return this;},input:function () {var ch =this._input[0];this.yytext +=ch;this.yyleng++;this.offset++;this.match +=ch;this.matched +=ch;var lines =ch.match(/(?:\r\n?|\n).*/g);
 if (lines) {this.yylineno++;this.yylloc.last_line++;} else {this.yylloc.last_column++;}
 if (this.options.ranges) this.yylloc.range[1]++;this._input =this._input.slice(1);return ch;},unput:function (ch) {var len =ch.length;var lines =ch.split(/(?:\r\n?|\n)/g);

 this._input =ch + this._input;this.yytext =this.yytext.substr(0,this.yytext.length-len-1);this.offset -=len;var oldLines =this.match.split(/(?:\r\n?|\n)/g);
 this.match =this.match.substr(0,this.match.length-1);this.matched =this.matched.substr(0,this.matched.length-1);if (lines.length-1) this.yylineno -=lines.length-1;var r =this.yylloc.range;this.yylloc ={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines ?(lines.length ===oldLines.length ?this.yylloc.first_column :0) + oldLines[oldLines.length - lines.length].length - lines[0].length:this.yylloc.first_column - len
 };if (this.options.ranges) {this.yylloc.range =[r[0],r[0] + this.yyleng - len];}
 return this;},more:function () {this._more =true;return this;},less:function (n) {this.unput(this.match.slice(n));},pastInput:function () {var past =this.matched.substr(0,this.matched.length - this.match.length);return (past.length > 20 ?'...':'') + past.substr(-20).replace(/\n/g, "");
 },upcomingInput:function () {var next =this.match;if (next.length < 20) {next +=this._input.substr(0,20-next.length);}
 return (next.substr(0,20)+(next.length > 20 ?'...':'')).replace(/\n/g, "");
 },showPosition:function () {var pre =this.pastInput();var c =new Array(pre.length + 1).join("-");return pre + this.upcomingInput() + "\n"+ c+"^";},next:function () {if (this.done) {return this.EOF;}
 if (!this._input) this.done =true;var token,match,tempMatch,index,col,lines;if (!this._more) {this.yytext ='';this.match ='';}
 var rules =this._currentRules();for (var i=0;i < rules.length;i++) {tempMatch =this._input.match(this.rules[rules[i]]);if (tempMatch &&(!match ||tempMatch[0].length > match[0].length)) {match =tempMatch;index =i;if (!this.options.flex) break;}
 }
 if (match) {lines =match[0].match(/(?:\r\n?|\n).*/g);
 if (lines) this.yylineno +=lines.length;this.yylloc ={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines ?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length};
 this.yytext +=match[0];this.match +=match[0];this.matches =match;this.yyleng =this.yytext.length;if (this.options.ranges) {this.yylloc.range =[this.offset,this.offset +=this.yyleng];}
 this._more =false;this._input =this._input.slice(match[0].length);this.matched +=match[0];token =this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if (this.done &&this._input) this.done =false;if (token) return token;else return;}
 if (this._input ==="") {return this.EOF;} else {return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:"",token:null,line:this.yylineno});}
 },lex:function lex() {var r =this.next();if (typeof r !=='undefined') {return r;} else {return this.lex();}
 },begin:function begin(condition) {this.conditionStack.push(condition);},popState:function popState() {return this.conditionStack.pop();},_currentRules:function _currentRules() {return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;},topState:function () {return this.conditionStack[this.conditionStack.length-2];},pushState:function begin(condition) {this.begin(condition);}});lexer.options ={};lexer.performAction =function anonymous(yy,yy_,$avoiding_name_collisions,YY_START) {function strip(start,end) {return yy_.yytext =yy_.yytext.substr(start,yy_.yyleng-end);}
 var YYSTATE=YY_START
 switch($avoiding_name_collisions) {case 0:if(yy_.yytext.slice(-2) ==="\\\\") {strip(0,1);this.begin("mu");} else if(yy_.yytext.slice(-1) ==="\\") {strip(0,1);this.begin("emu");} else {this.begin("mu");}
 if(yy_.yytext) return 12;break;case 1:return 12;break;case 2:this.popState();return 12;break;case 3:yy_.yytext =yy_.yytext.substr(5,yy_.yyleng-9);this.popState();return 15;break;case 4:return 12;break;case 5:strip(0,4);this.popState();return 13;break;case 6:return 45;break;case 7:return 46;break;case 8:return 16;break;case 9:this.popState();this.begin('raw');return 18;break;case 10:return 34;break;case 11:return 24;break;case 12:return 29;break;case 13:this.popState();return 28;break;case 14:this.popState();return 28;break;case 15:return 26;break;case 16:return 26;break;case 17:return 32;break;case 18:return 31;break;case 19:this.popState();this.begin('com');break;case 20:strip(3,5);this.popState();return 13;break;case 21:return 31;break;case 22:return 51;break;case 23:return 50;break;case 24:return 50;break;case 25:return 54;break;case 26:break;case 27:this.popState();return 33;break;case 28:this.popState();return 25;break;case 29:yy_.yytext =strip(1,2).replace(/\\"/g,'"'); return 42;
 break;case 30:yy_.yytext =strip(1,2).replace(/\\'/g,"'"); return 42;
 break;case 31:return 52;break;case 32:return 44;break;case 33:return 44;break;case 34:return 43;break;case 35:return 50;break;case 36:yy_.yytext =strip(1,2);return 50;break;case 37:return 'INVALID';break;case 38:return 5;break;}
 };lexer.rules =[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/];
 lexer.conditions ={"mu":{"rules":[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],"inclusive":false},"emu":{"rules":[2],"inclusive":false},"com":{"rules":[5],"inclusive":false},"raw":{"rules":[3,4],"inclusive":false},"INITIAL":{"rules":[0,1,38],"inclusive":true}};return lexer;})()
 parser.lexer =lexer;function Parser () {this.yy ={};}Parser.prototype =parser;parser.Parser =Parser;return new Parser;})();__exports__ =handlebars;return __exports__;})();var __module10__ =(function(__dependency1__) {"use strict";var __exports__ ={};var Exception =__dependency1__;function stripFlags(open,close) {return {left:open.charAt(2) ==='~',right:close.charAt(close.length-3) ==='~'};}
 __exports__.stripFlags =stripFlags;function prepareBlock(mustache,program,inverseAndProgram,close,inverted,locInfo) {if (mustache.sexpr.id.original !==close.path.original) {throw new Exception(mustache.sexpr.id.original + ' doesn\'t match ' + close.path.original, mustache);
    }

    var inverse = inverseAndProgram && inverseAndProgram.program;

    var strip = {
      left: mustache.strip.left,
      right: close.strip.right,

      // Determine the standalone candiacy. Basically flag our content as being possibly standalone
      // so our parent can determine if we actually are standalone
      openStandalone: isNextWhitespace(program.statements),
      closeStandalone: isPrevWhitespace((inverse || program).statements)
    };

    if (mustache.strip.right) {
      omitRight(program.statements, null, true);
    }

    if (inverse) {
      var inverseStrip = inverseAndProgram.strip;

      if (inverseStrip.left) {
        omitLeft(program.statements, null, true);
      }
      if (inverseStrip.right) {
        omitRight(inverse.statements, null, true);
      }
      if (close.strip.left) {
        omitLeft(inverse.statements, null, true);
      }

      // Find standalone else statments
      if (isPrevWhitespace(program.statements)
          && isNextWhitespace(inverse.statements)) {

        omitLeft(program.statements);
        omitRight(inverse.statements);
      }
    } else {
      if (close.strip.left) {
        omitLeft(program.statements, null, true);
      }
    }

    if (inverted) {
      return new this.BlockNode(mustache, inverse, program, strip, locInfo);
    } else {
      return new this.BlockNode(mustache, program, inverse, strip, locInfo);
    }
  }

  __exports__.prepareBlock = prepareBlock;
  function prepareProgram(statements, isRoot) {
    for (var i = 0, l = statements.length; i < l; i++) {
      var current = statements[i],
          strip = current.strip;

      if (!strip) {
        continue;
      }

      var _isPrevWhitespace = isPrevWhitespace(statements, i, isRoot, current.type === 'partial'),
          _isNextWhitespace = isNextWhitespace(statements, i, isRoot),

          openStandalone = strip.openStandalone && _isPrevWhitespace,
          closeStandalone = strip.closeStandalone && _isNextWhitespace,
          inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;

      if (strip.right) {
        omitRight(statements, i, true);
      }
      if (strip.left) {
        omitLeft(statements, i, true);
      }

      if (inlineStandalone) {
        omitRight(statements, i);

        if (omitLeft(statements, i)) {
          // If we are on a standalone node, save the indent info for partials
          if (current.type === 'partial') {
            current.indent = (/([ \t]+$)/).exec(statements[i-1].original) ? RegExp.$1 : '';
          }
        }
      }
      if (openStandalone) {
        omitRight((current.program || current.inverse).statements);

        // Strip out the previous content node if it's whitespace only
 omitLeft(statements,i);}
 if (closeStandalone) {omitRight(statements,i);omitLeft((current.inverse ||current.program).statements);}
 }
 return statements;}
 __exports__.prepareProgram =prepareProgram;function isPrevWhitespace(statements,i,isRoot) {if (i ===undefined) {i =statements.length;}
 var prev =statements[i-1],sibling =statements[i-2];if (!prev) {return isRoot;}
 if (prev.type ==='content') {return (sibling ||!isRoot ?(/\r?\n\s*?$/) : (/(^|\r?\n)\s*?$/)).test(prev.original);
 }
 }
 function isNextWhitespace(statements,i,isRoot) {if (i ===undefined) {i =-1;}
 var next =statements[i+1],sibling =statements[i+2];if (!next) {return isRoot;}
 if (next.type ==='content') {return (sibling ||!isRoot ?(/^\s*?\r?\n/) : (/^\s*?(\r?\n|$)/)).test(next.original);
 }
 }
 function omitRight(statements,i,multiple) {var current =statements[i ==null ?0 :i + 1];if (!current ||current.type !=='content'||(!multiple &&current.rightStripped)) {return;}
 var original =current.string;current.string =current.string.replace(multiple ?(/^\s+/) : (/^[ \t]*\r?\n?/), '');
 current.rightStripped =current.string !==original;}
 function omitLeft(statements,i,multiple) {var current =statements[i ==null ?statements.length - 1 :i - 1];if (!current ||current.type !=='content'||(!multiple &&current.leftStripped)) {return;}
 var original =current.string;current.string =current.string.replace(multiple ?(/\s+$/) : (/[ \t]+$/), '');
 current.leftStripped =current.string !==original;return current.leftStripped;}
 return __exports__;})(__module5__);var __module8__ =(function(__dependency1__,__dependency2__,__dependency3__,__dependency4__) {"use strict";var __exports__ ={};var parser =__dependency1__;var AST =__dependency2__;var Helpers =__dependency3__;var extend =__dependency4__.extend;__exports__.parser =parser;var yy ={};extend(yy,Helpers,AST);function parse(input) {if (input.constructor ===AST.ProgramNode) {return input;}
 parser.yy =yy;return parser.parse(input);}
 __exports__.parse =parse;return __exports__;})(__module9__,__module7__,__module10__,__module3__);var __module11__ =(function(__dependency1__,__dependency2__) {"use strict";var __exports__ ={};var Exception =__dependency1__;var isArray =__dependency2__.isArray;var slice =[].slice;function Compiler() {}
 __exports__.Compiler =Compiler;Compiler.prototype ={compiler:Compiler,equals:function(other) {var len =this.opcodes.length;if (other.opcodes.length !==len) {return false;}
 for (var i =0;i < len;i++) {var opcode =this.opcodes[i],otherOpcode =other.opcodes[i];if (opcode.opcode !==otherOpcode.opcode ||!argEquals(opcode.args,otherOpcode.args)) {return false;}
 }
 len =this.children.length;for (i =0;i < len;i++) {if (!this.children[i].equals(other.children[i])) {return false;}
 }
 return true;},guid:0,compile:function(program,options) {this.opcodes =[];this.children =[];this.depths ={list:[]};this.options =options;this.stringParams =options.stringParams;this.trackIds =options.trackIds;var knownHelpers =this.options.knownHelpers;this.options.knownHelpers ={'helperMissing':true,'blockHelperMissing':true,'each':true,'if':true,'unless':true,'with':true,'log':true,'lookup':true
 };if (knownHelpers) {for (var name in knownHelpers) {this.options.knownHelpers[name] =knownHelpers[name];}
 }
 return this.accept(program);},accept:function(node) {return this[node.type](node);},program:function(program) {var statements =program.statements;for(var i=0,l=statements.length;i<l;i++) {this.accept(statements[i]);}
 this.isSimple =l ===1;this.depths.list =this.depths.list.sort(function(a,b) {return a - b;});return this;},compileProgram:function(program) {var result =new this.compiler().compile(program,this.options);var guid =this.guid++,depth;this.usePartial =this.usePartial ||result.usePartial;this.children[guid] =result;for(var i=0,l=result.depths.list.length;i<l;i++) {depth =result.depths.list[i];if(depth < 2) {continue;}
 else {this.addDepth(depth - 1);}
 }
 return guid;},block:function(block) {var mustache =block.mustache,program =block.program,inverse =block.inverse;if (program) {program =this.compileProgram(program);}
 if (inverse) {inverse =this.compileProgram(inverse);}
 var sexpr =mustache.sexpr;var type =this.classifySexpr(sexpr);if (type ==="helper") {this.helperSexpr(sexpr,program,inverse);} else if (type ==="simple") {this.simpleSexpr(sexpr);this.opcode('pushProgram',program);this.opcode('pushProgram',inverse);this.opcode('emptyHash');this.opcode('blockValue',sexpr.id.original);} else {this.ambiguousSexpr(sexpr,program,inverse);this.opcode('pushProgram',program);this.opcode('pushProgram',inverse);this.opcode('emptyHash');this.opcode('ambiguousBlockValue');}
 this.opcode('append');},hash:function(hash) {var pairs =hash.pairs,i,l;this.opcode('pushHash');for(i=0,l=pairs.length;i<l;i++) {this.pushParam(pairs[i][1]);}
 while(i--) {this.opcode('assignToHash',pairs[i][0]);}
 this.opcode('popHash');},partial:function(partial) {var partialName =partial.partialName;this.usePartial =true;if (partial.hash) {this.accept(partial.hash);} else {this.opcode('push','undefined');}
 if (partial.context) {this.accept(partial.context);} else {this.opcode('getContext',0);this.opcode('pushContext');}
 this.opcode('invokePartial',partialName.name,partial.indent ||'');this.opcode('append');},content:function(content) {if (content.string) {this.opcode('appendContent',content.string);}
 },mustache:function(mustache) {this.sexpr(mustache.sexpr);if(mustache.escaped &&!this.options.noEscape) {this.opcode('appendEscaped');} else {this.opcode('append');}
 },ambiguousSexpr:function(sexpr,program,inverse) {var id =sexpr.id,name =id.parts[0],isBlock =program !=null ||inverse !=null;this.opcode('getContext',id.depth);this.opcode('pushProgram',program);this.opcode('pushProgram',inverse);this.ID(id);this.opcode('invokeAmbiguous',name,isBlock);},simpleSexpr:function(sexpr) {var id =sexpr.id;if (id.type ==='DATA') {this.DATA(id);} else if (id.parts.length) {this.ID(id);} else {this.addDepth(id.depth);this.opcode('getContext',id.depth);this.opcode('pushContext');}
 this.opcode('resolvePossibleLambda');},helperSexpr:function(sexpr,program,inverse) {var params =this.setupFullMustacheParams(sexpr,program,inverse),id =sexpr.id,name =id.parts[0];if (this.options.knownHelpers[name]) {this.opcode('invokeKnownHelper',params.length,name);} else if (this.options.knownHelpersOnly) {throw new Exception("You specified knownHelpersOnly, but used the unknown helper "+ name,sexpr);} else {id.falsy =true;this.ID(id);this.opcode('invokeHelper',params.length,id.original,id.isSimple);}
 },sexpr:function(sexpr) {var type =this.classifySexpr(sexpr);if (type ==="simple") {this.simpleSexpr(sexpr);} else if (type ==="helper") {this.helperSexpr(sexpr);} else {this.ambiguousSexpr(sexpr);}
 },ID:function(id) {this.addDepth(id.depth);this.opcode('getContext',id.depth);var name =id.parts[0];if (!name) {this.opcode('pushContext');} else {this.opcode('lookupOnContext',id.parts,id.falsy,id.isScoped);}
 },DATA:function(data) {this.options.data =true;this.opcode('lookupData',data.id.depth,data.id.parts);},STRING:function(string) {this.opcode('pushString',string.string);},NUMBER:function(number) {this.opcode('pushLiteral',number.number);},BOOLEAN:function(bool) {this.opcode('pushLiteral',bool.bool);},comment:function() {},opcode:function(name) {this.opcodes.push({opcode:name,args:slice.call(arguments,1) });},addDepth:function(depth) {if(depth ===0) {return;}
 if(!this.depths[depth]) {this.depths[depth] =true;this.depths.list.push(depth);}
 },classifySexpr:function(sexpr) {var isHelper =sexpr.isHelper;var isEligible =sexpr.eligibleHelper;var options =this.options;if (isEligible &&!isHelper) {var name =sexpr.id.parts[0];if (options.knownHelpers[name]) {isHelper =true;} else if (options.knownHelpersOnly) {isEligible =false;}
 }
 if (isHelper) {return "helper";}
 else if (isEligible) {return "ambiguous";}
 else {return "simple";}
 },pushParams:function(params) {for(var i=0,l=params.length;i<l;i++) {this.pushParam(params[i]);}
 },pushParam:function(val) {if (this.stringParams) {if(val.depth) {this.addDepth(val.depth);}
 this.opcode('getContext',val.depth ||0);this.opcode('pushStringParam',val.stringModeValue,val.type);if (val.type ==='sexpr') {this.sexpr(val);}
 } else {if (this.trackIds) {this.opcode('pushId',val.type,val.idName ||val.stringModeValue);}
 this.accept(val);}
 },setupFullMustacheParams:function(sexpr,program,inverse) {var params =sexpr.params;this.pushParams(params);this.opcode('pushProgram',program);this.opcode('pushProgram',inverse);if (sexpr.hash) {this.hash(sexpr.hash);} else {this.opcode('emptyHash');}
 return params;}
 };function precompile(input,options,env) {if (input ==null ||(typeof input !=='string'&&input.constructor !==env.AST.ProgramNode)) {throw new Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+ input);}
 options =options ||{};if (!('data'in options)) {options.data =true;}
 if (options.compat) {options.useDepths =true;}
 var ast =env.parse(input);var environment =new env.Compiler().compile(ast,options);return new env.JavaScriptCompiler().compile(environment,options);}
 __exports__.precompile =precompile;function compile(input,options,env) {if (input ==null ||(typeof input !=='string'&&input.constructor !==env.AST.ProgramNode)) {throw new Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+ input);}
 options =options ||{};if (!('data'in options)) {options.data =true;}
 if (options.compat) {options.useDepths =true;}
 var compiled;function compileInput() {var ast =env.parse(input);var environment =new env.Compiler().compile(ast,options);var templateSpec =new env.JavaScriptCompiler().compile(environment,options,undefined,true);return env.template(templateSpec);}
 var ret =function(context,options) {if (!compiled) {compiled =compileInput();}
 return compiled.call(this,context,options);};ret._setup =function(options) {if (!compiled) {compiled =compileInput();}
 return compiled._setup(options);};ret._child =function(i,data,depths) {if (!compiled) {compiled =compileInput();}
 return compiled._child(i,data,depths);};return ret;}
 __exports__.compile =compile;function argEquals(a,b) {if (a ===b) {return true;}
 if (isArray(a) &&isArray(b) &&a.length ===b.length) {for (var i =0;i < a.length;i++) {if (!argEquals(a[i],b[i])) {return false;}
 }
 return true;}
 }
 return __exports__;})(__module5__,__module3__);var __module12__ =(function(__dependency1__,__dependency2__) {"use strict";var __exports__;var COMPILER_REVISION =__dependency1__.COMPILER_REVISION;var REVISION_CHANGES =__dependency1__.REVISION_CHANGES;var Exception =__dependency2__;function Literal(value) {this.value =value;}
 function JavaScriptCompiler() {}
 JavaScriptCompiler.prototype ={nameLookup:function(parent,name ) {if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {return parent + "."+ name;} else {return parent + "['"+ name + "']";}
 },depthedLookup:function(name) {this.aliases.lookup ='this.lookup';return 'lookup(depths, "'+ name + '")';},compilerInfo:function() {var revision =COMPILER_REVISION,versions =REVISION_CHANGES[revision];return [revision,versions];},appendToBuffer:function(string) {if (this.environment.isSimple) {return "return "+ string + ";";} else {return {appendToBuffer:true,content:string,toString:function() {return "buffer += "+ string + ";";}
 };}
 },initializeBuffer:function() {return this.quotedString("");},namespace:"Handlebars",compile:function(environment,options,context,asObject) {this.environment =environment;this.options =options;this.stringParams =this.options.stringParams;this.trackIds =this.options.trackIds;this.precompile =!asObject;this.name =this.environment.name;this.isChild =!!context;this.context =context ||{programs:[],environments:[]
 };this.preamble();this.stackSlot =0;this.stackVars =[];this.aliases ={};this.registers ={list:[] };this.hashes =[];this.compileStack =[];this.inlineStack =[];this.compileChildren(environment,options);this.useDepths =this.useDepths ||environment.depths.list.length ||this.options.compat;var opcodes =environment.opcodes,opcode,i,l;for (i =0,l =opcodes.length;i < l;i++) {opcode =opcodes[i];this[opcode.opcode].apply(this,opcode.args);}
 this.pushSource('');if (this.stackSlot ||this.inlineStack.length ||this.compileStack.length) {throw new Exception('Compile completed with content left on stack');}
 var fn =this.createFunctionContext(asObject);if (!this.isChild) {var ret ={compiler:this.compilerInfo(),main:fn
 };var programs =this.context.programs;for (i =0,l =programs.length;i < l;i++) {if (programs[i]) {ret[i] =programs[i];}
 }
 if (this.environment.usePartial) {ret.usePartial =true;}
 if (this.options.data) {ret.useData =true;}
 if (this.useDepths) {ret.useDepths =true;}
 if (this.options.compat) {ret.compat =true;}
 if (!asObject) {ret.compiler =JSON.stringify(ret.compiler);ret =this.objectLiteral(ret);}
 return ret;} else {return fn;}
 },preamble:function() {this.lastContext =0;this.source =[];},createFunctionContext:function(asObject) {var varDeclarations ='';var locals =this.stackVars.concat(this.registers.list);if(locals.length > 0) {varDeclarations +=", "+ locals.join(", ");}
 for (var alias in this.aliases) {if (this.aliases.hasOwnProperty(alias)) {varDeclarations +=', '+ alias + '='+ this.aliases[alias];}
 }
 var params =["depth0","helpers","partials","data"];if (this.useDepths) {params.push('depths');}
 var source =this.mergeSource(varDeclarations);if (asObject) {params.push(source);return Function.apply(this,params);} else {return 'function('+ params.join(',') + ') {\n  '+ source + '}';}
 },mergeSource:function(varDeclarations) {var source ='',buffer,appendOnly =!this.forceBuffer,appendFirst;for (var i =0,len =this.source.length;i < len;i++) {var line =this.source[i];if (line.appendToBuffer) {if (buffer) {buffer =buffer + '\n    + '+ line.content;} else {buffer =line.content;}
 } else {if (buffer) {if (!source) {appendFirst =true;source =buffer + ';\n  ';} else {source +='buffer += '+ buffer + ';\n  ';}
 buffer =undefined;}
 source +=line + '\n  ';if (!this.environment.isSimple) {appendOnly =false;}
 }
 }
 if (appendOnly) {if (buffer ||!source) {source +='return '+ (buffer ||'""') + ';\n';}
 } else {varDeclarations +=", buffer = "+ (appendFirst ?'':this.initializeBuffer());if (buffer) {source +='return buffer + '+ buffer + ';\n';} else {source +='return buffer;\n';}
 }
 if (varDeclarations) {source ='var '+ varDeclarations.substring(2) + (appendFirst ?'':';\n  ') + source;}
 return source;},blockValue:function(name) {this.aliases.blockHelperMissing ='helpers.blockHelperMissing';var params =[this.contextName(0)];this.setupParams(name,0,params);var blockName =this.popStack();params.splice(1,0,blockName);this.push('blockHelperMissing.call('+ params.join(', ') + ')');},ambiguousBlockValue:function() {this.aliases.blockHelperMissing ='helpers.blockHelperMissing';var params =[this.contextName(0)];this.setupParams('',0,params,true);this.flushInline();var current =this.topStack();params.splice(1,0,current);this.pushSource("if (!"+ this.lastHelper + ") { "+ current + " = blockHelperMissing.call("+ params.join(", ") + "); }");},appendContent:function(content) {if (this.pendingContent) {content =this.pendingContent + content;}
 this.pendingContent =content;},append:function() {this.flushInline();var local =this.popStack();this.pushSource('if ('+ local + ' != null) { '+ this.appendToBuffer(local) + ' }');if (this.environment.isSimple) {this.pushSource("else { "+ this.appendToBuffer("''") + " }");}
 },appendEscaped:function() {this.aliases.escapeExpression ='this.escapeExpression';this.pushSource(this.appendToBuffer("escapeExpression("+ this.popStack() + ")"));},getContext:function(depth) {this.lastContext =depth;},pushContext:function() {this.pushStackLiteral(this.contextName(this.lastContext));},lookupOnContext:function(parts,falsy,scoped) {var i =0,len =parts.length;if (!scoped &&this.options.compat &&!this.lastContext) {this.push(this.depthedLookup(parts[i++]));} else {this.pushContext();}
 for (;i < len;i++) {this.replaceStack(function(current) {var lookup =this.nameLookup(current,parts[i],'context');if (!falsy) {return ' != null ? '+ lookup + ' : '+ current;} else {return ' && '+ lookup;}
 });}
 },lookupData:function(depth,parts) {if (!depth) {this.pushStackLiteral('data');} else {this.pushStackLiteral('this.data(data, '+ depth + ')');}
 var len =parts.length;for (var i =0;i < len;i++) {this.replaceStack(function(current) {return ' && '+ this.nameLookup(current,parts[i],'data');});}
 },resolvePossibleLambda:function() {this.aliases.lambda ='this.lambda';this.push('lambda('+ this.popStack() + ', '+ this.contextName(0) + ')');},pushStringParam:function(string,type) {this.pushContext();this.pushString(type);if (type !=='sexpr') {if (typeof string ==='string') {this.pushString(string);} else {this.pushStackLiteral(string);}
 }
 },emptyHash:function() {this.pushStackLiteral('{}');if (this.trackIds) {this.push('{}');}
 if (this.stringParams) {this.push('{}');this.push('{}');}
 },pushHash:function() {if (this.hash) {this.hashes.push(this.hash);}
 this.hash ={values:[],types:[],contexts:[],ids:[]};},popHash:function() {var hash =this.hash;this.hash =this.hashes.pop();if (this.trackIds) {this.push('{'+ hash.ids.join(',') + '}');}
 if (this.stringParams) {this.push('{'+ hash.contexts.join(',') + '}');this.push('{'+ hash.types.join(',') + '}');}
 this.push('{\n    '+ hash.values.join(',\n    ') + '\n  }');},pushString:function(string) {this.pushStackLiteral(this.quotedString(string));},push:function(expr) {this.inlineStack.push(expr);return expr;},pushLiteral:function(value) {this.pushStackLiteral(value);},pushProgram:function(guid) {if (guid !=null) {this.pushStackLiteral(this.programExpression(guid));} else {this.pushStackLiteral(null);}
 },invokeHelper:function(paramSize,name,isSimple) {this.aliases.helperMissing ='helpers.helperMissing';var nonHelper =this.popStack();var helper =this.setupHelper(paramSize,name);var lookup =(isSimple ?helper.name + ' || ':'') + nonHelper + ' || helperMissing';this.push('(('+ lookup + ').call('+ helper.callParams + '))');},invokeKnownHelper:function(paramSize,name) {var helper =this.setupHelper(paramSize,name);this.push(helper.name + ".call("+ helper.callParams + ")");},invokeAmbiguous:function(name,helperCall) {this.aliases.functionType ='"function"';this.aliases.helperMissing ='helpers.helperMissing';this.useRegister('helper');var nonHelper =this.popStack();this.emptyHash();var helper =this.setupHelper(0,name,helperCall);var helperName =this.lastHelper =this.nameLookup('helpers',name,'helper');this.push('((helper = (helper = '+ helperName + ' || '+ nonHelper + ') != null ? helper : helperMissing'+ (helper.paramsInit ?'),('+ helper.paramsInit :'') + '),'+ '(typeof helper === functionType ? helper.call('+ helper.callParams + ') : helper))');},invokePartial:function(name,indent) {var params =[this.nameLookup('partials',name,'partial'),"'"+ indent + "'","'"+ name + "'",this.popStack(),this.popStack(),"helpers","partials"];if (this.options.data) {params.push("data");} else if (this.options.compat) {params.push('undefined');}
 if (this.options.compat) {params.push('depths');}
 this.push("this.invokePartial("+ params.join(", ") + ")");},assignToHash:function(key) {var value =this.popStack(),context,type,id;if (this.trackIds) {id =this.popStack();}
 if (this.stringParams) {type =this.popStack();context =this.popStack();}
 var hash =this.hash;if (context) {hash.contexts.push("'"+ key + "': "+ context);}
 if (type) {hash.types.push("'"+ key + "': "+ type);}
 if (id) {hash.ids.push("'"+ key + "': "+ id);}
 hash.values.push("'"+ key + "': ("+ value + ")");},pushId:function(type,name) {if (type ==='ID'||type ==='DATA') {this.pushString(name);} else if (type ==='sexpr') {this.pushStackLiteral('true');} else {this.pushStackLiteral('null');}
 },compiler:JavaScriptCompiler,compileChildren:function(environment,options) {var children =environment.children,child,compiler;for(var i=0,l=children.length;i<l;i++) {child =children[i];compiler =new this.compiler();var index =this.matchExistingProgram(child);if (index ==null) {this.context.programs.push('');index =this.context.programs.length;child.index =index;child.name ='program'+ index;this.context.programs[index] =compiler.compile(child,options,this.context,!this.precompile);this.context.environments[index] =child;this.useDepths =this.useDepths ||compiler.useDepths;} else {child.index =index;child.name ='program'+ index;}
 }
 },matchExistingProgram:function(child) {for (var i =0,len =this.context.environments.length;i < len;i++) {var environment =this.context.environments[i];if (environment &&environment.equals(child)) {return i;}
 }
 },programExpression:function(guid) {var child =this.environment.children[guid],depths =child.depths.list,useDepths =this.useDepths,depth;var programParams =[child.index,'data'];if (useDepths) {programParams.push('depths');}
 return 'this.program('+ programParams.join(', ') + ')';},useRegister:function(name) {if(!this.registers[name]) {this.registers[name] =true;this.registers.list.push(name);}
 },pushStackLiteral:function(item) {return this.push(new Literal(item));},pushSource:function(source) {if (this.pendingContent) {this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent)));this.pendingContent =undefined;}
 if (source) {this.source.push(source);}
 },pushStack:function(item) {this.flushInline();var stack =this.incrStack();this.pushSource(stack + " = "+ item + ";");this.compileStack.push(stack);return stack;},replaceStack:function(callback) {var prefix ='',inline =this.isInline(),stack,createdStack,usedLiteral;if (!this.isInline()) {throw new Exception('replaceStack on non-inline');}
 var top =this.popStack(true);if (top instanceof Literal) {prefix =stack =top.value;usedLiteral =true;} else {createdStack =!this.stackSlot;var name =!createdStack ?this.topStackName() :this.incrStack();prefix ='('+ this.push(name) + ' = '+ top + ')';stack =this.topStack();}
 var item =callback.call(this,stack);if (!usedLiteral) {this.popStack();}
 if (createdStack) {this.stackSlot--;}
 this.push('('+ prefix + item + ')');},incrStack:function() {this.stackSlot++;if(this.stackSlot > this.stackVars.length) {this.stackVars.push("stack"+ this.stackSlot);}
 return this.topStackName();},topStackName:function() {return "stack"+ this.stackSlot;},flushInline:function() {var inlineStack =this.inlineStack;if (inlineStack.length) {this.inlineStack =[];for (var i =0,len =inlineStack.length;i < len;i++) {var entry =inlineStack[i];if (entry instanceof Literal) {this.compileStack.push(entry);} else {this.pushStack(entry);}
 }
 }
 },isInline:function() {return this.inlineStack.length;},popStack:function(wrapped) {var inline =this.isInline(),item =(inline ?this.inlineStack :this.compileStack).pop();if (!wrapped &&(item instanceof Literal)) {return item.value;} else {if (!inline) {if (!this.stackSlot) {throw new Exception('Invalid stack pop');}
 this.stackSlot--;}
 return item;}
 },topStack:function() {var stack =(this.isInline() ?this.inlineStack :this.compileStack),item =stack[stack.length - 1];if (item instanceof Literal) {return item.value;} else {return item;}
 },contextName:function(context) {if (this.useDepths &&context) {return 'depths['+ context + ']';} else {return 'depth'+ context;}
 },quotedString:function(str) {return '"'+ str
 .replace(/\\/g, '\\\\')
 .replace(/"/g, '\\"')
 .replace(/\n/g, '\\n')
 .replace(/\r/g, '\\r')
 .replace(/\u2028/g, '\\u2028')   // Per Ecma-262 7.3 + 7.8.4
 .replace(/\u2029/g, '\\u2029') + '"';
 },objectLiteral:function(obj) {var pairs =[];for (var key in obj) {if (obj.hasOwnProperty(key)) {pairs.push(this.quotedString(key) + ':'+ obj[key]);}
 }
 return '{'+ pairs.join(',') + '}';},setupHelper:function(paramSize,name,blockHelper) {var params =[],paramsInit =this.setupParams(name,paramSize,params,blockHelper);var foundHelper =this.nameLookup('helpers',name,'helper');return {params:params,paramsInit:paramsInit,name:foundHelper,callParams:[this.contextName(0)].concat(params).join(", ")
 };},setupOptions:function(helper,paramSize,params) {var options ={},contexts =[],types =[],ids =[],param,inverse,program;options.name =this.quotedString(helper);options.hash =this.popStack();if (this.trackIds) {options.hashIds =this.popStack();}
 if (this.stringParams) {options.hashTypes =this.popStack();options.hashContexts =this.popStack();}
 inverse =this.popStack();program =this.popStack();if (program ||inverse) {if (!program) {program ='this.noop';}
 if (!inverse) {inverse ='this.noop';}
 options.fn =program;options.inverse =inverse;}
 var i =paramSize;while (i--) {param =this.popStack();params[i] =param;if (this.trackIds) {ids[i] =this.popStack();}
 if (this.stringParams) {types[i] =this.popStack();contexts[i] =this.popStack();}
 }
 if (this.trackIds) {options.ids ="["+ ids.join(",") + "]";}
 if (this.stringParams) {options.types ="["+ types.join(",") + "]";options.contexts ="["+ contexts.join(",") + "]";}
 if (this.options.data) {options.data ="data";}
 return options;},setupParams:function(helperName,paramSize,params,useRegister) {var options =this.objectLiteral(this.setupOptions(helperName,paramSize,params));if (useRegister) {this.useRegister('options');params.push('options');return 'options='+ options;} else {params.push(options);return '';}
 }
 };var reservedWords =("break else new var"+
 " case finally return void"+
 " catch for switch while"+
 " continue function this with"+
 " default if throw"+
 " delete in try"+
 " do instanceof typeof"+
 " abstract enum int short"+
 " boolean export interface static"+
 " byte extends long super"+
 " char final native synchronized"+
 " class float package throws"+
 " const goto private transient"+
 " debugger implements protected volatile"+
 " double import public let yield").split(" ");var compilerWords =JavaScriptCompiler.RESERVED_WORDS ={};for(var i=0,l=reservedWords.length;i<l;i++) {compilerWords[reservedWords[i]] =true;}
 JavaScriptCompiler.isValidJavaScriptVariableName =function(name) {return !JavaScriptCompiler.RESERVED_WORDS[name] &&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name);
 };__exports__ =JavaScriptCompiler;return __exports__;})(__module2__,__module5__);var __module0__ =(function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__) {"use strict";var __exports__;var Handlebars =__dependency1__;var AST =__dependency2__;var Parser =__dependency3__.parser;var parse =__dependency3__.parse;var Compiler =__dependency4__.Compiler;var compile =__dependency4__.compile;var precompile =__dependency4__.precompile;var JavaScriptCompiler =__dependency5__;var _create =Handlebars.create;var create =function() {var hb =_create();hb.compile =function(input,options) {return compile(input,options,hb);};hb.precompile =function (input,options) {return precompile(input,options,hb);};hb.AST =AST;hb.Compiler =Compiler;hb.JavaScriptCompiler =JavaScriptCompiler;hb.Parser =Parser;hb.parse =parse;return hb;};Handlebars =create();Handlebars.create =create;Handlebars['default'] =Handlebars;__exports__ =Handlebars;return __exports__;})(__module1__,__module7__,__module8__,__module11__,__module12__);return __module0__;}));(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var o={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",o):e.eventie=o}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===d.call(e)}function o(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function s(e,t,n){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=o(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function f(e){this.img=e}function c(e){this.src=e,v[e]=this}var a=e.jQuery,u=e.console,h=u!==void 0,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),o=0,s=r.length;s>o;o++){var f=r[o];this.addImage(f)}}},s.prototype.addImage=function(e){var t=new f(e);this.images.push(t)},s.prototype.check=function(){function e(e,r){return t.options.debug&&h&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},a&&(a.fn.imagesLoaded=function(e,t){var n=new s(this,e,t);return n.jqDeferred.promise(a(this))}),f.prototype=new t,f.prototype.check=function(){var e=v[this.img.src]||new c(this.img.src);if(e.isConfirmed)return this.confirm(e.isLoaded,"cached was confirmed"),void 0;if(this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},f.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var v={};return c.prototype=new t,c.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},s});!function(a){"use strict";a(window.jQuery,window,document)}(function(a,b,c,d){"use strict";a.widget("selectBox.selectBoxIt",{VERSION:"3.8.0",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:!0,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"default",keydownOpen:!0,isMobile:function(){var a=navigator.userAgent||navigator.vendor||b.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(a)},"native":!1,aggressiveChange:!1,selectWhenHidden:!0,viewport:a(b),similarSearch:!1,copyAttributes:["title","rel"],copyClasses:"button",nativeMousedown:!1,customShowHideEvent:!1,autoWidth:!0,html:!0,populate:"",dynamicPositioning:!0,hideCurrent:!1},getThemes:function(){var b=this,c=a(b.element).attr("data-theme")||"c";return{bootstrap:{focus:"active",hover:"",enabled:"enabled",disabled:"disabled",arrow:"caret",button:"btn",list:"dropdown-menu",container:"bootstrap",open:"open"},jqueryui:{focus:"ui-state-focus",hover:"ui-state-hover",enabled:"ui-state-enabled",disabled:"ui-state-disabled",arrow:"ui-icon ui-icon-triangle-1-s",button:"ui-widget ui-state-default",list:"ui-widget ui-widget-content",container:"jqueryui",open:"selectboxit-open"},jquerymobile:{focus:"ui-btn-down-"+c,hover:"ui-btn-hover-"+c,enabled:"ui-enabled",disabled:"ui-disabled",arrow:"ui-icon ui-icon-arrow-d ui-icon-shadow",button:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+c,list:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+c,container:"jquerymobile",open:"selectboxit-open"},"default":{focus:"selectboxit-focus",hover:"selectboxit-hover",enabled:"selectboxit-enabled",disabled:"selectboxit-disabled",arrow:"selectboxit-default-arrow",button:"selectboxit-btn",list:"selectboxit-list",container:"selectboxit-container",open:"selectboxit-open"}}},isDeferred:function(b){return a.isPlainObject(b)&&b.promise&&b.done},_create:function(b){var d=this,e=d.options.populate,f=d.options.theme;if(d.element.is("select"))return d.widgetProto=a.Widget.prototype,d.originalElem=d.element[0],d.selectBox=d.element,d.options.populate&&d.add&&!b&&d.add(e),d.selectItems=d.element.find("option"),d.firstSelectItem=d.selectItems.slice(0,1),d.documentHeight=a(c).height(),d.theme=a.isPlainObject(f)?a.extend({},d.getThemes()["default"],f):d.getThemes()[f]?d.getThemes()[f]:d.getThemes()["default"],d.currentFocus=0,d.blur=!0,d.textArray=[],d.currentIndex=0,d.currentText="",d.flipped=!1,b||(d.selectBoxStyles=d.selectBox.attr("style")),d._createDropdownButton()._createUnorderedList()._copyAttributes()._replaceSelectBox()._addClasses(d.theme)._eventHandlers(),d.originalElem.disabled&&d.disable&&d.disable(),d._ariaAccessibility&&d._ariaAccessibility(),d.isMobile=d.options.isMobile(),d._mobile&&d._mobile(),d.options["native"]&&this._applyNativeSelect(),d.triggerEvent("create"),d},_createDropdownButton:function(){var b=this,c=b.originalElemId=b.originalElem.id||"",d=b.originalElemValue=b.originalElem.value||"",e=b.originalElemName=b.originalElem.name||"",f=b.options.copyClasses,g=b.selectBox.attr("class")||"";return b.dropdownText=a("<span/>",{id:c&&c+"SelectBoxItText","class":"selectboxit-text",unselectable:"on",text:b.firstSelectItem.text()}).attr("data-val",d),b.dropdownImageContainer=a("<span/>",{"class":"selectboxit-option-icon-container"}),b.dropdownImage=a("<i/>",{id:c&&c+"SelectBoxItDefaultIcon","class":"selectboxit-default-icon",unselectable:"on"}),b.dropdown=a("<span/>",{id:c&&c+"SelectBoxIt","class":"selectboxit "+("button"===f?g:"")+" "+(b.selectBox.prop("disabled")?b.theme.disabled:b.theme.enabled),name:e,tabindex:b.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(b.dropdownImageContainer.append(b.dropdownImage)).append(b.dropdownText),b.dropdownContainer=a("<span/>",{id:c&&c+"SelectBoxItContainer","class":"selectboxit-container "+b.theme.container+" "+("container"===f?g:"")}).append(b.dropdown),b},_createUnorderedList:function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=this,p="",q=o.originalElemId||"",r=a("<ul/>",{id:q&&q+"SelectBoxItOptions","class":"selectboxit-options",tabindex:-1});if(o.options.showFirstOption||(o.selectItems.first().attr("disabled","disabled"),o.selectItems=o.selectBox.find("option").slice(1)),o.selectItems.each(function(q){m=a(this),c="",d="",b=m.prop("disabled"),e=m.attr("data-icon")||"",f=m.attr("data-iconurl")||"",g=f?"selectboxit-option-icon-url":"",h=f?"style=\"background-image:url('"+f+"');\"":"",i=m.attr("data-selectedtext"),j=m.attr("data-text"),l=j?j:m.text(),n=m.parent(),n.is("optgroup")&&(c="selectboxit-optgroup-option",0===m.index()&&(d='<span class="selectboxit-optgroup-header '+n.first().attr("class")+'"data-disabled="true">'+n.first().attr("label")+"</span>")),p+=d+'<li data-id="'+q+'" data-val="'+this.value+'" data-disabled="'+b+'" class="'+c+" selectboxit-option "+(a(this).attr("class")||"")+'"><a class="selectboxit-option-anchor"><span class="selectboxit-option-icon-container"><i class="selectboxit-option-icon '+e+" "+(g||o.theme.container)+'"'+h+"></i></span>"+(o.options.html?l:o.htmlEscape(l))+"</a></li>",k=m.attr("data-search"),o.textArray[q]=b?"":k?k:l,this.selected&&(o._setText(o.dropdownText,i||l),o.currentFocus=q)}),o.options.defaultText||o.selectBox.attr("data-text")){var s=o.options.defaultText||o.selectBox.attr("data-text");o._setText(o.dropdownText,s),o.options.defaultText=s}return r.append(p),o.list=r,o.dropdownContainer.append(o.list),o.listItems=o.list.children("li"),o.listAnchors=o.list.find("a"),o.listItems.first().addClass("selectboxit-option-first"),o.listItems.last().addClass("selectboxit-option-last"),o.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(o.theme.disabled),o.dropdownImage.addClass(o.selectBox.attr("data-icon")||o.options.defaultIcon||o.listItems.eq(o.currentFocus).find("i").attr("class")),o.dropdownImage.attr("style",o.listItems.eq(o.currentFocus).find("i").attr("style")),o},_replaceSelectBox:function(){var b,c,e,f=this,g=f.originalElem.id||"",h=f.selectBox.attr("data-size"),i=f.listSize=h===d?"auto":"0"===h?"auto":+h;return f.selectBox.css("display","none").after(f.dropdownContainer),f.dropdownContainer.appendTo("body").addClass("selectboxit-rendering"),b=f.dropdown.height(),f.downArrow=a("<i/>",{id:g&&g+"SelectBoxItArrow","class":"selectboxit-arrow",unselectable:"on"}),f.downArrowContainer=a("<span/>",{id:g&&g+"SelectBoxItArrowContainer","class":"selectboxit-arrow-container",unselectable:"on"}).append(f.downArrow),f.dropdown.append(f.downArrowContainer),f.listItems.removeClass("selectboxit-selected").eq(f.currentFocus).addClass("selectboxit-selected"),c=f.downArrowContainer.outerWidth(!0),e=f.dropdownImage.outerWidth(!0),f.options.autoWidth&&(f.dropdown.css({width:"auto"}).css({width:f.list.outerWidth(!0)+c+e}),f.list.css({"min-width":f.dropdown.width()})),f.dropdownText.css({"max-width":f.dropdownContainer.outerWidth(!0)-(c+e)}),f.selectBox.after(f.dropdownContainer),f.dropdownContainer.removeClass("selectboxit-rendering"),"number"===a.type(i)&&(f.maxHeight=f.listAnchors.outerHeight(!0)*i),f},_scrollToView:function(a){var b=this,c=b.listItems.eq(b.currentFocus),d=b.list.scrollTop(),e=c.height(),f=c.position().top,g=Math.abs(f),h=b.list.height();return"search"===a?e>h-f?b.list.scrollTop(d+(f-(h-e))):-1>f&&b.list.scrollTop(f-e):"up"===a?-1>f&&b.list.scrollTop(d-g):"down"===a&&e>h-f&&b.list.scrollTop(d+(g-h+e)),b},_callbackSupport:function(b){var c=this;return a.isFunction(b)&&b.call(c,c.dropdown),c},_setText:function(a,b){var c=this;return c.options.html?a.html(b):a.text(b),c},open:function(a){var b=this,c=b.options.showEffect,d=b.options.showEffectSpeed,e=b.options.showEffectOptions,f=b.options["native"],g=b.isMobile;return!b.listItems.length||b.dropdown.hasClass(b.theme.disabled)?b:(f||g||this.list.is(":visible")||(b.triggerEvent("open"),b._dynamicPositioning&&b.options.dynamicPositioning&&b._dynamicPositioning(),"none"===c?b.list.show():"show"===c||"slideDown"===c||"fadeIn"===c?b.list[c](d):b.list.show(c,e,d),b.list.promise().done(function(){b._scrollToView("search")})),b._callbackSupport(a),b)},close:function(a){var b=this,c=b.options.hideEffect,d=b.options.hideEffectSpeed,e=b.options.hideEffectOptions,f=b.options["native"],g=b.isMobile;return f||g||!b.list.is(":visible")||(b.triggerEvent("close"),"none"===c?b.list.hide():"hide"===c||"slideUp"===c||"fadeOut"===c?b.list[c](d):b.list.hide(c,e,d)),b._callbackSupport(a),b},toggle:function(){var a=this,b=a.list.is(":visible");b?a.close():b||a.open()},_keyMappings:{38:"up",40:"down",13:"enter",8:"backspace",9:"tab",32:"space",27:"esc"},_keydownMethods:function(){var a=this,b=a.list.is(":visible")||!a.options.keydownOpen;return{down:function(){a.moveDown&&b&&a.moveDown()},up:function(){a.moveUp&&b&&a.moveUp()},enter:function(){var b=a.listItems.eq(a.currentFocus);a._update(b),"true"!==b.attr("data-preventclose")&&a.close(),a.triggerEvent("enter")},tab:function(){a.triggerEvent("tab-blur"),a.close()},backspace:function(){a.triggerEvent("backspace")},esc:function(){a.close()}}},_eventHandlers:function(){var b,c,d=this,e=d.options.nativeMousedown,f=d.options.customShowHideEvent,g=d.focusClass,h=d.hoverClass,i=d.openClass;return this.dropdown.on({"click.selectBoxIt":function(){d.dropdown.trigger("focus",!0),d.originalElem.disabled||(d.triggerEvent("click"),e||f||d.toggle())},"mousedown.selectBoxIt":function(){a(this).data("mdown",!0),d.triggerEvent("mousedown"),e&&!f&&d.toggle()},"mouseup.selectBoxIt":function(){d.triggerEvent("mouseup")},"blur.selectBoxIt":function(){d.blur&&(d.triggerEvent("blur"),d.close(),a(this).removeClass(g))},"focus.selectBoxIt":function(b,c){var e=a(this).data("mdown");a(this).removeData("mdown"),e||c||setTimeout(function(){d.triggerEvent("tab-focus")},0),c||(a(this).hasClass(d.theme.disabled)||a(this).addClass(g),d.triggerEvent("focus"))},"keydown.selectBoxIt":function(a){var b=d._keyMappings[a.keyCode],c=d._keydownMethods()[b];c&&(c(),!d.options.keydownOpen||"up"!==b&&"down"!==b||d.open()),c&&"tab"!==b&&a.preventDefault()},"keypress.selectBoxIt":function(a){var b=a.charCode||a.keyCode,c=d._keyMappings[a.charCode||a.keyCode],e=String.fromCharCode(b);d.search&&(!c||c&&"space"===c)&&d.search(e,!0,!0),"space"===c&&a.preventDefault()},"mouseenter.selectBoxIt":function(){d.triggerEvent("mouseenter")},"mouseleave.selectBoxIt":function(){d.triggerEvent("mouseleave")}}),d.list.on({"mouseover.selectBoxIt":function(){d.blur=!1},"mouseout.selectBoxIt":function(){d.blur=!0},"focusin.selectBoxIt":function(){d.dropdown.trigger("focus",!0)}}),d.list.on({"mousedown.selectBoxIt":function(){d._update(a(this)),d.triggerEvent("option-click"),"false"===a(this).attr("data-disabled")&&"true"!==a(this).attr("data-preventclose")&&d.close(),setTimeout(function(){d.dropdown.trigger("focus",!0)},0)},"focusin.selectBoxIt":function(){d.listItems.not(a(this)).removeAttr("data-active"),a(this).attr("data-active","");var b=d.list.is(":hidden");(d.options.searchWhenHidden&&b||d.options.aggressiveChange||b&&d.options.selectWhenHidden)&&d._update(a(this)),a(this).addClass(g)},"mouseup.selectBoxIt":function(){e&&!f&&(d._update(a(this)),d.triggerEvent("option-mouseup"),"false"===a(this).attr("data-disabled")&&"true"!==a(this).attr("data-preventclose")&&d.close())},"mouseenter.selectBoxIt":function(){"false"===a(this).attr("data-disabled")&&(d.listItems.removeAttr("data-active"),a(this).addClass(g).attr("data-active",""),d.listItems.not(a(this)).removeClass(g),a(this).addClass(g),d.currentFocus=+a(this).attr("data-id"))},"mouseleave.selectBoxIt":function(){"false"===a(this).attr("data-disabled")&&(d.listItems.not(a(this)).removeClass(g).removeAttr("data-active"),a(this).addClass(g),d.currentFocus=+a(this).attr("data-id"))},"blur.selectBoxIt":function(){a(this).removeClass(g)}},".selectboxit-option"),d.list.on({"click.selectBoxIt":function(a){a.preventDefault()}},"a"),d.selectBox.on({"change.selectBoxIt, internal-change.selectBoxIt":function(a,e){var f,g;e||(f=d.list.find('li[data-val="'+d.originalElem.value+'"]'),f.length&&(d.listItems.eq(d.currentFocus).removeClass(d.focusClass),d.currentFocus=+f.attr("data-id"))),f=d.listItems.eq(d.currentFocus),g=f.attr("data-selectedtext"),b=f.attr("data-text"),c=b?b:f.find("a").text(),d._setText(d.dropdownText,g||c),d.dropdownText.attr("data-val",d.originalElem.value),f.find("i").attr("class")&&(d.dropdownImage.attr("class",f.find("i").attr("class")).addClass("selectboxit-default-icon"),d.dropdownImage.attr("style",f.find("i").attr("style"))),d.triggerEvent("changed")},"disable.selectBoxIt":function(){d.dropdown.addClass(d.theme.disabled)},"enable.selectBoxIt":function(){d.dropdown.removeClass(d.theme.disabled)},"open.selectBoxIt":function(){var a,b=d.list.find("li[data-val='"+d.dropdownText.attr("data-val")+"']");b.length||(b=d.listItems.not("[data-disabled=true]").first()),d.currentFocus=+b.attr("data-id"),a=d.listItems.eq(d.currentFocus),d.dropdown.addClass(i).removeClass(h).addClass(g),d.listItems.removeClass(d.selectedClass).removeAttr("data-active").not(a).removeClass(g),a.addClass(d.selectedClass).addClass(g),d.options.hideCurrent&&(d.listItems.show(),a.hide())},"close.selectBoxIt":function(){d.dropdown.removeClass(i)},"blur.selectBoxIt":function(){d.dropdown.removeClass(g)},"mouseenter.selectBoxIt":function(){a(this).hasClass(d.theme.disabled)||d.dropdown.addClass(h)},"mouseleave.selectBoxIt":function(){d.dropdown.removeClass(h)},destroy:function(a){a.preventDefault(),a.stopPropagation()}}),d},_update:function(a){var b,c,d,e=this,f=e.options.defaultText||e.selectBox.attr("data-text"),g=e.listItems.eq(e.currentFocus);"false"===a.attr("data-disabled")&&(b=e.listItems.eq(e.currentFocus).attr("data-selectedtext"),c=g.attr("data-text"),d=c?c:g.text(),(f&&e.options.html?e.dropdownText.html()===f:e.dropdownText.text()===f)&&e.selectBox.val()===a.attr("data-val")?e.triggerEvent("change"):(e.selectBox.val(a.attr("data-val")),e.currentFocus=+a.attr("data-id"),e.originalElem.value!==e.dropdownText.attr("data-val")&&e.triggerEvent("change")))},_addClasses:function(a){var b=this,c=(b.focusClass=a.focus,b.hoverClass=a.hover,a.button),d=a.list,e=a.arrow,f=a.container;return b.openClass=a.open,b.selectedClass="selectboxit-selected",b.downArrow.addClass(b.selectBox.attr("data-downarrow")||b.options.downArrowIcon||e),b.dropdownContainer.addClass(f),b.dropdown.addClass(c),b.list.addClass(d),b},refresh:function(a,b){var c=this;return c._destroySelectBoxIt()._create(!0),b||c.triggerEvent("refresh"),c._callbackSupport(a),c},htmlEscape:function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},triggerEvent:function(a){var b=this,c=b.options.showFirstOption?b.currentFocus:b.currentFocus-1>=0?b.currentFocus:0;return b.selectBox.trigger(a,{selectbox:b.selectBox,selectboxOption:b.selectItems.eq(c),dropdown:b.dropdown,dropdownOption:b.listItems.eq(b.currentFocus)}),b},_copyAttributes:function(){var a=this;return a._addSelectBoxAttributes&&a._addSelectBoxAttributes(),a},_realOuterWidth:function(a){if(a.is(":visible"))return a.outerWidth(!0);var b,c=a.clone();return c.css({visibility:"hidden",display:"block",position:"absolute"}).appendTo("body"),b=c.outerWidth(!0),c.remove(),b}});var e=a.selectBox.selectBoxIt.prototype;e.add=function(b,c){this._populate(b,function(b){var d,e,f=this,g=a.type(b),h=0,i=[],j=f._isJSON(b),k=j&&f._parseJSON(b);if(b&&("array"===g||j&&k.data&&"array"===a.type(k.data))||"object"===g&&b.data&&"array"===a.type(b.data)){for(f._isJSON(b)&&(b=k),b.data&&(b=b.data),e=b.length;e-1>=h;h+=1)d=b[h],a.isPlainObject(d)?i.push(a("<option/>",d)):"string"===a.type(d)&&i.push(a("<option/>",{text:d,value:d}));f.selectBox.append(i)}else b&&"string"===g&&!f._isJSON(b)?f.selectBox.append(b):b&&"object"===g?f.selectBox.append(a("<option/>",b)):b&&f._isJSON(b)&&a.isPlainObject(f._parseJSON(b))&&f.selectBox.append(a("<option/>",f._parseJSON(b)));return f.dropdown?f.refresh(function(){f._callbackSupport(c)},!0):f._callbackSupport(c),f})},e._parseJSON=function(b){return JSON&&JSON.parse&&JSON.parse(b)||a.parseJSON(b)},e._isJSON=function(a){var b,c=this;try{return b=c._parseJSON(a),!0}catch(d){return!1}},e._populate=function(b,c){var d=this;return b=a.isFunction(b)?b.call():b,d.isDeferred(b)?b.done(function(a){c.call(d,a)}):c.call(d,b),d},e._ariaAccessibility=function(){var b=this,c=a("label[for='"+b.originalElem.id+"']");return b.dropdownContainer.attr({role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":"false","aria-owns":b.list[0].id}),b.dropdownText.attr({"aria-live":"polite"}),b.dropdown.on({"disable.selectBoxIt":function(){b.dropdownContainer.attr("aria-disabled","true")},"enable.selectBoxIt":function(){b.dropdownContainer.attr("aria-disabled","false")}}),c.length&&b.dropdownContainer.attr("aria-labelledby",c[0].id),b.list.attr({role:"listbox","aria-hidden":"true"}),b.listItems.attr({role:"option"}),b.selectBox.on({"open.selectBoxIt":function(){b.list.attr("aria-hidden","false"),b.dropdownContainer.attr("aria-expanded","true")},"close.selectBoxIt":function(){b.list.attr("aria-hidden","true"),b.dropdownContainer.attr("aria-expanded","false")}}),b},e._addSelectBoxAttributes=function(){var b=this;return b._addAttributes(b.selectBox.prop("attributes"),b.dropdown),b.selectItems.each(function(c){b._addAttributes(a(this).prop("attributes"),b.listItems.eq(c))}),b},e._addAttributes=function(b,c){var d=this,e=d.options.copyAttributes;return b.length&&a.each(b,function(b,d){var f=d.name.toLowerCase(),g=d.value;"null"===g||-1===a.inArray(f,e)&&-1===f.indexOf("data")||c.attr(f,g)}),d},e.destroy=function(a){var b=this;return b._destroySelectBoxIt(),b.widgetProto.destroy.call(b),b._callbackSupport(a),b},e._destroySelectBoxIt=function(){var b=this;return b.dropdown.off(".selectBoxIt"),a.contains(b.dropdownContainer[0],b.originalElem)&&b.dropdownContainer.before(b.selectBox),b.dropdownContainer.remove(),b.selectBox.removeAttr("style").attr("style",b.selectBoxStyles),b.selectBox.show(),b.triggerEvent("destroy"),b},e.disable=function(a){var b=this;return b.options.disabled||(b.close(),b.selectBox.attr("disabled","disabled"),b.dropdown.removeAttr("tabindex").removeClass(b.theme.enabled).addClass(b.theme.disabled),b.setOption("disabled",!0),b.triggerEvent("disable")),b._callbackSupport(a),b},e.disableOption=function(b,c){var d,e,f,g=this,h=a.type(b);return"number"===h&&(g.close(),d=g.selectBox.find("option").eq(b),g.triggerEvent("disable-option"),d.attr("disabled","disabled"),g.listItems.eq(b).attr("data-disabled","true").addClass(g.theme.disabled),g.currentFocus===b&&(e=g.listItems.eq(g.currentFocus).nextAll("li").not("[data-disabled='true']").first().length,f=g.listItems.eq(g.currentFocus).prevAll("li").not("[data-disabled='true']").first().length,e?g.moveDown():f?g.moveUp():g.disable())),g._callbackSupport(c),g},e._isDisabled=function(){var a=this;return a.originalElem.disabled&&a.disable(),a},e._dynamicPositioning=function(){var b=this;if("number"===a.type(b.listSize))b.list.css("max-height",b.maxHeight||"none");else{var c=b.dropdown.offset().top,d=b.list.data("max-height")||b.list.outerHeight(),e=b.dropdown.outerHeight(),f=b.options.viewport,g=f.height(),h=a.isWindow(f.get(0))?f.scrollTop():f.offset().top,i=g+h>=c+e+d,j=!i;if(b.list.data("max-height")||b.list.data("max-height",b.list.outerHeight()),j)if(b.dropdown.offset().top-h>=d)b.list.css("max-height",d),b.list.css("top",b.dropdown.position().top-b.list.outerHeight());else{var k=Math.abs(c+e+d-(g+h)),l=Math.abs(b.dropdown.offset().top-h-d);l>k?(b.list.css("max-height",d-k-e/2),b.list.css("top","auto")):(b.list.css("max-height",d-l-e/2),b.list.css("top",b.dropdown.position().top-b.list.outerHeight()))}else b.list.css("max-height",d),b.list.css("top","auto")}return b},e.enable=function(a){var b=this;return b.options.disabled&&(b.triggerEvent("enable"),b.selectBox.removeAttr("disabled"),b.dropdown.attr("tabindex",0).removeClass(b.theme.disabled).addClass(b.theme.enabled),b.setOption("disabled",!1),b._callbackSupport(a)),b},e.enableOption=function(b,c){var d,e=this,f=a.type(b);return"number"===f&&(d=e.selectBox.find("option").eq(b),e.triggerEvent("enable-option"),d.removeAttr("disabled"),e.listItems.eq(b).attr("data-disabled","false").removeClass(e.theme.disabled)),e._callbackSupport(c),e},e.moveDown=function(a){var b=this;b.currentFocus+=1;var c="true"===b.listItems.eq(b.currentFocus).attr("data-disabled")?!0:!1,d=b.listItems.eq(b.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(b.currentFocus===b.listItems.length)b.currentFocus-=1;else{if(c&&d)return b.listItems.eq(b.currentFocus-1).blur(),b.moveDown(),void 0;c&&!d?b.currentFocus-=1:(b.listItems.eq(b.currentFocus-1).blur().end().eq(b.currentFocus).focusin(),b._scrollToView("down"),b.triggerEvent("moveDown"))}return b._callbackSupport(a),b},e.moveUp=function(a){var b=this;b.currentFocus-=1;var c="true"===b.listItems.eq(b.currentFocus).attr("data-disabled")?!0:!1,d=b.listItems.eq(b.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(-1===b.currentFocus)b.currentFocus+=1;else{if(c&&d)return b.listItems.eq(b.currentFocus+1).blur(),b.moveUp(),void 0;c&&!d?b.currentFocus+=1:(b.listItems.eq(this.currentFocus+1).blur().end().eq(b.currentFocus).focusin(),b._scrollToView("up"),b.triggerEvent("moveUp"))}return b._callbackSupport(a),b},e._setCurrentSearchOption=function(a){var b=this;return(b.options.aggressiveChange||b.options.selectWhenHidden||b.listItems.eq(a).is(":visible"))&&b.listItems.eq(a).data("disabled")!==!0&&(b.listItems.eq(b.currentFocus).blur(),b.currentIndex=a,b.currentFocus=a,b.listItems.eq(b.currentFocus).focusin(),b._scrollToView("search"),b.triggerEvent("search")),b},e._searchAlgorithm=function(a,b){var c,d,e,f,g=this,h=!1,i=g.textArray,j=g.currentText;for(c=a,e=i.length;e>c;c+=1){for(f=i[c],d=0;e>d;d+=1)-1!==i[d].search(b)&&(h=!0,d=e);if(h||(g.currentText=g.currentText.charAt(g.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0"),j=g.currentText),b=new RegExp(j,"gi"),j.length<3){if(b=new RegExp(j.charAt(0),"gi"),-1!==f.charAt(0).search(b))return g._setCurrentSearchOption(c),(f.substring(0,j.length).toLowerCase()!==j.toLowerCase()||g.options.similarSearch)&&(g.currentIndex+=1),!1}else if(-1!==f.search(b))return g._setCurrentSearchOption(c),!1;if(f.toLowerCase()===g.currentText.toLowerCase())return g._setCurrentSearchOption(c),g.currentText="",!1}return!0},e.search=function(a,b,c){var d=this;c?d.currentText+=a.replace(/[|()\[{.+*?$\\]/g,"\\$0"):d.currentText=a.replace(/[|()\[{.+*?$\\]/g,"\\$0");var e=d._searchAlgorithm(d.currentIndex,new RegExp(d.currentText,"gi"));return e&&d._searchAlgorithm(0,d.currentText),d._callbackSupport(b),d},e._updateMobileText=function(){var a,b,c,d=this;a=d.selectBox.find("option").filter(":selected"),b=a.attr("data-text"),c=b?b:a.text(),d._setText(d.dropdownText,c),d.list.find('li[data-val="'+a.val()+'"]').find("i").attr("class")&&d.dropdownImage.attr("class",d.list.find('li[data-val="'+a.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon")},e._applyNativeSelect=function(){var a=this;return a.dropdownContainer.append(a.selectBox),a.dropdown.attr("tabindex","-1"),a.selectBox.css({display:"block",visibility:"visible",width:a._realOuterWidth(a.dropdown),height:a.dropdown.outerHeight(),opacity:"0",position:"absolute",top:"0",left:"0",cursor:"pointer","z-index":"999999",margin:a.dropdown.css("margin"),padding:"0","-webkit-appearance":"menulist-button"}),a.originalElem.disabled&&a.triggerEvent("disable"),this},e._mobileEvents=function(){var a=this;a.selectBox.on({"changed.selectBoxIt":function(){a.hasChanged=!0,a._updateMobileText(),a.triggerEvent("option-click")},"mousedown.selectBoxIt":function(){a.hasChanged||!a.options.defaultText||a.originalElem.disabled||(a._updateMobileText(),a.triggerEvent("option-click"))},"enable.selectBoxIt":function(){a.selectBox.removeClass("selectboxit-rendering")},"disable.selectBoxIt":function(){a.selectBox.addClass("selectboxit-rendering")}})},e._mobile=function(){var a=this;return a.isMobile&&(a._applyNativeSelect(),a._mobileEvents()),this},e.remove=function(b,c){var d,e,f=this,g=a.type(b),h=0,i="";if("array"===g){for(e=b.length;e-1>=h;h+=1)d=b[h],"number"===a.type(d)&&(i+=i.length?", option:eq("+d+")":"option:eq("+d+")");f.selectBox.find(i).remove()}else"number"===g?f.selectBox.find("option").eq(b).remove():f.selectBox.find("option").remove();return f.dropdown?f.refresh(function(){f._callbackSupport(c)},!0):f._callbackSupport(c),f},e.selectOption=function(b,c){var d=this,e=a.type(b);return"number"===e?d.selectBox.val(d.selectItems.eq(b).val()).change():"string"===e&&d.selectBox.val(b).change(),d._callbackSupport(c),d},e.setOption=function(b,c,d){var e=this;return"string"===a.type(b)&&(e.options[b]=c),e.refresh(function(){e._callbackSupport(d)},!0),e},e.setOptions=function(b,c){var d=this;return a.isPlainObject(b)&&(d.options=a.extend({},d.options,b)),d.refresh(function(){d._callbackSupport(c)},!0),d},e.wait=function(a,b){var c=this;return c.widgetProto._delay.call(c,b,a),c}});
(function (window,document,$,undefined) {"use strict";var H =$("html"),W =$(window),D =$(document),F =$.fancybox =function () {F.open.apply(this,arguments );},IE =navigator.userAgent.match(/msie/i),
didUpdate=null,isTouch=document.createTouch !==undefined,isQuery=function(obj) {return obj &&obj.hasOwnProperty &&obj instanceof $;},isString =function(str) {return str &&$.type(str) ==="string";},isPercentage =function(str) {return isString(str) &&str.indexOf('%') > 0;},isScrollable =function(el) {return (el &&!(el.style.overflow &&el.style.overflow ==='hidden') &&((el.clientWidth &&el.scrollWidth > el.clientWidth) ||(el.clientHeight &&el.scrollHeight > el.clientHeight)));},getScalar =function(orig,dim) {var value =parseInt(orig,10) ||0;if (dim &&isPercentage(orig)) {value =F.getViewport()[dim ] / 100 * value;}
return Math.ceil(value);},getValue =function(value,dim) {return getScalar(value,dim) + 'px';};$.extend(F,{version:'2.1.5',defaults:{padding :15,margin :20,width :800,height :600,minWidth :100,minHeight :100,maxWidth :9999,maxHeight :9999,pixelRatio:1,autoSize :true,autoHeight :false,autoWidth :false,autoResize :true,autoCenter :!isTouch,fitToView :true,aspectRatio :false,topRatio :0.5,leftRatio :0.5,scrolling :'auto',wrapCSS :'',arrows :true,closeBtn :true,closeClick :false,nextClick :false,mouseWheel :true,autoPlay :false,playSpeed :3000,preload :3,modal :false,loop :true,ajax :{dataType :'html',headers :{'X-fancyBox':true }
},iframe :{scrolling :'auto',preload :true
},swf :{wmode:'transparent',allowfullscreen :'true',allowscriptaccess :'always'},keys :{next :{13 :'left',34 :'up',39 :'left',40 :'up'},prev :{8 :'right',33 :'down',37 :'right',38 :'down'},close :[27],play :[32],toggle :[70] },direction :{next :'left',prev :'right'},scrollOutside :true,index :0,type :null,href :null,content :null,title :null,tpl:{wrap :'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image :'<img class="fancybox-image" src="{href}" alt="" />',iframe :'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+ (IE ?' allowtransparency="true"':'') + '></iframe>',error :'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn :'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next :'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev :'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect :'fade',openSpeed :250,openEasing :'swing',openOpacity :true,openMethod :'zoomIn',closeEffect :'fade',closeSpeed :250,closeEasing :'swing',closeOpacity :true,closeMethod :'zoomOut',nextEffect :'elastic',nextSpeed :250,nextEasing :'swing',nextMethod :'changeIn',prevEffect :'elastic',prevSpeed :250,prevEasing :'swing',prevMethod :'changeOut',helpers :{overlay :true,title :true
},onCancel :$.noop,beforeLoad :$.noop,afterLoad :$.noop,beforeShow :$.noop,afterShow :$.noop,beforeChange :$.noop,beforeClose :$.noop,afterClose :$.noop },group :{},opts :{},previous :null,coming :null,current :null,isActive :false,isOpen :false,isOpened :false,wrap :null,skin :null,outer :null,inner :null,player :{timer :null,isActive :false
},ajaxLoad :null,imgPreload :null,transitions :{},helpers :{},open:function (group,opts) {if (!group) {return;}
if (!$.isPlainObject(opts)) {opts ={};}
if (false ===F.close(true)) {return;}
if (!$.isArray(group)) {group =isQuery(group) ?$(group).get() :[group];}
$.each(group,function(i,element) {var obj ={},href,title,content,type,rez,hrefParts,selector;if ($.type(element) ==="object") {if (element.nodeType) {element =$(element);}
if (isQuery(element)) {obj ={href :element.data('fancybox-href') ||element.attr('href'),title :element.data('fancybox-title') ||element.attr('title'),isDom :true,element :element
};if ($.metadata) {$.extend(true,obj,element.metadata());}
} else {obj =element;}
}
href =opts.href ||obj.href ||(isString(element) ?element :null);title =opts.title !==undefined ?opts.title :obj.title ||'';content =opts.content ||obj.content;type =content ?'html':(opts.type ||obj.type);if (!type &&obj.isDom) {type =element.data('fancybox-type');if (!type) {rez =element.prop('class').match(/fancybox\.(\w+)/);
type =rez ?rez[1] :null;}
}
if (isString(href)) {if (!type) {if (F.isImage(href)) {type ='image';} else if (F.isSWF(href)) {type ='swf';} else if (href.charAt(0) ==='#') {type ='inline';} else if (isString(element)) {type ='html';content =element;}
}
if (type ==='ajax') {hrefParts =href.split(/\s+/, 2);
href =hrefParts.shift();selector =hrefParts.shift();}
}
if (!content) {if (type ==='inline') {if (href) {content =$(isString(href) ?href.replace(/.*(?=#[^\s]+$)/, '') : href ); //strip for ie7

} else if (obj.isDom) {content =element;}
} else if (type ==='html') {content =href;} else if (!type &&!href &&obj.isDom) {type ='inline';content =element;}
}
$.extend(obj,{href :href,type :type,content :content,title :title,selector :selector
});group[i ] =obj;});F.opts =$.extend(true,{},F.defaults,opts);if (opts.keys !==undefined) {F.opts.keys =opts.keys ?$.extend({},F.defaults.keys,opts.keys) :false;}
F.group =group;return F._start(F.opts.index);},cancel:function () {var coming =F.coming;if (!coming ||false ===F.trigger('onCancel')) {return;}
F.hideLoading();if (F.ajaxLoad) {F.ajaxLoad.abort();}
F.ajaxLoad =null;if (F.imgPreload) {F.imgPreload.onload =F.imgPreload.onerror =null;}
if (coming.wrap) {coming.wrap.stop(true,true).trigger('onReset').remove();}
F.coming =null;if (!F.current) {F._afterZoomOut(coming );}
},close:function (event) {F.cancel();if (false ===F.trigger('beforeClose')) {return;}
F.unbindEvents();if (!F.isActive) {return;}
if (!F.isOpen ||event ===true) {$('.fancybox-wrap').stop(true).trigger('onReset').remove();F._afterZoomOut();} else {F.isOpen =F.isOpened =false;F.isClosing =true;$('.fancybox-item, .fancybox-nav').remove();F.wrap.stop(true,true).removeClass('fancybox-opened');F.transitions[F.current.closeMethod ]();}
},play:function (action ) {var clear =function () {clearTimeout(F.player.timer);},set =function () {clear();if (F.current &&F.player.isActive) {F.player.timer =setTimeout(F.next,F.current.playSpeed);}
},stop =function () {clear();D.unbind('.player');F.player.isActive =false;F.trigger('onPlayEnd');},start =function () {if (F.current &&(F.current.loop ||F.current.index < F.group.length - 1)) {F.player.isActive =true;D.bind({'onCancel.player beforeClose.player':stop,'onUpdate.player':set,'beforeLoad.player':clear
});set();F.trigger('onPlayStart');}
};if (action ===true ||(!F.player.isActive &&action !==false)) {start();} else {stop();}
},next:function (direction ) {var current =F.current;if (current) {if (!isString(direction)) {direction =current.direction.next;}
F.jumpto(current.index + 1,direction,'next');}
},prev:function (direction ) {var current =F.current;if (current) {if (!isString(direction)) {direction =current.direction.prev;}
F.jumpto(current.index - 1,direction,'prev');}
},jumpto:function (index,direction,router ) {var current =F.current;if (!current) {return;}
index =getScalar(index);F.direction =direction ||current.direction[(index >=current.index ?'next':'prev') ];F.router =router ||'jumpto';if (current.loop) {if (index < 0) {index =current.group.length + (index % current.group.length);}
index =index % current.group.length;}
if (current.group[index ] !==undefined) {F.cancel();F._start(index);}
},reposition:function (e,onlyAbsolute) {var current =F.current,wrap =current ?current.wrap :null,pos;if (wrap) {pos =F._getPosition(onlyAbsolute);if (e &&e.type ==='scroll') {delete pos.position;wrap.stop(true,true).animate(pos,200);} else {wrap.css(pos);current.pos =$.extend({},current.dim,pos);}
}
},update:function (e) {var type =(e &&e.type),anyway =!type ||type ==='orientationchange';if (anyway) {clearTimeout(didUpdate);didUpdate =null;}
if (!F.isOpen ||didUpdate) {return;}
didUpdate =setTimeout(function() {var current =F.current;if (!current ||F.isClosing) {return;}
F.wrap.removeClass('fancybox-tmp');if (anyway ||type ==='load'||(type ==='resize'&&current.autoResize)) {F._setDimension();}
if (!(type ==='scroll'&&current.canShrink)) {F.reposition(e);}
F.trigger('onUpdate');didUpdate =null;},(anyway &&!isTouch ?0 :300));},toggle:function (action ) {if (F.isOpen) {F.current.fitToView =$.type(action) ==="boolean"?action :!F.current.fitToView;if (isTouch) {F.wrap.removeAttr('style').addClass('fancybox-tmp');F.trigger('onUpdate');}
F.update();}
},hideLoading:function () {D.unbind('.loading');$('#fancybox-loading').remove();},showLoading:function () {var el,viewport;F.hideLoading();el =$('<div id="fancybox-loading"><div></div></div>').click(F.cancel).appendTo('body');D.bind('keydown.loading',function(e) {if ((e.which ||e.keyCode) ===27) {e.preventDefault();F.cancel();}
});if (!F.defaults.fixed) {viewport =F.getViewport();el.css({position :'absolute',top :(viewport.h * 0.5) + viewport.y,left :(viewport.w * 0.5) + viewport.x
});}
},getViewport:function () {var locked =(F.current &&F.current.locked) ||false,rez ={x:W.scrollLeft(),y:W.scrollTop()
};if (locked) {rez.w =locked[0].clientWidth;rez.h =locked[0].clientHeight;} else {rez.w =isTouch &&window.innerWidth ?window.innerWidth :W.width();rez.h =isTouch &&window.innerHeight ?window.innerHeight :W.height();}
return rez;},unbindEvents:function () {if (F.wrap &&isQuery(F.wrap)) {F.wrap.unbind('.fb');}
D.unbind('.fb');W.unbind('.fb');},bindEvents:function () {var current =F.current,keys;if (!current) {return;}
W.bind('orientationchange.fb'+ (isTouch ?'':' resize.fb') + (current.autoCenter &&!current.locked ?' scroll.fb':''),F.update);keys =current.keys;if (keys) {D.bind('keydown.fb',function (e) {var code =e.which ||e.keyCode,target =e.target ||e.srcElement;if (code ===27 &&F.coming) {return false;}
if (!e.ctrlKey &&!e.altKey &&!e.shiftKey &&!e.metaKey &&!(target &&(target.type ||$(target).is('[contenteditable]')))) {$.each(keys,function(i,val) {if (current.group.length > 1 &&val[code ] !==undefined) {F[i ](val[code ] );e.preventDefault();return false;}
if ($.inArray(code,val) > -1) {F[i ] ();e.preventDefault();return false;}
});}
});}
if ($.fn.mousewheel &&current.mouseWheel) {F.wrap.bind('mousewheel.fb',function (e,delta,deltaX,deltaY) {var target =e.target ||null,parent =$(target),canScroll =false;while (parent.length) {if (canScroll ||parent.is('.fancybox-skin') ||parent.is('.fancybox-wrap')) {break;}
canScroll =isScrollable(parent[0] );parent =$(parent).parent();}
if (delta !==0 &&!canScroll) {if (F.group.length > 1 &&!current.canShrink) {if (deltaY > 0 ||deltaX > 0) {F.prev(deltaY > 0 ?'down':'left');} else if (deltaY < 0 ||deltaX < 0) {F.next(deltaY < 0 ?'up':'right');}
e.preventDefault();}
}
});}
},trigger:function (event,o) {var ret,obj =o ||F.coming ||F.current;if (!obj) {return;}
if ($.isFunction(obj[event] )) {ret =obj[event].apply(obj,Array.prototype.slice.call(arguments,1));}
if (ret ===false) {return false;}
if (obj.helpers) {$.each(obj.helpers,function (helper,opts) {if (opts &&F.helpers[helper] &&$.isFunction(F.helpers[helper][event])) {F.helpers[helper][event]($.extend(true,{},F.helpers[helper].defaults,opts),obj);}
});}
D.trigger(event);},isImage:function (str) {return isString(str) &&str.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i);
},isSWF:function (str) {return isString(str) &&str.match(/\.(swf)((\?|#).*)?$/i);
},_start:function (index) {var coming ={},obj,href,type,margin,padding;index =getScalar(index );obj =F.group[index ] ||null;if (!obj) {return false;}
coming =$.extend(true,{},F.opts,obj);margin =coming.margin;padding =coming.padding;if ($.type(margin) ==='number') {coming.margin =[margin,margin,margin,margin];}
if ($.type(padding) ==='number') {coming.padding =[padding,padding,padding,padding];}
if (coming.modal) {$.extend(true,coming,{closeBtn :false,closeClick :false,nextClick :false,arrows :false,mouseWheel :false,keys :null,helpers:{overlay :{closeClick :false
}
}
});}
if (coming.autoSize) {coming.autoWidth =coming.autoHeight =true;}
if (coming.width ==='auto') {coming.autoWidth =true;}
if (coming.height ==='auto') {coming.autoHeight =true;}
coming.group =F.group;coming.index =index;F.coming =coming;if (false ===F.trigger('beforeLoad')) {F.coming =null;return;}
type =coming.type;href =coming.href;if (!type) {F.coming =null;if (F.current &&F.router &&F.router !=='jumpto') {F.current.index =index;return F[F.router ](F.direction );}
return false;}
F.isActive =true;if (type ==='image'||type ==='swf') {coming.autoHeight =coming.autoWidth =false;coming.scrolling ='visible';}
if (type ==='image') {coming.aspectRatio =true;}
if (type ==='iframe'&&isTouch) {coming.scrolling ='scroll';}
coming.wrap =$(coming.tpl.wrap).addClass('fancybox-'+ (isTouch ?'mobile':'desktop') + ' fancybox-type-'+ type + ' fancybox-tmp '+ coming.wrapCSS).appendTo(coming.parent ||'body');$.extend(coming,{skin :$('.fancybox-skin',coming.wrap),outer :$('.fancybox-outer',coming.wrap),inner :$('.fancybox-inner',coming.wrap)
});$.each(["Top","Right","Bottom","Left"],function(i,v) {coming.skin.css('padding'+ v,getValue(coming.padding[i ]));});F.trigger('onReady');if (type ==='inline'||type ==='html') {if (!coming.content ||!coming.content.length) {return F._error('content');}
} else if (!href) {return F._error('href');}
if (type ==='image') {F._loadImage();} else if (type ==='ajax') {F._loadAjax();} else if (type ==='iframe') {F._loadIframe();} else {F._afterLoad();}
},_error:function (type ) {$.extend(F.coming,{type :'html',autoWidth :true,autoHeight :true,minWidth :0,minHeight :0,scrolling :'no',hasError :type,content :F.coming.tpl.error
});F._afterLoad();},_loadImage:function () {var img =F.imgPreload =new Image();img.onload =function () {this.onload =this.onerror =null;F.coming.width =this.width / F.opts.pixelRatio;F.coming.height =this.height / F.opts.pixelRatio;F._afterLoad();};img.onerror =function () {this.onload =this.onerror =null;F._error('image');};img.src =F.coming.href;if (img.complete !==true) {F.showLoading();}
},_loadAjax:function () {var coming =F.coming;F.showLoading();F.ajaxLoad =$.ajax($.extend({},coming.ajax,{url:coming.href,error:function (jqXHR,textStatus) {if (F.coming &&textStatus !=='abort') {F._error('ajax',jqXHR );} else {F.hideLoading();}
},success:function (data,textStatus) {if (textStatus ==='success') {coming.content =data;F._afterLoad();}
}
}));},_loadIframe:function() {var coming =F.coming,iframe =$(coming.tpl.iframe.replace(/\{rnd\}/g, new Date().getTime()))
.attr('scrolling',isTouch ?'auto':coming.iframe.scrolling)
.attr('src',coming.href);$(coming.wrap).bind('onReset',function () {try {$(this).find('iframe').hide().attr('src','//about:blank').end().empty();} catch (e) {}
});if (coming.iframe.preload) {F.showLoading();iframe.one('load',function() {$(this).data('ready',1);if (!isTouch) {$(this).bind('load.fb',F.update);}
$(this).parents('.fancybox-wrap').width('100%').removeClass('fancybox-tmp').show();F._afterLoad();});}
coming.content =iframe.appendTo(coming.inner );if (!coming.iframe.preload) {F._afterLoad();}
},_preloadImages:function() {var group =F.group,current =F.current,len =group.length,cnt =current.preload ?Math.min(current.preload,len - 1) :0,item,i;for (i =1;i <=cnt;i +=1) {item =group[(current.index + i ) % len ];if (item.type ==='image'&&item.href) {new Image().src =item.href;}
}
},_afterLoad:function () {var coming =F.coming,previous =F.current,placeholder ='fancybox-placeholder',current,content,type,scrolling,href,embed;F.hideLoading();if (!coming ||F.isActive ===false) {return;}
if (false ===F.trigger('afterLoad',coming,previous)) {coming.wrap.stop(true).trigger('onReset').remove();F.coming =null;return;}
if (previous) {F.trigger('beforeChange',previous);previous.wrap.stop(true).removeClass('fancybox-opened')
.find('.fancybox-item, .fancybox-nav')
.remove();}
F.unbindEvents();current =coming;content =coming.content;type =coming.type;scrolling =coming.scrolling;$.extend(F,{wrap :current.wrap,skin :current.skin,outer :current.outer,inner :current.inner,current :current,previous :previous
});href =current.href;switch (type) {case 'inline':case 'ajax':case 'html':if (current.selector) {content =$('<div>').html(content).find(current.selector);} else if (isQuery(content)) {if (!content.data(placeholder)) {content.data(placeholder,$('<div class="'+ placeholder + '"></div>').insertAfter(content ).hide() );}
content =content.show().detach();current.wrap.bind('onReset',function () {if ($(this).find(content).length) {content.hide().replaceAll(content.data(placeholder) ).data(placeholder,false);}
});}
break;case 'image':content =current.tpl.image.replace('{href}',href);break;case 'swf':content ='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+ href + '"></param>';embed ='';$.each(current.swf,function(name,val) {content +='<param name="'+ name + '" value="'+ val + '"></param>';embed +=' '+ name + '="'+ val + '"';});content +='<embed src="'+ href + '" type="application/x-shockwave-flash" width="100%" height="100%"'+ embed + '></embed></object>';break;}
if (!(isQuery(content) &&content.parent().is(current.inner))) {current.inner.append(content );}
F.trigger('beforeShow');current.inner.css('overflow',scrolling ==='yes'?'scroll':(scrolling ==='no'?'hidden':scrolling));F._setDimension();F.reposition();F.isOpen =false;F.coming =null;F.bindEvents();if (!F.isOpened) {$('.fancybox-wrap').not(current.wrap ).stop(true).trigger('onReset').remove();} else if (previous.prevMethod) {F.transitions[previous.prevMethod ]();}
F.transitions[F.isOpened ?current.nextMethod :current.openMethod ]();F._preloadImages();},_setDimension:function () {var viewport =F.getViewport(),steps =0,canShrink =false,canExpand =false,wrap =F.wrap,skin =F.skin,inner =F.inner,current =F.current,width =current.width,height =current.height,minWidth =current.minWidth,minHeight =current.minHeight,maxWidth =current.maxWidth,maxHeight =current.maxHeight,scrolling =current.scrolling,scrollOut =current.scrollOutside ?current.scrollbarWidth :0,margin =current.margin,wMargin =getScalar(margin[1] + margin[3]),hMargin =getScalar(margin[0] + margin[2]),wPadding,hPadding,wSpace,hSpace,origWidth,origHeight,origMaxWidth,origMaxHeight,ratio,width_,height_,maxWidth_,maxHeight_,iframe,body;wrap.add(skin).add(inner).width('auto').height('auto').removeClass('fancybox-tmp');wPadding =getScalar(skin.outerWidth(true) - skin.width());hPadding =getScalar(skin.outerHeight(true) - skin.height());wSpace =wMargin + wPadding;hSpace =hMargin + hPadding;origWidth =isPercentage(width) ?(viewport.w - wSpace) * getScalar(width) / 100 :width;origHeight =isPercentage(height) ?(viewport.h - hSpace) * getScalar(height) / 100 :height;if (current.type ==='iframe') {iframe =current.content;if (current.autoHeight &&iframe.data('ready') ===1) {try {if (iframe[0].contentWindow.document.location) {inner.width(origWidth ).height(9999);body =iframe.contents().find('body');if (scrollOut) {body.css('overflow-x','hidden');}
origHeight =body.outerHeight(true);}
} catch (e) {}
}
} else if (current.autoWidth ||current.autoHeight) {inner.addClass('fancybox-tmp');if (!current.autoWidth) {inner.width(origWidth );}
if (!current.autoHeight) {inner.height(origHeight );}
if (current.autoWidth) {origWidth =inner.width();}
if (current.autoHeight) {origHeight =inner.height();}
inner.removeClass('fancybox-tmp');}
width =getScalar(origWidth );height =getScalar(origHeight );ratio =origWidth / origHeight;minWidth =getScalar(isPercentage(minWidth) ?getScalar(minWidth,'w') - wSpace :minWidth);maxWidth =getScalar(isPercentage(maxWidth) ?getScalar(maxWidth,'w') - wSpace :maxWidth);minHeight =getScalar(isPercentage(minHeight) ?getScalar(minHeight,'h') - hSpace :minHeight);maxHeight =getScalar(isPercentage(maxHeight) ?getScalar(maxHeight,'h') - hSpace :maxHeight);origMaxWidth =maxWidth;origMaxHeight =maxHeight;if (current.fitToView) {maxWidth =Math.min(viewport.w - wSpace,maxWidth);maxHeight =Math.min(viewport.h - hSpace,maxHeight);}
maxWidth_ =viewport.w - wMargin;maxHeight_ =viewport.h - hMargin;if (current.aspectRatio) {if (width > maxWidth) {width =maxWidth;height =getScalar(width / ratio);}
if (height > maxHeight) {height =maxHeight;width =getScalar(height * ratio);}
if (width < minWidth) {width =minWidth;height =getScalar(width / ratio);}
if (height < minHeight) {height =minHeight;width =getScalar(height * ratio);}
} else {width =Math.max(minWidth,Math.min(width,maxWidth));if (current.autoHeight &&current.type !=='iframe') {inner.width(width );height =inner.height();}
height =Math.max(minHeight,Math.min(height,maxHeight));}
if (current.fitToView) {inner.width(width ).height(height );wrap.width(width + wPadding );width_ =wrap.width();height_ =wrap.height();if (current.aspectRatio) {while ((width_ > maxWidth_ ||height_ > maxHeight_) &&width > minWidth &&height > minHeight) {if (steps++ > 19) {break;}
height =Math.max(minHeight,Math.min(maxHeight,height - 10));width =getScalar(height * ratio);if (width < minWidth) {width =minWidth;height =getScalar(width / ratio);}
if (width > maxWidth) {width =maxWidth;height =getScalar(width / ratio);}
inner.width(width ).height(height );wrap.width(width + wPadding );width_ =wrap.width();height_ =wrap.height();}
} else {width =Math.max(minWidth,Math.min(width,width - (width_ - maxWidth_)));height =Math.max(minHeight,Math.min(height,height - (height_ - maxHeight_)));}
}
if (scrollOut &&scrolling ==='auto'&&height < origHeight &&(width + wPadding + scrollOut) < maxWidth_) {width +=scrollOut;}
inner.width(width ).height(height );wrap.width(width + wPadding );width_ =wrap.width();height_ =wrap.height();canShrink =(width_ > maxWidth_ ||height_ > maxHeight_) &&width > minWidth &&height > minHeight;canExpand =current.aspectRatio ?(width < origMaxWidth &&height < origMaxHeight &&width < origWidth &&height < origHeight) :((width < origMaxWidth ||height < origMaxHeight) &&(width < origWidth ||height < origHeight));$.extend(current,{dim :{width:getValue(width_ ),height:getValue(height_ )
},origWidth :origWidth,origHeight :origHeight,canShrink :canShrink,canExpand :canExpand,wPadding :wPadding,hPadding :hPadding,wrapSpace :height_ - skin.outerHeight(true),skinSpace :skin.height() - height
});if (!iframe &&current.autoHeight &&height > minHeight &&height < maxHeight &&!canExpand) {inner.height('auto');}
},_getPosition:function (onlyAbsolute) {var current =F.current,viewport =F.getViewport(),margin =current.margin,width =F.wrap.width() + margin[1] + margin[3],height =F.wrap.height() + margin[0] + margin[2],rez ={position:'absolute',top :margin[0],left :margin[3]
};if (current.autoCenter &&current.fixed &&!onlyAbsolute &&height <=viewport.h &&width <=viewport.w) {rez.position ='fixed';} else if (!current.locked) {rez.top +=viewport.y;rez.left +=viewport.x;}
rez.top =getValue(Math.max(rez.top,rez.top + ((viewport.h - height) * current.topRatio)));rez.left =getValue(Math.max(rez.left,rez.left + ((viewport.w - width) * current.leftRatio)));return rez;},_afterZoomIn:function () {var current =F.current;if (!current) {return;}
F.isOpen =F.isOpened =true;F.wrap.css('overflow','visible').addClass('fancybox-opened');F.update();if (current.closeClick ||(current.nextClick &&F.group.length > 1) ) {F.inner.css('cursor','pointer').bind('click.fb',function(e) {if (!$(e.target).is('a') &&!$(e.target).parent().is('a')) {e.preventDefault();F[current.closeClick ?'close':'next']();}
});}
if (current.closeBtn) {$(current.tpl.closeBtn).appendTo(F.skin).bind('click.fb',function(e) {e.preventDefault();F.close();});}
if (current.arrows &&F.group.length > 1) {if (current.loop ||current.index > 0) {$(current.tpl.prev).appendTo(F.outer).bind('click.fb',F.prev);}
if (current.loop ||current.index < F.group.length - 1) {$(current.tpl.next).appendTo(F.outer).bind('click.fb',F.next);}
}
F.trigger('afterShow');if (!current.loop &&current.index ===current.group.length - 1) {F.play(false );} else if (F.opts.autoPlay &&!F.player.isActive) {F.opts.autoPlay =false;F.play();}
},_afterZoomOut:function (obj ) {obj =obj ||F.current;$('.fancybox-wrap').trigger('onReset').remove();$.extend(F,{group :{},opts :{},router :false,current :null,isActive :false,isOpened :false,isOpen :false,isClosing :false,wrap :null,skin :null,outer :null,inner :null
});F.trigger('afterClose',obj);}
});F.transitions ={getOrigPosition:function () {var current =F.current,element =current.element,orig =current.orig,pos ={},width =50,height =50,hPadding =current.hPadding,wPadding =current.wPadding,viewport =F.getViewport();if (!orig &&current.isDom &&element.is(':visible')) {orig =element.find('img:first');if (!orig.length) {orig =element;}
}
if (isQuery(orig)) {pos =orig.offset();if (orig.is('img')) {width =orig.outerWidth();height =orig.outerHeight();}
} else {pos.top =viewport.y + (viewport.h - height) * current.topRatio;pos.left =viewport.x + (viewport.w - width) * current.leftRatio;}
if (F.wrap.css('position') ==='fixed'||current.locked) {pos.top -=viewport.y;pos.left -=viewport.x;}
pos ={top :getValue(pos.top - hPadding * current.topRatio),left :getValue(pos.left - wPadding * current.leftRatio),width :getValue(width + wPadding),height :getValue(height + hPadding)
};return pos;},step:function (now,fx) {var ratio,padding,value,prop =fx.prop,current =F.current,wrapSpace =current.wrapSpace,skinSpace =current.skinSpace;if (prop ==='width'||prop ==='height') {ratio =fx.end ===fx.start ?1 :(now - fx.start) / (fx.end - fx.start);if (F.isClosing) {ratio =1 - ratio;}
padding =prop ==='width'?current.wPadding :current.hPadding;value =now - padding;F.skin[prop ](getScalar(prop ==='width'?value :value - (wrapSpace * ratio) ) );F.inner[prop ](getScalar(prop ==='width'?value :value - (wrapSpace * ratio) - (skinSpace * ratio) ) );}
},zoomIn:function () {var current =F.current,startPos =current.pos,effect =current.openEffect,elastic =effect ==='elastic',endPos =$.extend({opacity :1},startPos);delete endPos.position;if (elastic) {startPos =this.getOrigPosition();if (current.openOpacity) {startPos.opacity =0.1;}
} else if (effect ==='fade') {startPos.opacity =0.1;}
F.wrap.css(startPos).animate(endPos,{duration :effect ==='none'?0 :current.openSpeed,easing :current.openEasing,step :elastic ?this.step :null,complete :F._afterZoomIn
});},zoomOut:function () {var current =F.current,effect =current.closeEffect,elastic =effect ==='elastic',endPos ={opacity :0.1};if (elastic) {endPos =this.getOrigPosition();if (current.closeOpacity) {endPos.opacity =0.1;}
}
F.wrap.animate(endPos,{duration :effect ==='none'?0 :current.closeSpeed,easing :current.closeEasing,step :elastic ?this.step :null,complete :F._afterZoomOut
});},changeIn:function () {var current =F.current,effect =current.nextEffect,startPos =current.pos,endPos ={opacity :1 },direction =F.direction,distance =200,field;startPos.opacity =0.1;if (effect ==='elastic') {field =direction ==='down'||direction ==='up'?'top':'left';if (direction ==='down'||direction ==='right') {startPos[field ] =getValue(getScalar(startPos[field ]) - distance);endPos[field ] ='+='+ distance + 'px';} else {startPos[field ] =getValue(getScalar(startPos[field ]) + distance);endPos[field ] ='-='+ distance + 'px';}
}
if (effect ==='none') {F._afterZoomIn();} else {F.wrap.css(startPos).animate(endPos,{duration :current.nextSpeed,easing :current.nextEasing,complete :F._afterZoomIn
});}
},changeOut:function () {var previous =F.previous,effect =previous.prevEffect,endPos ={opacity :0.1 },direction =F.direction,distance =200;if (effect ==='elastic') {endPos[direction ==='down'||direction ==='up'?'top':'left'] =(direction ==='up'||direction ==='left'?'-':'+') + '='+ distance + 'px';}
previous.wrap.animate(endPos,{duration :effect ==='none'?0 :previous.prevSpeed,easing :previous.prevEasing,complete :function () {$(this).trigger('onReset').remove();}
});}
};F.helpers.overlay ={defaults :{closeClick :true,speedOut :200,showEarly :true,css :{},locked :!isTouch,fixed :true },overlay :null,fixed :false,el :$('html'),create :function(opts) {opts =$.extend({},this.defaults,opts);if (this.overlay) {this.close();}
this.overlay =$('<div class="fancybox-overlay"></div>').appendTo(F.coming ?F.coming.parent :opts.parent );this.fixed =false;if (opts.fixed &&F.defaults.fixed) {this.overlay.addClass('fancybox-overlay-fixed');this.fixed =true;}
},open :function(opts) {var that =this;opts =$.extend({},this.defaults,opts);if (this.overlay) {this.overlay.unbind('.overlay').width('auto').height('auto');} else {this.create(opts);}
if (!this.fixed) {W.bind('resize.overlay',$.proxy(this.update,this) );this.update();}
if (opts.closeClick) {this.overlay.bind('click.overlay',function(e) {if ($(e.target).hasClass('fancybox-overlay')) {if (F.isActive) {F.close();} else {that.close();}
return false;}
});}
this.overlay.css(opts.css ).show();},close :function() {var scrollV,scrollH;W.unbind('resize.overlay');if (this.el.hasClass('fancybox-lock')) {$('.fancybox-margin').removeClass('fancybox-margin');scrollV =W.scrollTop();scrollH =W.scrollLeft();this.el.removeClass('fancybox-lock');W.scrollTop(scrollV ).scrollLeft(scrollH );}
$('.fancybox-overlay').remove().hide();$.extend(this,{overlay :null,fixed :false
});},update :function () {var width ='100%',offsetWidth;this.overlay.width(width).height('100%');if (IE) {offsetWidth =Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if (D.width() > offsetWidth) {width =D.width();}
} else if (D.width() > W.width()) {width =D.width();}
this.overlay.width(width).height(D.height());},onReady :function (opts,obj) {var overlay =this.overlay;$('.fancybox-overlay').stop(true,true);if (!overlay) {this.create(opts);}
if (opts.locked &&this.fixed &&obj.fixed) {if (!overlay) {this.margin =D.height() > W.height() ?$('html').css('margin-right').replace("px","") :false;}
obj.locked =this.overlay.append(obj.wrap );obj.fixed =false;}
if (opts.showEarly ===true) {this.beforeShow.apply(this,arguments);}
},beforeShow :function(opts,obj) {var scrollV,scrollH;if (obj.locked) {if (this.margin !==false) {$('*').filter(function(){return ($(this).css('position') ==='fixed'&&!$(this).hasClass("fancybox-overlay") &&!$(this).hasClass("fancybox-wrap") );}).addClass('fancybox-margin');this.el.addClass('fancybox-margin');}
scrollV =W.scrollTop();scrollH =W.scrollLeft();this.el.addClass('fancybox-lock');W.scrollTop(scrollV ).scrollLeft(scrollH );}
this.open(opts);},onUpdate :function() {if (!this.fixed) {this.update();}
},afterClose:function (opts) {if (this.overlay &&!F.coming) {this.overlay.fadeOut(opts.speedOut,$.proxy(this.close,this ));}
}
};F.helpers.title ={defaults :{type :'float',position :'bottom'},beforeShow:function (opts) {var current =F.current,text =current.title,type =opts.type,title,target;if ($.isFunction(text)) {text =text.call(current.element,current);}
if (!isString(text) ||$.trim(text) ==='') {return;}
title =$('<div class="fancybox-title fancybox-title-'+ type + '-wrap">'+ text + '</div>');switch (type) {case 'inside':target =F.skin;break;case 'outside':target =F.wrap;break;case 'over':target =F.inner;break;default:target =F.skin;title.appendTo('body');if (IE) {title.width(title.width() );}
title.wrapInner('<span class="child"></span>');F.current.margin[2] +=Math.abs(getScalar(title.css('margin-bottom')) );break;}
title[(opts.position ==='top'?'prependTo':'appendTo') ](target);}
};$.fn.fancybox =function (options) {var index,that =$(this),selector =this.selector ||'',run =function(e) {var what =$(this).blur(),idx =index,relType,relVal;if (!(e.ctrlKey ||e.altKey ||e.shiftKey ||e.metaKey) &&!what.is('.fancybox-wrap')) {relType =options.groupAttr ||'data-fancybox-group';relVal =what.attr(relType);if (!relVal) {relType ='rel';relVal =what.get(0)[relType ];}
if (relVal &&relVal !==''&&relVal !=='nofollow') {what =selector.length ?$(selector) :that;what =what.filter('['+ relType + '="'+ relVal + '"]');idx =what.index(this);}
options.index =idx;if (F.open(what,options) !==false) {e.preventDefault();}
}
};options =options ||{};index =options.index ||0;if (!selector ||options.live ===false) {that.unbind('click.fb-start').bind('click.fb-start',run);} else {D.undelegate(selector,'click.fb-start').delegate(selector + ":not('.fancybox-item, .fancybox-nav')",'click.fb-start',run);}
this.filter('[data-fancybox-start=1]').trigger('click');return this;};D.ready(function() {var w1,w2;if ($.scrollbarWidth ===undefined ) {$.scrollbarWidth =function() {var parent =$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo('body'),child =parent.children(),width =child.innerWidth() - child.height(99 ).innerWidth();parent.remove();return width;};}
if ($.support.fixedPosition ===undefined ) {$.support.fixedPosition =(function() {var elem =$('<div style="position:fixed;top:20px;"></div>').appendTo('body'),fixed =(elem[0].offsetTop ===20 ||elem[0].offsetTop ===15 );elem.remove();return fixed;}());}
$.extend(F.defaults,{scrollbarWidth :$.scrollbarWidth(),fixed :$.support.fixedPosition,parent :$('body')
});w1 =$(window).width();H.addClass('fancybox-lock-test');w2 =$(window).width();H.removeClass('fancybox-lock-test');$("<style type='text/css'>.fancybox-margin{margin-right:"+ (w2 - w1) + "px;}</style>").appendTo("head");});}(window,document,jQuery));;(function(window,document,$) {var isOperaMini =Object.prototype.toString.call(window.operamini) =='[object OperaMini]';var isInputSupported ='placeholder'in document.createElement('input') &&!isOperaMini;var isTextareaSupported ='placeholder'in document.createElement('textarea') &&!isOperaMini;var prototype =$.fn;var valHooks =$.valHooks;var propHooks =$.propHooks;var hooks;var placeholder;if (isInputSupported &&isTextareaSupported) {placeholder =prototype.placeholder =function() {return this;};placeholder.input =placeholder.textarea =true;} else {placeholder =prototype.placeholder =function() {var $this =this;$this
.filter((isInputSupported ?'textarea':':input') + '[placeholder]')
.not('.placeholder')
.bind({'focus.placeholder':clearPlaceholder,'blur.placeholder':setPlaceholder
})
.data('placeholder-enabled',true)
.trigger('blur.placeholder');return $this;};placeholder.input =isInputSupported;placeholder.textarea =isTextareaSupported;hooks ={'get':function(element) {var $element =$(element);var $passwordInput =$element.data('placeholder-password');if ($passwordInput) {return $passwordInput[0].value;}
return $element.data('placeholder-enabled') &&$element.hasClass('placeholder') ?'':element.value;},'set':function(element,value) {var $element =$(element);var $passwordInput =$element.data('placeholder-password');if ($passwordInput) {return $passwordInput[0].value =value;}
if (!$element.data('placeholder-enabled')) {return element.value =value;}
if (value =='') {element.value =value;if (element !=safeActiveElement()) {setPlaceholder.call(element);}
} else if ($element.hasClass('placeholder')) {clearPlaceholder.call(element,true,value) ||(element.value =value);} else {element.value =value;}
return $element;}
};if (!isInputSupported) {valHooks.input =hooks;propHooks.value =hooks;}
if (!isTextareaSupported) {valHooks.textarea =hooks;propHooks.value =hooks;}
$(function() {$(document).delegate('form','submit.placeholder',function() {var $inputs =$('.placeholder',this).each(clearPlaceholder);setTimeout(function() {$inputs.each(setPlaceholder);},10);});});$(window).bind('beforeunload.placeholder',function() {$('.placeholder').each(function() {this.value ='';});});}
function args(elem) {var newAttrs ={};var rinlinejQuery =/^jQuery\d+$/;
$.each(elem.attributes,function(i,attr) {if (attr.specified &&!rinlinejQuery.test(attr.name)) {newAttrs[attr.name] =attr.value;}
});return newAttrs;}
function clearPlaceholder(event,value) {var input =this;var $input =$(input);if (input.value ==$input.attr('placeholder') &&$input.hasClass('placeholder')) {if ($input.data('placeholder-password')) {$input =$input.hide().next().show().attr('id',$input.removeAttr('id').data('placeholder-id'));if (event ===true) {return $input[0].value =value;}
$input.focus();} else {input.value ='';$input.removeClass('placeholder');input ==safeActiveElement() &&input.select();}
}
}
function setPlaceholder() {var $replacement;var input =this;var $input =$(input);var id =this.id;if (input.value =='') {if (input.type =='password') {if (!$input.data('placeholder-textinput')) {try {$replacement =$input.clone().attr({'type':'text'});} catch(e) {$replacement =$('<input>').attr($.extend(args(this),{'type':'text'}));}
$replacement
.removeAttr('name')
.data({'placeholder-password':$input,'placeholder-id':id
})
.bind('focus.placeholder',clearPlaceholder);$input
.data({'placeholder-textinput':$replacement,'placeholder-id':id
})
.before($replacement);}
$input =$input.removeAttr('id').hide().prev().attr('id',id).show();}
$input.addClass('placeholder');$input[0].value =$input.attr('placeholder');} else {$input.removeClass('placeholder');}
}
function safeActiveElement() {try {return document.activeElement;} catch (err) {}
}
}(this,document,jQuery));(function(e){var t,n,i,o,r,a,s,l="Close",c="BeforeClose",d="AfterClose",u="BeforeAppend",p="MarkupParse",f="Open",m="Change",g="mfp",h="."+g,v="mfp-ready",C="mfp-removing",y="mfp-prevent-close",w=function(){},b=!!window.jQuery,I=e(window),x=function(e,n){t.ev.on(g+e+h,n)},k=function(t,n,i,o){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},T=function(n,i){t.ev.triggerHandler(g+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},E=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},_=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},S=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=S(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=e(document),t.popupsCache={}},open:function(n){i||(i=e(document.body));var r;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var s,l=n.items;for(r=0;l.length>r;r++)if(s=l[r],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=r;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return t.updateItemHTML(),void 0;t.types=[],a="",t.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):o,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=k("bg").on("click"+h,function(){t.close()}),t.wrap=k("wrap").attr("tabindex",-1).on("click"+h,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=k("container",t.wrap)),t.contentContainer=k("content"),t.st.preloader&&(t.preloader=k("preloader",t.container,t.st.tLoading));var c=e.magnificPopup.modules;for(r=0;c.length>r;r++){var d=c[r];d=d.charAt(0).toUpperCase()+d.slice(1),t["init"+d].call(t)}T("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(x(p,function(e,t,n,i){n.close_replaceWith=E(i.type)}),a+=" mfp-close-btn-in"):t.wrap.append(E())),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:I.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:o.height(),position:"absolute"}),t.st.enableEscapeKey&&o.on("keyup"+h,function(e){27===e.keyCode&&t.close()}),I.on("resize"+h,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var u=t.wH=I.height(),m={};if(t.fixedContentPos&&t._hasScrollBar(u)){var g=t._getScrollbarSize();g&&(m.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):m.overflow="hidden");var C=t.st.mainClass;return t.isIE7&&(C+=" mfp-ie7"),C&&t._addClassToMFP(C),t.updateItemHTML(),T("BuildControls"),e("html").css(m),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||i),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),o.on("focusin"+h,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),T(f),n},close:function(){t.isOpen&&(T(c),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(C),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){T(l);var n=C+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}o.off("keyup"+h+" focusin"+h),t.ev.off(h),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,T(d)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||I.height();t.fixedContentPos||t.wrap.css("height",t.wH),T("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(T("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var o=t.st[i]?t.st[i].markup:!1;T("FirstMarkupParse",o),t.currTemplate[i]=o?e(o):!0}r&&r!==n.type&&t.container.removeClass("mfp-"+r+"-holder");var a=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(a,i),n.preloaded=!0,T(m,n),r=n.type,t.container.prepend(t.contentContainer),T("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(E()):t.content=e:t.content="",T(u),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,o=t.items[n];if(o.tagName?o={el:e(o)}:(i=o.type,o={data:o,src:o.src}),o.el){for(var r=t.types,a=0;r.length>a;a++)if(o.el.hasClass("mfp-"+r[a])){i=r[a];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=i||t.st.type||"inline",o.index=n,o.parsed=!0,t.items[n]=o,T("ElementParse",o),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var o="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(o).on(o,i)):(n.isObj=!1,n.delegate?e.off(o).on(o,n.delegate,i):(n.items=e,e.off(o).on(o,i)))},_openClick:function(n,i,o){var r=void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick;if(r||2!==n.which&&!n.ctrlKey&&!n.metaKey){var a=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(a>I.width())return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),o.el=e(n.mfpEl),o.delegate&&(o.items=i.find(o.delegate)),t.open(o)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var o={status:e,text:i};T("UpdateStatus",o),e=o.status,i=o.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(y)){var i=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(i&&o)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(o&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?o.height():document.body.scrollHeight)>(e||I.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),T(p,[t,n,i]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(o=e.split("_"),o.length>1){var i=t.find(h+"-"+o[0]);if(i.length>0){var r=o[1];"replaceWith"===r?i[0]!==n[0]&&i.replaceWith(n):"img"===r?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(o[1],n)}}else t.find(h+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,n){return _(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<a title="%title%" class="mfp-close">&times;</a>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){_();var i=e(this);if("string"==typeof n)if("open"===n){var o,r=b?i.data("magnificPopup"):i[0].magnificPopup,a=parseInt(arguments[1],10)||0;r.items?o=r.items[a]:(o=i,r.delegate&&(o=o.find(r.delegate)),o=o.eq(a)),t._openClick({mfpEl:o},i,r)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),b?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var P,O,z,M="inline",B=function(){z&&(O.after(z.addClass(P)).detach(),z=null)};e.magnificPopup.registerModule(M,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(M),x(l+"."+M,function(){B()})},getInline:function(n,i){if(B(),n.src){var o=t.st.inline,r=e(n.src);if(r.length){var a=r[0].parentNode;a&&a.tagName&&(O||(P=o.hiddenClass,O=k(P),P="mfp-"+P),z=r.after(O).detach().removeClass(P)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),r=e("<div>");return n.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var F,H="ajax",L=function(){F&&i.removeClass(F)},A=function(){L(),t.req&&t.req.abort()};e.magnificPopup.registerModule(H,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(H),F=t.st.ajax.cursor,x(l+"."+H,A),x("BeforeChange."+H,A)},getAjax:function(n){F&&i.addClass(F),t.updateStatus("loading");var o=e.extend({url:n.src,success:function(i,o,r){var a={data:i,xhr:r};T("ParseAjax",a),t.appendContent(e(a.data),H),n.finished=!0,L(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),T("AjaxContentAdded")},error:function(){L(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(o),""}}});var j,N=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),x(f+n,function(){"image"===t.currItem.type&&e.cursor&&i.addClass(e.cursor)}),x(l+n,function(){e.cursor&&i.removeClass(e.cursor),I.off("resize"+h)}),x("Resize"+n,t.resizeImage),t.isLowIE&&x("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,j&&clearInterval(j),e.isCheckingImgSize=!1,T("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(r){j&&clearInterval(j),j=setInterval(function(){return i.naturalWidth>0?(t._onImageHasSize(e),void 0):(n>200&&clearInterval(j),n++,3===n?o(10):40===n?o(50):100===n&&o(500),void 0)},r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,T("ImageLoadComplete")):(o++,200>o?setTimeout(r,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.img=e(c).on("load.mfploader",r).on("error.mfploader",a),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),c=n.img[0],c.naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:N(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(j&&clearInterval(j),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var W,R=function(){return void 0===W&&(W=void 0!==document.createElement("p").style.MozTransform),W};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var o,r,a=n.duration,s=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,t.css(o),t},d=function(){t.content.css("visibility","visible")};x("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return d(),void 0;r=s(e),r.css(t._getOffset()),t.wrap.append(r),o=setTimeout(function(){r.css(t._getOffset(!0)),o=setTimeout(function(){d(),setTimeout(function(){r.remove(),e=r=null,T("ZoomAnimationEnded")},16)},a)},16)}}),x(c+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;r=s(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),x(l+i,function(){t._allowZoom()&&(d(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=i.offset(),r=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var s={width:i.width(),height:(b?i.innerHeight():i[0].offsetHeight)-a-r};return R()?s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)":(s.left=o.left,s.top=o.top),s}}});var Z="iframe",q="//about:blank",D=function(e){if(t.currTemplate[Z]){var n=t.currTemplate[Z].find("iframe");n.length&&(e||(n[0].src=q),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(Z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(Z),x("BeforeChange",function(e,t,n){t!==n&&(t===Z?D():n===Z&&D(!0))}),x(l+"."+Z,function(){D()})},getIframe:function(n,i){var o=n.src,r=t.st.iframe;e.each(r.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var a={};return r.srcAction&&(a[r.srcAction]=o),t._parseMarkup(i,a,n),t.updateStatus("ready"),i}}});var K=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},Y=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery",r=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",x(f+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),o.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),x("UpdateStatus"+i,function(e,n){n.text&&(n.text=Y(n.text,t.currItem.index,t.items.length))}),x(p+i,function(e,i,o,r){var a=t.items.length;o.counter=a>1?Y(n.tCounter,r.index,a):""}),x("BuildControls"+i,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,o=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(y),a=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(y),s=r?"mfpFastClick":"click";o[s](function(){t.prev()}),a[s](function(){t.next()}),t.isIE7&&(k("b",o[0],!1,!0),k("a",o[0],!1,!0),k("b",a[0],!1,!0),k("a",a[0],!1,!0)),t.container.append(o.add(a))}}),x(m+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),x(l+i,function(){o.off(i),t.wrap.off("click"+i),t.arrowLeft&&r&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null}),void 0):!1},next:function(){t.direction=!0,t.index=K(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=K(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),o=Math.min(n[1],t.items.length);for(e=1;(t.direction?o:i)>=e;e++)t._preloadItem(t.index+e);for(e=1;(t.direction?i:o)>=e;e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=K(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),T("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,T("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var U="retina";e.magnificPopup.registerModule(U,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(x("ImageHasSize."+U,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),x("ElementParse."+U,function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,i=function(){I.off("touchmove"+r+" touchend"+r)},o="mfpFastClick",r="."+o;e.fn.mfpFastClick=function(o){return e(this).each(function(){var a,s=e(this);if(n){var l,c,d,u,p,f;s.on("touchstart"+r,function(e){u=!1,f=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=p.clientX,d=p.clientY,I.on("touchmove"+r,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,f=p.length,p=p[0],(Math.abs(p.clientX-c)>10||Math.abs(p.clientY-d)>10)&&(u=!0,i())}).on("touchend"+r,function(e){i(),u||f>1||(a=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){a=!1},t),o())})})}s.on("click"+r,function(){a||o()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+r+" click"+r),n&&I.off("touchmove"+r+" touchend"+r)}}(),_()})(window.jQuery||window.Zepto);
(function($){function sc_setScroll(a,b,c){return"transition"==c.transition&&"swing"==b&&(b="ease"),{anims:[],duration:a,orgDuration:a,easing:b,startTime:getTime()}}function sc_startScroll(a,b){for(var c=0,d=a.anims.length;d>c;c++){var e=a.anims[c];e&&e[0][b.transition](e[1],a.duration,a.easing,e[2])}}function sc_stopScroll(a,b){is_boolean(b)||(b=!0),is_object(a.pre)&&sc_stopScroll(a.pre,b);for(var c=0,d=a.anims.length;d>c;c++){var e=a.anims[c];e[0].stop(!0),b&&(e[0].css(e[1]),is_function(e[2])&&e[2]())}is_object(a.post)&&sc_stopScroll(a.post,b)}function sc_afterScroll(a,b,c){switch(b&&b.remove(),c.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":a.css("opacity",1),a.css("filter","")}}function sc_fireCallbacks(a,b,c,d,e){if(b[c]&&b[c].call(a,d),e[c].length)for(var f=0,g=e[c].length;g>f;f++)e[c][f].call(a,d);return[]}function sc_fireQueue(a,b,c){return b.length&&(a.trigger(cf_e(b[0][0],c),b[0][1]),b.shift()),b}function sc_hideHiddenItems(a){a.each(function(){var a=$(this);a.data("_cfs_isHidden",a.is(":hidden")).hide()})}function sc_showHiddenItems(a){a&&a.each(function(){var a=$(this);a.data("_cfs_isHidden")||a.show()})}function sc_clearTimers(a){return a.auto&&clearTimeout(a.auto),a.progress&&clearInterval(a.progress),a}function sc_mapCallbackArguments(a,b,c,d,e,f,g){return{width:g.width,height:g.height,items:{old:a,skipped:b,visible:c},scroll:{items:d,direction:e,duration:f}}}function sc_getDuration(a,b,c,d){var e=a.duration;return"none"==a.fx?0:("auto"==e?e=b.scroll.duration/b.scroll.items*c:10>e&&(e=d/e),1>e?0:("fade"==a.fx&&(e/=2),Math.round(e)))}function nv_showNavi(a,b,c){var d=is_number(a.items.minimum)?a.items.minimum:a.items.visible+1;if("show"==b||"hide"==b)var e=b;else if(d>b){debug(c,"Not enough items ("+b+" total, "+d+" needed): Hiding navigation.");var e="hide"}else var e="show";var f="show"==e?"removeClass":"addClass",g=cf_c("hidden",c);a.auto.button&&a.auto.button[e]()[f](g),a.prev.button&&a.prev.button[e]()[f](g),a.next.button&&a.next.button[e]()[f](g),a.pagination.container&&a.pagination.container[e]()[f](g)}function nv_enableNavi(a,b,c){if(!a.circular&&!a.infinite){var d="removeClass"==b||"addClass"==b?b:!1,e=cf_c("disabled",c);if(a.auto.button&&d&&a.auto.button[d](e),a.prev.button){var f=d||0==b?"addClass":"removeClass";a.prev.button[f](e)}if(a.next.button){var f=d||b==a.items.visible?"addClass":"removeClass";a.next.button[f](e)}}}function go_getObject(a,b){return is_function(b)?b=b.call(a):is_undefined(b)&&(b={}),b}function go_getItemsObject(a,b){return b=go_getObject(a,b),is_number(b)?b={visible:b}:"variable"==b?b={visible:b,width:b,height:b}:is_object(b)||(b={}),b}function go_getScrollObject(a,b){return b=go_getObject(a,b),is_number(b)?b=50>=b?{items:b}:{duration:b}:is_string(b)?b={easing:b}:is_object(b)||(b={}),b}function go_getNaviObject(a,b){if(b=go_getObject(a,b),is_string(b)){var c=cf_getKeyCode(b);b=-1==c?$(b):c}return b}function go_getAutoObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:is_boolean(b)?b={play:b}:is_number(b)&&(b={timeoutDuration:b}),b.progress&&(is_string(b.progress)||is_jquery(b.progress))&&(b.progress={bar:b.progress}),b}function go_complementAutoObject(a,b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_boolean(b.play)||(b.play=!0),is_number(b.delay)||(b.delay=0),is_undefined(b.pauseOnEvent)&&(b.pauseOnEvent=!0),is_boolean(b.pauseOnResize)||(b.pauseOnResize=!0),is_number(b.timeoutDuration)||(b.timeoutDuration=10>b.duration?2500:5*b.duration),b.progress&&(is_function(b.progress.bar)&&(b.progress.bar=b.progress.bar.call(a)),is_string(b.progress.bar)&&(b.progress.bar=$(b.progress.bar)),b.progress.bar?(is_function(b.progress.updater)||(b.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(b.progress.interval)||(b.progress.interval=50)):b.progress=!1),b}function go_getPrevNextObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:is_number(b)&&(b={key:b}),b}function go_complementPrevNextObject(a,b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_string(b.key)&&(b.key=cf_getKeyCode(b.key)),b}function go_getPaginationObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={container:b}:is_boolean(b)&&(b={keys:b}),b}function go_complementPaginationObject(a,b){return is_function(b.container)&&(b.container=b.container.call(a)),is_string(b.container)&&(b.container=$(b.container)),is_number(b.items)||(b.items=!1),is_boolean(b.keys)||(b.keys=!1),is_function(b.anchorBuilder)||is_false(b.anchorBuilder)||(b.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(b.deviation)||(b.deviation=0),b}function go_getSwipeObject(a,b){return is_function(b)&&(b=b.call(a)),is_undefined(b)&&(b={onTouch:!1}),is_true(b)?b={onTouch:b}:is_number(b)&&(b={items:b}),b}function go_complementSwipeObject(a,b){return is_boolean(b.onTouch)||(b.onTouch=!0),is_boolean(b.onMouse)||(b.onMouse=!1),is_object(b.options)||(b.options={}),is_boolean(b.options.triggerOnTouchEnd)||(b.options.triggerOnTouchEnd=!1),b}function go_getMousewheelObject(a,b){return is_function(b)&&(b=b.call(a)),is_true(b)?b={}:is_number(b)?b={items:b}:is_undefined(b)&&(b=!1),b}function go_complementMousewheelObject(a,b){return b}function gn_getItemIndex(a,b,c,d,e){if(is_string(a)&&(a=$(a,e)),is_object(a)&&(a=$(a,e)),is_jquery(a)?(a=e.children().index(a),is_boolean(c)||(c=!1)):is_boolean(c)||(c=!0),is_number(a)||(a=0),is_number(b)||(b=0),c&&(a+=d.first),a+=b,d.total>0){for(;a>=d.total;)a-=d.total;for(;0>a;)a+=d.total}return a}function gn_getVisibleItemsPrev(a,b,c){for(var d=0,e=0,f=c;f>=0;f--){var g=a.eq(f);if(d+=g.is(":visible")?g[b.d.outerWidth](!0):0,d>b.maxDimension)return e;0==f&&(f=a.length),e++}}function gn_getVisibleItemsPrevFilter(a,b,c){return gn_getItemsPrevFilter(a,b.items.filter,b.items.visibleConf.org,c)}function gn_getScrollItemsPrevFilter(a,b,c,d){return gn_getItemsPrevFilter(a,b.items.filter,d,c)}function gn_getItemsPrevFilter(a,b,c,d){for(var e=0,f=0,g=d,h=a.length;g>=0;g--){if(f++,f==h)return f;var i=a.eq(g);if(i.is(b)&&(e++,e==c))return f;0==g&&(g=h)}}function gn_getVisibleOrg(a,b){return b.items.visibleConf.org||a.children().slice(0,b.items.visible).filter(b.items.filter).length}function gn_getVisibleItemsNext(a,b,c){for(var d=0,e=0,f=c,g=a.length-1;g>=f;f++){var h=a.eq(f);if(d+=h.is(":visible")?h[b.d.outerWidth](!0):0,d>b.maxDimension)return e;if(e++,e==g+1)return e;f==g&&(f=-1)}}function gn_getVisibleItemsNextTestCircular(a,b,c,d){var e=gn_getVisibleItemsNext(a,b,c);return b.circular||c+e>d&&(e=d-c),e}function gn_getVisibleItemsNextFilter(a,b,c){return gn_getItemsNextFilter(a,b.items.filter,b.items.visibleConf.org,c,b.circular)}function gn_getScrollItemsNextFilter(a,b,c,d){return gn_getItemsNextFilter(a,b.items.filter,d+1,c,b.circular)-1}function gn_getItemsNextFilter(a,b,c,d){for(var f=0,g=0,h=d,i=a.length-1;i>=h;h++){if(g++,g>=i)return g;var j=a.eq(h);if(j.is(b)&&(f++,f==c))return g;h==i&&(h=-1)}}function gi_getCurrentItems(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsPrev(a,b,c){return a.slice(c,b.items.visibleConf.old+c)}function gi_getNewItemsPrev(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsNext(a,b){return a.slice(0,b.items.visibleConf.old)}function gi_getNewItemsNext(a,b,c){return a.slice(c,b.items.visible+c)}function sz_storeMargin(a,b,c){b.usePadding&&(is_string(c)||(c="_cfs_origCssMargin"),a.each(function(){var a=$(this),d=parseInt(a.css(b.d.marginRight),10);is_number(d)||(d=0),a.data(c,d)}))}function sz_resetMargin(a,b,c){if(b.usePadding){var d=is_boolean(c)?c:!1;is_number(c)||(c=0),sz_storeMargin(a,b,"_cfs_tempCssMargin"),a.each(function(){var a=$(this);a.css(b.d.marginRight,d?a.data("_cfs_tempCssMargin"):c+a.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(a){a.each(function(){var a=$(this);a.data("_cfs_origCss",a.attr("style")||"")})}function sz_restoreOrigCss(a){a.each(function(){var a=$(this);a.attr("style",a.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(a,b){var d=(a.items.visible,a.items[a.d.width]),e=a[a.d.height],f=is_percentage(e);b.each(function(){var b=$(this),c=d-ms_getPaddingBorderMargin(b,a,"Width");b[a.d.width](c),f&&b[a.d.height](ms_getPercentage(c,e))})}function sz_setSizes(a,b){var c=a.parent(),d=a.children(),e=gi_getCurrentItems(d,b),f=cf_mapWrapperSizes(ms_getSizes(e,b,!0),b,!1);if(c.css(f),b.usePadding){var g=b.padding,h=g[b.d[1]];b.align&&0>h&&(h=0);var i=e.last();i.css(b.d.marginRight,i.data("_cfs_origCssMargin")+h),a.css(b.d.top,g[b.d[0]]),a.css(b.d.left,g[b.d[3]])}return a.css(b.d.width,f[b.d.width]+2*ms_getTotalSize(d,b,"width")),a.css(b.d.height,ms_getLargestSize(d,b,"height")),f}function ms_getSizes(a,b,c){return[ms_getTotalSize(a,b,"width",c),ms_getLargestSize(a,b,"height",c)]}function ms_getLargestSize(a,b,c,d){return is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d?b[b.d[c]]:is_number(b.items[b.d[c]])?b.items[b.d[c]]:(c=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",ms_getTrueLargestSize(a,b,c))}function ms_getTrueLargestSize(a,b,c){for(var d=0,e=0,f=a.length;f>e;e++){var g=a.eq(e),h=g.is(":visible")?g[b.d[c]](!0):0;h>d&&(d=h)}return d}function ms_getTotalSize(a,b,c,d){if(is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d)return b[b.d[c]];if(is_number(b.items[b.d[c]]))return b.items[b.d[c]]*a.length;for(var e=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",f=0,g=0,h=a.length;h>g;g++){var i=a.eq(g);f+=i.is(":visible")?i[b.d[e]](!0):0}return f}function ms_getParentSize(a,b,c){var d=a.is(":visible");d&&a.hide();var e=a.parent()[b.d[c]]();return d&&a.show(),e}function ms_getMaxDimension(a,b){return is_number(a[a.d.width])?a[a.d.width]:b}function ms_hasVariableSizes(a,b,c){for(var d=!1,e=!1,f=0,g=a.length;g>f;f++){var h=a.eq(f),i=h.is(":visible")?h[b.d[c]](!0):0;d===!1?d=i:d!=i&&(e=!0),0==d&&(e=!0)}return e}function ms_getPaddingBorderMargin(a,b,c){return a[b.d["outer"+c]](!0)-a[b.d[c.toLowerCase()]]()}function ms_getPercentage(a,b){if(is_percentage(b)){if(b=parseInt(b.slice(0,-1),10),!is_number(b))return a;a*=b/100}return a}function cf_e(a,b,c,d,e){return is_boolean(c)||(c=!0),is_boolean(d)||(d=!0),is_boolean(e)||(e=!1),c&&(a=b.events.prefix+a),d&&(a=a+"."+b.events.namespace),d&&e&&(a+=b.serialNumber),a}function cf_c(a,b){return is_string(b.classnames[a])?b.classnames[a]:a}function cf_mapWrapperSizes(a,b,c){is_boolean(c)||(c=!0);var d=b.usePadding&&c?b.padding:[0,0,0,0],e={};return e[b.d.width]=a[0]+d[1]+d[3],e[b.d.height]=a[1]+d[0]+d[2],e}function cf_sortParams(a,b){for(var c=[],d=0,e=a.length;e>d;d++)for(var f=0,g=b.length;g>f;f++)if(b[f].indexOf(typeof a[d])>-1&&is_undefined(c[f])){c[f]=a[d];break}return c}function cf_getPadding(a){if(is_undefined(a))return[0,0,0,0];if(is_number(a))return[a,a,a,a];if(is_string(a)&&(a=a.split("px").join("").split("em").join("").split(" ")),!is_array(a))return[0,0,0,0];for(var b=0;4>b;b++)a[b]=parseInt(a[b],10);switch(a.length){case 0:return[0,0,0,0];case 1:return[a[0],a[0],a[0],a[0]];case 2:return[a[0],a[1],a[0],a[1]];case 3:return[a[0],a[1],a[2],a[1]];default:return[a[0],a[1],a[2],a[3]]}}function cf_getAlignPadding(a,b){var c=is_number(b[b.d.width])?Math.ceil(b[b.d.width]-ms_getTotalSize(a,b,"width")):0;switch(b.align){case"left":return[0,c];case"right":return[c,0];case"center":default:return[Math.ceil(c/2),Math.floor(c/2)]}}function cf_getDimensions(a){for(var b=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],c=b[0].length,d="right"==a.direction||"left"==a.direction?0:1,e={},f=0;c>f;f++)e[b[0][f]]=b[d][f];return e}function cf_getAdjust(a,b,c,d){var e=a;if(is_function(c))e=c.call(d,e);else if(is_string(c)){var f=c.split("+"),g=c.split("-");if(g.length>f.length)var h=!0,i=g[0],j=g[1];else var h=!1,i=f[0],j=f[1];switch(i){case"even":e=1==a%2?a-1:a;break;case"odd":e=0==a%2?a-1:a;break;default:e=a}j=parseInt(j,10),is_number(j)&&(h&&(j=-j),e+=j)}return(!is_number(e)||1>e)&&(e=1),e}function cf_getItemsAdjust(a,b,c,d){return cf_getItemAdjustMinMax(cf_getAdjust(a,b,c,d),b.items.visibleConf)}function cf_getItemAdjustMinMax(a,b){return is_number(b.min)&&b.min>a&&(a=b.min),is_number(b.max)&&a>b.max&&(a=b.max),1>a&&(a=1),a}function cf_getSynchArr(a){is_array(a)||(a=[[a]]),is_array(a[0])||(a=[a]);for(var b=0,c=a.length;c>b;b++)is_string(a[b][0])&&(a[b][0]=$(a[b][0])),is_boolean(a[b][1])||(a[b][1]=!0),is_boolean(a[b][2])||(a[b][2]=!0),is_number(a[b][3])||(a[b][3]=0);return a}function cf_getKeyCode(a){return"right"==a?39:"left"==a?37:"up"==a?38:"down"==a?40:-1}function cf_setCookie(a,b,c){if(a){var d=b.triggerHandler(cf_e("currentPosition",c));$.fn.carouFredSel.cookie.set(a,d)}}function cf_getCookie(a){var b=$.fn.carouFredSel.cookie.get(a);return""==b?0:b}function in_mapCss(a,b){for(var c={},d=0,e=b.length;e>d;d++)c[b[d]]=a.css(b[d]);return c}function in_complementItems(a,b,c,d){return is_object(a.visibleConf)||(a.visibleConf={}),is_object(a.sizesConf)||(a.sizesConf={}),0==a.start&&is_number(d)&&(a.start=d),is_object(a.visible)?(a.visibleConf.min=a.visible.min,a.visibleConf.max=a.visible.max,a.visible=!1):is_string(a.visible)?("variable"==a.visible?a.visibleConf.variable=!0:a.visibleConf.adjust=a.visible,a.visible=!1):is_function(a.visible)&&(a.visibleConf.adjust=a.visible,a.visible=!1),is_string(a.filter)||(a.filter=c.filter(":hidden").length>0?":visible":"*"),a[b.d.width]||(b.responsive?(debug(!0,"Set a "+b.d.width+" for the items!"),a[b.d.width]=ms_getTrueLargestSize(c,b,"outerWidth")):a[b.d.width]=ms_hasVariableSizes(c,b,"outerWidth")?"variable":c[b.d.outerWidth](!0)),a[b.d.height]||(a[b.d.height]=ms_hasVariableSizes(c,b,"outerHeight")?"variable":c[b.d.outerHeight](!0)),a.sizesConf.width=a.width,a.sizesConf.height=a.height,a}function in_complementVisibleItems(a,b){return"variable"==a.items[a.d.width]&&(a.items.visibleConf.variable=!0),a.items.visibleConf.variable||(is_number(a[a.d.width])?a.items.visible=Math.floor(a[a.d.width]/a.items[a.d.width]):(a.items.visible=Math.floor(b/a.items[a.d.width]),a[a.d.width]=a.items.visible*a.items[a.d.width],a.items.visibleConf.adjust||(a.align=!1)),("Infinity"==a.items.visible||1>a.items.visible)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),a.items.visibleConf.variable=!0)),a}function in_complementPrimarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,"outerWidth")),a}function in_complementSecondarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,"outerHeight")),a||(a=b.items[b.d.height]),a}function in_getAlignPadding(a,b){var c=cf_getAlignPadding(gi_getCurrentItems(b,a),a);return a.padding[a.d[1]]=c[1],a.padding[a.d[3]]=c[0],a}function in_getResponsiveValues(a,b){var d=cf_getItemAdjustMinMax(Math.ceil(a[a.d.width]/a.items[a.d.width]),a.items.visibleConf);d>b.length&&(d=b.length);var e=Math.floor(a[a.d.width]/d);return a.items.visible=d,a.items[a.d.width]=e,a[a.d.width]=d*e,a}function bt_pauseOnHoverConfig(a){if(is_string(a))var b=a.indexOf("immediate")>-1?!0:!1,c=a.indexOf("resume")>-1?!0:!1;else var b=c=!1;return[b,c]}function bt_mousesheelNumber(a){return is_number(a)?a:null}function is_null(a){return null===a}function is_undefined(a){return is_null(a)||a===void 0||""===a||"undefined"===a}function is_array(a){return a instanceof Array}function is_jquery(a){return a instanceof jQuery}function is_object(a){return(a instanceof Object||"object"==typeof a)&&!is_null(a)&&!is_jquery(a)&&!is_array(a)&&!is_function(a)}function is_number(a){return(a instanceof Number||"number"==typeof a)&&!isNaN(a)}function is_string(a){return(a instanceof String||"string"==typeof a)&&!is_undefined(a)&&!is_true(a)&&!is_false(a)}function is_function(a){return a instanceof Function||"function"==typeof a}function is_boolean(a){return a instanceof Boolean||"boolean"==typeof a||is_true(a)||is_false(a)}function is_true(a){return a===!0||"true"===a}function is_false(a){return a===!1||"false"===a}function is_percentage(a){return is_string(a)&&"%"==a.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(a,b){debug(!0,a+" is DEPRECATED, support for it will be removed. Use "+b+" instead.")}function debug(a,b){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(a)){var c=" ("+a.selector+")";a=a.debug}else var c="";if(!a)return!1;b=is_string(b)?"carouFredSel"+c+": "+b:["carouFredSel"+c+":",b],window.console.log(b)}return!1}$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this,$tt0=this[0],starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0]));var FN={};FN._init=function(a,b,c){a=go_getObject($tt0,a),a.items=go_getItemsObject($tt0,a.items),a.scroll=go_getScrollObject($tt0,a.scroll),a.auto=go_getAutoObject($tt0,a.auto),a.prev=go_getPrevNextObject($tt0,a.prev),a.next=go_getPrevNextObject($tt0,a.next),a.pagination=go_getPaginationObject($tt0,a.pagination),a.swipe=go_getSwipeObject($tt0,a.swipe),a.mousewheel=go_getMousewheelObject($tt0,a.mousewheel),b&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,a)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,a),opts.d=cf_getDimensions(opts),crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var d=$cfs.children(),e=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,e),opts.items=in_complementItems(opts.items,opts,d,c),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,d),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,d),opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(e,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,e)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=is_number(opts[opts.d.width])?"center":!1),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(d,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(d,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive)opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,d,e);else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":"variable"!=opts[opts.d.width]&&(opts=in_getAlignPadding(opts,d),opts.usePadding=!0);break;default:opts.align=!1,opts.usePadding=0==opts.padding[0]&&0==opts.padding[1]&&0==opts.padding[2]&&0==opts.padding[3]?!1:!0}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},FN._build=function(){$cfs.data("_cfs_isCarousel",!0);var a=$cfs.children(),b=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),c="relative";switch(b.position){case"absolute":case"fixed":c=b.position}"parent"==conf.wrapper?sz_storeOrigCss($wrp):$wrp.css(b),$wrp.css({overflow:"hidden",position:c}),sz_storeOrigCss($cfs),$cfs.data("_cfs_origCssZindex",b.zIndex),$cfs.css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(a,opts),sz_storeOrigCss(a),opts.responsive&&sz_setResponsiveSizes(opts,a)},FN._bind_events=function(){FN._unbind_events(),$cfs.bind(cf_e("stop",conf),function(a,b){return a.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),b)),!0}),$cfs.bind(cf_e("finish",conf),function(a){return a.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(a,b,c){if(a.stopPropagation(),tmrs=sc_clearTimers(tmrs),b&&crsl.isScrolling){scrl.isStopped=!0;var d=getTime()-scrl.startTime;scrl.duration-=d,scrl.pre&&(scrl.pre.duration-=d),scrl.post&&(scrl.post.duration-=d),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||c&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var e=opts.auto.timeoutDuration-tmrs.timePassed,f=100-Math.ceil(100*e/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,f,e)}return!0}),$cfs.bind(cf_e("play",conf),function(a,b,c,d){a.stopPropagation(),tmrs=sc_clearTimers(tmrs);var e=[b,c,d],f=["string","number","boolean"],g=cf_sortParams(e,f);if(b=g[0],c=g[1],d=g[2],"prev"!=b&&"next"!=b&&(b=crsl.direction),is_number(c)||(c=0),is_boolean(d)||(d=!1),d&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return a.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var h=opts.auto.timeoutDuration+c;return dur2=h-tmrs.timePassed,perc=100-Math.ceil(100*dur2/h),opts.auto.progress&&(tmrs.progress=setInterval(function(){var a=getTime()-tmrs.startTime+tmrs.timePassed,b=Math.ceil(100*a/h);opts.auto.progress.updater.call(opts.auto.progress.bar[0],b)},opts.auto.progress.interval)),tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),b):$cfs.trigger(cf_e(b,conf),opts.auto)},dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(a){return a.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl,conf)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(a,b,c,d,e){if(a.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return a.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");var f=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(f>itms.total)return a.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+f+" needed): Not scrolling.");var g=[b,c,d,e],h=["object","number/string","function","boolean"],i=cf_sortParams(g,h);b=i[0],c=i[1],d=i[2],e=i[3];var j=a.type.slice(conf.events.prefix.length);if(is_object(b)||(b={}),is_function(d)&&(b.onAfter=d),is_boolean(e)&&(b.queue=e),b=$.extend(!0,{},opts[j],b),b.conditions&&!b.conditions.call($tt0,j))return a.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.');if(!is_number(c)){if("*"!=opts.items.filter)c="visible";else for(var k=[c,b.items,opts[j].items],i=0,l=k.length;l>i;i++)if(is_number(k[i])||"page"==k[i]||"visible"==k[i]){c=k[i];break}switch(c){case"page":return a.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(j+"Page",conf),[b,d]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(c=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]]),a.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(b.duration>0&&crsl.isScrolling)return b.queue&&("last"==b.queue&&(queu=[]),("first"!=b.queue||0==queu.length)&&$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]])),a.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+j,conf),[b,c]),opts.synchronise)for(var m=opts.synchronise,n=[b,c],o=0,l=m.length;l>o;o++){var p=j;m[o][2]||(p="prev"==p?"next":"prev"),m[o][1]||(n[0]=m[o][0].triggerHandler("_cfs_triggerEvent",["configuration",p])),n[1]=c+m[o][3],m[o][0].trigger("_cfs_triggerEvent",["slide_"+p,n])}return!0}),$cfs.bind(cf_e("slide_prev",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),a.stopImmediatePropagation();if(sz_resetMargin(d,opts),!is_number(c)){if(opts.items.visibleConf.variable)c=gn_getVisibleItemsPrev(d,opts,itms.total-1);else if("*"!=opts.items.filter){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsPrevFilter(d,opts,itms.total-1,e)}else c=opts.items.visible;c=cf_getAdjust(c,opts,b.items,$tt0)}if(opts.circular||itms.total-c<itms.first&&(c=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,$tt0);f>=opts.items.visible+c&&itms.total>c&&(c++,f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=f}else if("*"!=opts.items.filter){var f=gn_getVisibleItemsNextFilter(d,opts,itms.total-c);opts.items.visible=cf_getItemsAdjust(f,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(d,opts,!0),0==c)return a.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+c+" items backward."),itms.first+=c;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&b.onEnd&&b.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-c,itms.total).prependTo($cfs),itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);var d=$cfs.children(),g=gi_getOldItemsPrev(d,opts,c),h=gi_getNewItemsPrev(d,opts),i=d.eq(c-1),j=g.last(),k=h.last();sz_resetMargin(d,opts);var l=0,m=0;if(opts.align){var n=cf_getAlignPadding(h,opts);l=n[0],m=n[1]}var o=0>l?opts.padding[opts.d[3]]:0,p=!1,q=$();if(c>opts.items.visible&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b.fx)){var r=opts.items[opts.d.width];p=q,i=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(h,opts,!0),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B={},C={},D=sc_getDuration(b,opts,c,t);switch(b.fx){case"cover":case"cover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visible),opts,"width")}p&&(opts.items[opts.d.width]=r),sz_resetMargin(d,opts,!0),m>=0&&sz_resetMargin(j,opts,opts.padding[opts.d[1]]),l>=0&&sz_resetMargin(i,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=m,opts.padding[opts.d[3]]=l),B[opts.d.left]=-(t-o),C[opts.d.left]=-(v-o),x[opts.d.left]=u[opts.d.width];var E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){},L=function(){},M=function(){},N=function(){},O=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(!0).appendTo($wrp)}switch(b.fx){case"crossfade":case"uncover":case"uncover-fade":s.children().slice(0,c).remove(),s.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":s.children().slice(opts.items.visible).remove(),s.css(C)}if($cfs.css(B),scrl=sc_setScroll(D,b.easing,conf),w[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(E=function(){$wrp.css(u)},F=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){switch(k.not(i).length&&(y[opts.d.marginRight]=i.data("_cfs_origCssMargin"),0>l?i.css(y):(K=function(){i.css(y)},L=function(){scrl.anims.push([i,y])})),b.fx){case"cover":case"cover-fade":s.children().eq(c-1).css(y)}k.not(j).length&&(z[opts.d.marginRight]=j.data("_cfs_origCssMargin"),G=function(){j.css(z)},H=function(){scrl.anims.push([j,z])}),m>=0&&(A[opts.d.marginRight]=k.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],I=function(){k.css(A)},J=function(){scrl.anims.push([k,A])})}O=function(){$cfs.css(w)};var P=opts.items.visible+c-itms.total;N=function(){if(P>0&&($cfs.children().slice(itms.total).remove(),g=$($cfs.children().slice(itms.total-(opts.items.visible-P)).get().concat($cfs.children().slice(0,P).get()))),sc_showHiddenItems(p),opts.usePadding){var a=$cfs.children().eq(opts.items.visible+c-1);a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var Q=sc_mapCallbackArguments(g,q,h,c,"prev",D,u);switch(M=function(){sc_afterScroll($cfs,s,b),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",Q,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",Q,clbk),b.fx){case"none":$cfs.css(w),E(),G(),I(),K(),O(),N(),M();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){E(),G(),I(),K(),O(),N(),scrl=sc_setScroll(D,b.easing,conf),scrl.anims.push([$cfs,{opacity:1},M]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},M]),F(),G(),I(),K(),O(),N();break;case"cover":scrl.anims.push([s,w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([s,w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case"uncover":scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;default:scrl.anims.push([$cfs,w,function(){N(),M()}]),F(),H(),J(),L()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,u]),!0
}),$cfs.bind(cf_e("slide_next",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),a.stopImmediatePropagation();if(sz_resetMargin(d,opts),!is_number(c)){if("*"!=opts.items.filter){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsNextFilter(d,opts,0,e)}else c=opts.items.visible;c=cf_getAdjust(c,opts,b.items,$tt0)}var f=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable)var g=gn_getVisibleItemsNext(d,opts,c),e=gn_getVisibleItemsPrev(d,opts,f-1);else var g=opts.items.visible,e=opts.items.visible;c+g>f&&(c=f-e)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(var g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-c>=g&&itms.total>c;)c++,g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible=g}else if("*"!=opts.items.filter){var g=gn_getVisibleItemsNextFilter(d,opts,c);opts.items.visible=cf_getItemsAdjust(g,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(d,opts,!0),0==c)return a.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+c+" items forward."),itms.first-=c;0>itms.first;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&b.onEnd&&b.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);var d=$cfs.children(),h=gi_getOldItemsNext(d,opts),i=gi_getNewItemsNext(d,opts,c),j=d.eq(c-1),k=h.last(),l=i.last();sz_resetMargin(d,opts);var m=0,n=0;if(opts.align){var o=cf_getAlignPadding(i,opts);m=o[0],n=o[1]}var p=!1,q=$();if(c>opts.items.visibleConf.old&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b.fx)){var r=opts.items[opts.d.width];p=q,j=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(i,opts,!0),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B=sc_getDuration(b,opts,c,t);switch(b.fx){case"uncover":case"uncover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visibleConf.old),opts,"width")}p&&(opts.items[opts.d.width]=r),opts.align&&0>opts.padding[opts.d[1]]&&(opts.padding[opts.d[1]]=0),sz_resetMargin(d,opts,!0),sz_resetMargin(k,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=n,opts.padding[opts.d[3]]=m),A[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var C=function(){},D=function(){},E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(!0).appendTo($wrp),s.children().slice(opts.items.visibleConf.old).remove()}switch(b.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1),s.css("zIndex",0)}if(scrl=sc_setScroll(B,b.easing,conf),w[opts.d.left]=-t,x[opts.d.left]=-v,0>m&&(w[opts.d.left]+=m),("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(C=function(){$wrp.css(u)},D=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){var L=l.data("_cfs_origCssMargin");n>=0&&(L+=opts.padding[opts.d[1]]),l.css(opts.d.marginRight,L),j.not(k).length&&(z[opts.d.marginRight]=k.data("_cfs_origCssMargin")),E=function(){k.css(z)},F=function(){scrl.anims.push([k,z])};var M=j.data("_cfs_origCssMargin");m>0&&(M+=opts.padding[opts.d[3]]),y[opts.d.marginRight]=M,G=function(){j.css(y)},H=function(){scrl.anims.push([j,y])}}K=function(){$cfs.css(A)};var N=opts.items.visible+c-itms.total;J=function(){N>0&&$cfs.children().slice(itms.total).remove();var a=$cfs.children().slice(0,c).appendTo($cfs).last();if(N>0&&(i=gi_getCurrentItems(d,opts)),sc_showHiddenItems(p),opts.usePadding){if(itms.total<opts.items.visible+c){var b=$cfs.children().eq(opts.items.visible-1);b.css(opts.d.marginRight,b.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var O=sc_mapCallbackArguments(h,q,i,c,"next",B,u);switch(I=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex")),sc_afterScroll($cfs,s,b),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",O,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",O,clbk),b.fx){case"none":$cfs.css(w),C(),E(),G(),K(),J(),I();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){C(),E(),G(),K(),J(),scrl=sc_setScroll(B,b.easing,conf),scrl.anims.push([$cfs,{opacity:1},I]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},I]),D(),E(),G(),K(),J();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,A,I]),D(),E(),G(),J();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,A,I]),D(),E(),G(),J();break;case"uncover":scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;default:scrl.anims.push([$cfs,w,function(){K(),J(),I()}]),D(),F(),H()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,u]),!0}),$cfs.bind(cf_e("slideTo",conf),function(a,b,c,d,e,f,g){a.stopPropagation();var h=[b,c,d,e,f,g],i=["string/number/object","number","boolean","object","string","function"],j=cf_sortParams(h,i);return e=j[3],f=j[4],g=j[5],b=gn_getItemIndex(j[0],j[1],j[2],itms,$cfs),0==b?!1:(is_object(e)||(e=!1),"prev"!=f&&"next"!=f&&(f=opts.circular?itms.total/2>=b?"next":"prev":0==itms.first||itms.first>b?"next":"prev"),"prev"==f&&(b=itms.total-b),$cfs.trigger(cf_e(f,conf),[e,b,g]),!0)}),$cfs.bind(cf_e("prevPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d-1,b,"prev",c])}),$cfs.bind(cf_e("nextPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d+1,b,"next",c])}),$cfs.bind(cf_e("slideToPage",conf),function(a,b,c,d,e){a.stopPropagation(),is_number(b)||(b=$cfs.triggerHandler(cf_e("currentPage",conf)));var f=opts.pagination.items||opts.items.visible,g=Math.ceil(itms.total/f)-1;return 0>b&&(b=g),b>g&&(b=0),$cfs.triggerHandler(cf_e("slideTo",conf),[b*f,0,!0,c,d,e])}),$cfs.bind(cf_e("jumpToStart",conf),function(a,b){if(a.stopPropagation(),b=b?gn_getItemIndex(b,0,!0,itms,$cfs):0,b+=itms.first,0!=b){if(itms.total>0)for(;b>itms.total;)b-=itms.total;$cfs.prepend($cfs.children().slice(b,itms.total))}return!0}),$cfs.bind(cf_e("synchronise",conf),function(a,b){if(a.stopPropagation(),b)b=cf_getSynchArr(b);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");b=opts.synchronise}for(var c=$cfs.triggerHandler(cf_e("currentPosition",conf)),d=!0,e=0,f=b.length;f>e;e++)b[e][0].triggerHandler(cf_e("slideTo",conf),[c,b[e][3],!0])||(d=!1);return d}),$cfs.bind(cf_e("queue",conf),function(a,b,c){return a.stopPropagation(),is_function(b)?b.call($tt0,queu):is_array(b)?queu=b:is_undefined(b)||queu.push([b,c]),queu}),$cfs.bind(cf_e("insertItem",conf),function(a,b,c,d,e){a.stopPropagation();var f=[b,c,d,e],g=["string/object","string/number/object","boolean","number"],h=cf_sortParams(f,g);if(b=h[0],c=h[1],d=h[2],e=h[3],is_object(b)&&!is_jquery(b)?b=$(b):is_string(b)&&(b=$(b)),!is_jquery(b)||0==b.length)return debug(conf,"Not a valid object.");is_undefined(c)&&(c="end"),sz_storeMargin(b,opts),sz_storeOrigCss(b);var i=c,j="before";"end"==c?d?(0==itms.first?(c=itms.total-1,j="after"):(c=itms.first,itms.first+=b.length),0>c&&(c=0)):(c=itms.total-1,j="after"):c=gn_getItemIndex(c,e,d,itms,$cfs);var k=$cfs.children().eq(c);return k.length?k[j](b):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(b)),"end"==i||d||itms.first>c&&(itms.first+=b.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0}),$cfs.bind(cf_e("removeItem",conf),function(a,b,c,d){a.stopPropagation();var e=[b,c,d],f=["string/number/object","boolean","number"],g=cf_sortParams(e,f);if(b=g[0],c=g[1],d=g[2],b instanceof $&&b.length>1)return i=$(),b.each(function(){var e=$cfs.trigger(cf_e("removeItem",conf),[$(this),c,d]);e&&(i=i.add(e))}),i;if(is_undefined(b)||"end"==b)i=$cfs.children().last();else{b=gn_getItemIndex(b,d,c,itms,$cfs);var i=$cfs.children().eq(b);i.length&&itms.first>b&&(itms.first-=i.length)}return i&&i.length&&(i.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),i}),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length);return is_array(b)&&(clbk[c]=b),is_function(b)&&clbk[c].push(b),clbk[c]}),$cfs.bind(cf_e("currentPosition",conf),function(a,b){if(a.stopPropagation(),0==itms.first)var c=0;else var c=itms.total-itms.first;return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("currentPage",conf),function(a,b){a.stopPropagation();var e,c=opts.pagination.items||opts.items.visible,d=Math.ceil(itms.total/c-1);return e=0==itms.first?0:itms.first<itms.total%c?0:itms.first!=c||opts.circular?Math.round((itms.total-itms.first)/c):d,0>e&&(e=0),e>d&&(e=d),is_function(b)&&b.call($tt0,e),e}),$cfs.bind(cf_e("currentVisible",conf),function(a,b){a.stopPropagation();var c=gi_getCurrentItems($cfs.children(),opts);return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("slice",conf),function(a,b,c,d){if(a.stopPropagation(),0==itms.total)return!1;var e=[b,c,d],f=["number","number","function"],g=cf_sortParams(e,f);if(b=is_number(g[0])?g[0]:0,c=is_number(g[1])?g[1]:itms.total,d=g[2],b+=itms.first,c+=itms.first,items.total>0){for(;b>itms.total;)b-=itms.total;for(;c>itms.total;)c-=itms.total;for(;0>b;)b+=itms.total;for(;0>c;)c+=itms.total}var i,h=$cfs.children();return i=c>b?h.slice(b,c):$(h.slice(b,itms.total).get().concat(h.slice(0,c).get())),is_function(d)&&d.call($tt0,i),i}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length),d=crsl[c];return is_function(b)&&b.call($tt0,d),d}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a))opts_orig=$.extend(!0,{},opts_orig,a),b!==!1?reInit=!0:opts=$.extend(!0,{},opts,a);else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b))return eval("opts."+a);"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),c!==!1?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts),FN._init(opts_orig),FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(a,b,c){return a.stopPropagation(),is_undefined(b)?b=$("body"):is_string(b)&&(b=$(b)),is_jquery(b)&&0!=b.length?(is_string(c)||(c="a.caroufredsel"),b.find(c).each(function(){var a=this.hash||"";a.length>0&&-1!=$cfs.children().index($(a))&&$(this).unbind("click").click(function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),a)})}),!0):debug(conf,"Not a valid object.")}),$cfs.bind(cf_e("updatePageStatus",conf),function(a,b){if(a.stopPropagation(),opts.pagination.container){var d=opts.pagination.items||opts.items.visible,e=Math.ceil(itms.total/d);b&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var a=0;e>a;a++){var b=$cfs.children().eq(gn_getItemIndex(a*d,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(b[0],a+1))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[a*d,-opts.pagination.deviation,!0,opts.pagination])})})}));var f=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return f>=e&&(f=0),0>f&&(f=e-1),opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(f).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(){var b=opts.items.visible,c=$cfs.children(),d=ms_getParentSize($wrp,opts,"width");if(itms.total=c.length,crsl.primarySizePercentage?(opts.maxDimension=d,opts[opts.d.width]=ms_getPercentage(d,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,d),opts.responsive?(opts.items.width=opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,opts=in_getResponsiveValues(opts,c,d),b=opts.items.visible,sz_setResponsiveSizes(opts,c)):opts.items.visibleConf.variable?b=gn_getVisibleItemsNext(c,opts,0):"*"!=opts.items.filter&&(b=gn_getVisibleItemsNextFilter(c,opts,0)),!opts.circular&&0!=itms.first&&b>itms.first){if(opts.items.visibleConf.variable)var e=gn_getVisibleItemsPrev(c,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)var e=gn_getVisibleItemsPrevFilter(c,opts,itms.first)-itms.first;else var e=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+e+" items backward."),$cfs.trigger(cf_e("prev",conf),e)}opts.items.visible=cf_getItemsAdjust(b,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,c);var f=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,f]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),f}),$cfs.bind(cf_e("destroy",conf),function(a,b){return a.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),b&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_restoreOrigCss($cfs.children()),sz_restoreOrigCss($cfs),FN._unbind_events(),FN._unbind_buttons(),"parent"==conf.wrapper?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs),!0}),$cfs.bind(cf_e("debug",conf),function(){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug}),$cfs.bind("_cfs_triggerEvent",function(a,b,c){return a.stopPropagation(),$cfs.triggerHandler(cf_e(b,conf),c)})},FN._unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},FN._bind_buttons=function(){if(FN._unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(a){a.preventDefault();var b=!1,c=null;crsl.isPaused?b="play":opts.auto.pauseOnEvent&&(b="pause",c=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),b&&$cfs.trigger(cf_e(b,conf),c)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){var a=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){var a=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.pagination.container&&opts.pagination.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b==opts.next.key&&(a.preventDefault(),$cfs.trigger(cf_e("next",conf))),b==opts.prev.key&&(a.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b>=49&&58>b&&(b=(b-49)*opts.items.visible,itms.total>=b&&(a.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[b,0,!0,opts.pagination])))}),$.fn.swipe){var b="ontouchstart"in window;if(b&&opts.swipe.onTouch||!b&&opts.swipe.onMouse){var c=$.extend(!0,{},opts.prev,opts.swipe),d=$.extend(!0,{},opts.next,opts.swipe),e=function(){$cfs.trigger(cf_e("prev",conf),[c])},f=function(){$cfs.trigger(cf_e("next",conf),[d])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=f,opts.swipe.options.swipeDown=e;break;default:opts.swipe.options.swipeLeft=f,opts.swipe.options.swipeRight=e}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),$wrp.css("cursor","move"),crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var g=$.extend(!0,{},opts.prev,opts.mousewheel),h=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),function(a,b){a.preventDefault(),b>0?$cfs.trigger(cf_e("prev",conf),[g]):$cfs.trigger(cf_e("next",conf),[h])}),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var i=function(){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))},j=$(window),k=null;if($.debounce&&"debounce"==conf.onWindowResize)k=$.debounce(200,i);else if($.throttle&&"throttle"==conf.onWindowResize)k=$.throttle(300,i);else{var l=0,m=0;k=function(){var a=j.width(),b=j.height();(a!=l||b!=m)&&(i(),l=a,m=b)}}j.bind(cf_e("resize",conf,!1,!0,!0),k)}},FN._unbind_buttons=function(){var b=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(b),opts.auto.button&&opts.auto.button.unbind(b),opts.prev.button&&opts.prev.button.unbind(b),opts.next.button&&opts.next.button.unbind(b),opts.pagination.container&&(opts.pagination.container.unbind(b),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)},is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp="parent"==conf.wrapper?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,conf.transition=conf.transition&&$.fn.transition?"transition":"animate",FN._init(opts_orig,!0,starting_position),FN._build(),FN._bind_events(),FN._bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0)for(var a=0,l=start_arr.length;l>a;a++){var s=start_arr[a];if(0!=s){if(s===!0){if(s=window.location.hash,1>s.length)continue}else"random"===s&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(a){return'<a href="#"><span>'+a+"</span></a>"},$.fn.carouFredSel.progressbarUpdater=function(a){$(this).css("width",a+"%")},$.fn.carouFredSel.cookie={get:function(a){a+="=";for(var b=document.cookie.split(";"),c=0,d=b.length;d>c;c++){for(var e=b[c];" "==e.charAt(0);)e=e.slice(1);if(0==e.indexOf(a))return e.slice(a.length)}return 0},set:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+1e3*60*60*24*c),d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"},remove:function(a){$.fn.carouFredSel.cookie.set(a,"",-1)}},$.extend($.easing,{quadratic:function(a){var b=a*a;return a*(-b*a+4*b-6*a+4)},cubic:function(a){return a*(4*a*a-9*a+6)},elastic:function(a){var b=a*a;return a*(33*b*b-106*b*a+126*b-67*a+15)}}))})(jQuery);(function(b,c){var $=b.jQuery||b.Cowboy||(b.Cowboy={}),a;$.throttle=a=function(e,f,j,i){var h,d=0;if(typeof f!=="boolean"){i=j;j=f;f=c}function g(){var o=this,m=+new Date()-d,n=arguments;function l(){d=+new Date();j.apply(o,n)}function k(){h=c}if(i&&!h){l()}h&&clearTimeout(h);if(i===c&&m>e){l()}else{if(f!==true){h=setTimeout(i?k:l,i===c?e-m:e)}}}if($.guid){g.guid=j.guid=j.guid||$.guid++}return g};$.debounce=function(d,e,f){return f===c?a(d,e,false):a(d,f,e!==false)}})(this);(function(g){function P(c){if(c&&void 0===c.allowPageScroll&&(void 0!==c.swipe||void 0!==c.swipeStatus))c.allowPageScroll=G;c||(c={});c=g.extend({},g.fn.swipe.defaults,c);return this.each(function(){var b=g(this),f=b.data(w);f||(f=new W(this,c),b.data(w,f))})}function W(c,b){var f,p,r,s;function H(a){var a=a.originalEvent,c,Q=n?a.touches[0]:a;d=R;n?h=a.touches.length:a.preventDefault();i=0;j=null;k=0;!n||h===b.fingers||b.fingers===x?(r=f=Q.pageX,s=p=Q.pageY,y=(new Date).getTime(),b.swipeStatus&&(c=l(a,d))):t(a);if(!1===c)return d=m,l(a,d),c;e.bind(I,J);e.bind(K,L)}function J(a){a=a.originalEvent;if(!(d===q||d===m)){var c,e=n?a.touches[0]:a;f=e.pageX;p=e.pageY;u=(new Date).getTime();j=S();n&&(h=a.touches.length);d=z;var e=a,g=j;if(b.allowPageScroll===G)e.preventDefault();else{var o=b.allowPageScroll===T;switch(g){case v:(b.swipeLeft&&o||!o&&b.allowPageScroll!=M)&&e.preventDefault();break;case A:(b.swipeRight&&o||!o&&b.allowPageScroll!=M)&&e.preventDefault();break;case B:(b.swipeUp&&o||!o&&b.allowPageScroll!=N)&&e.preventDefault();break;case C:(b.swipeDown&&o||!o&&b.allowPageScroll!=N)&&e.preventDefault()}}h===b.fingers||b.fingers===x||!n?(i=U(),k=u-y,b.swipeStatus&&(c=l(a,d,j,i,k)),b.triggerOnTouchEnd||(e=!(b.maxTimeThreshold?!(k>=b.maxTimeThreshold):1),!0===D()?(d=q,c=l(a,d)):e&&(d=m,l(a,d)))):(d=m,l(a,d));!1===c&&(d=m,l(a,d))}}function L(a){a=a.originalEvent;a.preventDefault();u=(new Date).getTime();i=U();j=S();k=u-y;if(b.triggerOnTouchEnd||!1===b.triggerOnTouchEnd&&d===z)if(d=q,(h===b.fingers||b.fingers===x||!n)&&0!==f){var c=!(b.maxTimeThreshold?!(k>=b.maxTimeThreshold):1);if((!0===D()||null===D())&&!c)l(a,d);else if(c||!1===D())d=m,l(a,d)}else d=m,l(a,d);else d===z&&(d=m,l(a,d));e.unbind(I,J,!1);e.unbind(K,L,!1)}function t(){y=u=p=f=s=r=h=0}function l(a,c){var d=void 0;b.swipeStatus&&(d=b.swipeStatus.call(e,a,c,j||null,i||0,k||0,h));if(c===m&&b.click&&(1===h||!n)&&(isNaN(i)||0===i))d=b.click.call(e,a,a.target);if(c==q)switch(b.swipe&&(d=b.swipe.call(e,a,j,i,k,h)),j){case v:b.swipeLeft&&(d=b.swipeLeft.call(e,a,j,i,k,h));break;case A:b.swipeRight&&(d=b.swipeRight.call(e,a,j,i,k,h));break;case B:b.swipeUp&&(d=b.swipeUp.call(e,a,j,i,k,h));break;case C:b.swipeDown&&(d=b.swipeDown.call(e,a,j,i,k,h))}(c===m||c===q)&&t(a);return d}function D(){return null!==b.threshold?i>=b.threshold:null}function U(){return Math.round(Math.sqrt(Math.pow(f-r,2)+Math.pow(p-s,2)))}function S(){var a;a=Math.atan2(p-s,r-f);a=Math.round(180*a/Math.PI);0>a&&(a=360-Math.abs(a));return 45>=a&&0<=a?v:360>=a&&315<=a?v:135<=a&&225>=a?A:45<a&&135>a?C:B}function V(){e.unbind(E,H);e.unbind(F,t);e.unbind(I,J);e.unbind(K,L)}var O=n||!b.fallbackToMouseEvents,E=O?"touchstart":"mousedown",I=O?"touchmove":"mousemove",K=O?"touchend":"mouseup",F="touchcancel",i=0,j=null,k=0,e=g(c),d="start",h=0,y=p=f=s=r=0,u=0;try{e.bind(E,H),e.bind(F,t)}catch(P){g.error("events not supported "+E+","+F+" on jQuery.swipe")}this.enable=function(){e.bind(E,H);e.bind(F,t);return e};this.disable=function(){V();return e};this.destroy=function(){V();e.data(w,null);return e}}var v="left",A="right",B="up",C="down",G="none",T="auto",M="horizontal",N="vertical",x="all",R="start",z="move",q="end",m="cancel",n="ontouchstart"in window,w="TouchSwipe";g.fn.swipe=function(c){var b=g(this),f=b.data(w);if(f&&"string"===typeof c){if(f[c])return f[c].apply(this,Array.prototype.slice.call(arguments,1));g.error("Method "+c+" does not exist on jQuery.swipe")}else if(!f&&("object"===typeof c||!c))return P.apply(this,arguments);return b};g.fn.swipe.defaults={fingers:1,threshold:75,maxTimeThreshold:null,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:!0,allowPageScroll:"auto",fallbackToMouseEvents:!0};g.fn.swipe.phases={PHASE_START:R,PHASE_MOVE:z,PHASE_END:q,PHASE_CANCEL:m};g.fn.swipe.directions={LEFT:v,RIGHT:A,UP:B,DOWN:C};g.fn.swipe.pageScroll={NONE:G,HORIZONTAL:M,VERTICAL:N,AUTO:T};g.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:x}})(jQuery);;(function($) {var _previousResizeWidth =-1,_updateTimeout =-1;var _rows =function(elements) {var tolerance =1,$elements =$(elements),lastTop =null,rows =[];$elements.each(function(){var $that =$(this),top =$that.offset().top - _parse($that.css('margin-top')),lastRow =rows.length > 0 ?rows[rows.length - 1] :null;if (lastRow ===null) {rows.push($that);} else {if (Math.floor(Math.abs(lastTop - top)) <=tolerance) {rows[rows.length - 1] =lastRow.add($that);} else {rows.push($that);}
 }
 lastTop =top;});return rows;};var _parse =function(value) {return parseFloat(value) ||0;};$.fn.matchHeight =function(byRow) {if (byRow ==='remove') {var that =this;this.css('height','');$.each($.fn.matchHeight._groups,function(key,group) {group.elements =group.elements.not(that);});return this;}
 if (this.length <=1)
 return this;byRow =(typeof byRow !=='undefined') ?byRow :true;$.fn.matchHeight._groups.push({elements:this,byRow:byRow
 });$.fn.matchHeight._apply(this,byRow);return this;};$.fn.matchHeight._groups =[];$.fn.matchHeight._throttle =80;$.fn.matchHeight._maintainScroll =false;$.fn.matchHeight._apply =function(elements,byRow) {var $elements =$(elements),rows =[$elements];var scrollTop =$(window).scrollTop(),htmlHeight =$('html').outerHeight(true);var $hiddenParents =$elements.parents().filter(':hidden');$hiddenParents.css('display','block');if (byRow) {$elements.each(function() {var $that =$(this),display =$that.css('display') ==='inline-block'?'inline-block':'block';$that.data('style-cache',$that.attr('style'));$that.css({'display':display,'padding-top':'0','padding-bottom':'0','margin-top':'0','margin-bottom':'0','border-top-width':'0','border-bottom-width':'0','height':'100px'});});rows =_rows($elements);$elements.each(function() {var $that =$(this);$that.attr('style',$that.data('style-cache') ||'')
 .css('height','');});}
 $.each(rows,function(key,row) {var $row =$(row),maxHeight =0;if (byRow &&$row.length <=1)
 return;$row.each(function(){var $that =$(this),display =$that.css('display') ==='inline-block'?'inline-block':'block';$that.css({'display':display,'height':''});if ($that.outerHeight(false) > maxHeight)
 maxHeight =$that.outerHeight(false);$that.css('display','');});$row.each(function(){var $that =$(this),verticalPadding =0;if ($that.css('box-sizing') !=='border-box') {verticalPadding +=_parse($that.css('border-top-width')) + _parse($that.css('border-bottom-width'));verticalPadding +=_parse($that.css('padding-top')) + _parse($that.css('padding-bottom'));}
 $that.css('height',maxHeight - verticalPadding);});});$hiddenParents.css('display','');if ($.fn.matchHeight._maintainScroll)
 $(window).scrollTop((scrollTop / htmlHeight) * $('html').outerHeight(true));return this;};$.fn.matchHeight._applyDataApi =function() {var groups ={};$('[data-match-height], [data-mh]').each(function() {var $this =$(this),groupId =$this.attr('data-match-height') ||$this.attr('data-mh');if (groupId in groups) {groups[groupId] =groups[groupId].add($this);} else {groups[groupId] =$this;}
 });$.each(groups,function() {this.matchHeight(true);});};var _update =function() {$.each($.fn.matchHeight._groups,function() {$.fn.matchHeight._apply(this.elements,this.byRow);});};$.fn.matchHeight._update =function(throttle,event) {if (event &&event.type ==='resize') {var windowWidth =$(window).width();if (windowWidth ===_previousResizeWidth)
 return;_previousResizeWidth =windowWidth;}
 if (!throttle) {_update();} else if (_updateTimeout ===-1) {_updateTimeout =setTimeout(function() {_update();_updateTimeout =-1;},$.fn.matchHeight._throttle);}
 };$($.fn.matchHeight._applyDataApi);$(window).bind('load',function(event) {$.fn.matchHeight._update();});$(window).bind('resize orientationchange',function(event) {$.fn.matchHeight._update(true,event);});})(jQuery);if (jQuery) (function ($) {$.extend($.fn,{dropdown:function (method,data) {switch (method) {case 'show':show(null,$(this));return $(this);case 'hide':hide();return $(this);case 'attach':return $(this).attr('data-dropdown',data);case 'detach':hide();return $(this).removeAttr('data-dropdown');case 'disable':return $(this).addClass('dropdown-disabled');case 'enable':hide();return $(this).removeClass('dropdown-disabled');}
 }
 });function show(event,object) {var trigger =event ?$(this) :object,dropdown =$(trigger.attr('data-dropdown')),isOpen =trigger.hasClass('dropdown-open');if (event) {if ($(event.target).hasClass('dropdown-ignore')) return;event.preventDefault();event.stopPropagation();} else {if (trigger !==object.target &&$(object.target).hasClass('dropdown-ignore')) return;}
 hide();if (isOpen ||trigger.hasClass('dropdown-disabled')) return;if ($(window).width() > 600 &&$(window).width() < 1260) {$('#header-menu').hide();$('.mobile-top-menu a.icon-menu').removeClass('active')
 }
 trigger.addClass('dropdown-open');dropdown
.data('dropdown-trigger',trigger)
.show();position();dropdown
.trigger('show',{dropdown:dropdown,trigger:trigger
});}
 function hide(event) {var targetGroup =event ?$(event.target).parents().addBack() :null;if (targetGroup &&targetGroup.is('.dropdown')) {if (targetGroup.is('.dropdown-menu')) {if (!targetGroup.is('A')) return;} else {return;}
 }
 $(document).find('.dropdown:visible').each(function () {var dropdown =$(this);dropdown
.hide()
.removeData('dropdown-trigger')
.trigger('hide',{dropdown:dropdown });});$(document).find('.dropdown-open').removeClass('dropdown-open');}
 function position() {}
 $(document).on('click.dropdown','[data-dropdown]',show);$(document).on('click.dropdown',hide);$(window).on('resize',position);})(jQuery);;(function ($,window,undefined ) {var document =window.document;$.fn.share =function(method) {var methods ={init :function(options) {this.share.settings =$.extend({},this.share.defaults,options);var settings =this.share.settings,networks =this.share.settings.networks,theme =this.share.settings.theme,orientation =this.share.settings.orientation,affix =this.share.settings.affix,margin =this.share.settings.margin,pageTitle =this.share.settings.title||$(document).attr('title'),pageUrl =this.share.settings.urlToShare||$(location).attr('href'),pageDesc ="",mediaUrl =this.share.settings.mediaUrl;$.each($(document).find('meta[name="description"]'),function(idx,item){pageDesc =$(item).attr("content");});if(this.share.settings.productDesc !=undefined &&this.share.settings.productDesc !=null) {pageDesc =this.share.settings.productDesc;}
 return this.each(function() {var $element =$(this),id=$element.attr("id"),u=encodeURIComponent(pageUrl),t=encodeURIComponent(pageTitle),m=encodeURIComponent(mediaUrl),d=pageDesc.substring(0,250),pn=$(this).data("mail-product-name"),pid=$(this).data("mail-product-id"),rou=$(this).data("mail-range-of-use"),href,prefix=$("#social-prefix").text();for (var item in networks) {item =networks[item];href =helpers.networkDefs[item].url;if (item =="email")
 {href ="mailto:?subject="+ $(this).data("mail-subject") + "&body="+ $(this).data("mail-body");}
 href =href.replace('|u|',u).replace('|m|',m).replace('|t|',t).replace('|d|',d)
 .replace('|pn|',pn).replace('|pid|',pid).replace('|rou|',rou)
 .replace('|140|',t.substring(0,130));$("<a href='"+href+"' title='"+prefix+" "+item+
 "' class='pop share-"+theme+" share-"+theme+"-"+item+"'></a>")
 .appendTo($element);}
 $("#"+id+".share-"+theme).css('margin',margin);if (orientation !="horizontal"){$("#"+id+" a.share-"+theme).css('display','block');}
 else {$("#"+id+" a.share-"+theme).css('display','inline-block');}
 if (typeof affix !="undefined"){$element.addClass('share-affix');if (affix.indexOf('right')!=-1){$element.css('left','auto');$element.css('right','0px');if (affix.indexOf('center')!=-1){$element.css('top','40%');}
 }
 else if (affix.indexOf('left center')!=-1){$element.css('top','40%');}
 if (affix.indexOf('bottom')!=-1){$element.css('bottom','0px');$element.css('top','auto');if (affix.indexOf('center')!=-1){$element.css('left','40%');}
 }
 }
 $('.pop').off();$('.pop').click(function(e){if (!$(this).hasClass('share-icon-email')){window.open($(this).attr('href'),'t','toolbar=0,resizable=1,status=0,width=640,height=528');return false;} else {window.location.href=$(this).attr('href');return false;}
 });});} }
 var helpers ={networkDefs:{facebook:{url:'http://www.facebook.com/share.php?u=|u|'},twitter:{url:'https://twitter.com/intent/tweet?url=|u|'},linkedin:{url:'http://www.linkedin.com/shareArticle?mini=true&url=|u|&title=|t|&summary=|d|&source=in1.com'},in1:{url:'http://www.in1.com/cast?u=|u|',w:'490',h:'529'},tumblr:{url:'http://www.tumblr.com/share?v=3&u=|u|'},digg:{url:'http://digg.com/submit?url=|u|&title=|t|'},googleplus:{url:'https://plusone.google.com/_/+1/confirm?hl=en&url=|u|'},reddit:{url:'http://reddit.com/submit?url=|u|'},pinterest:{url:'http://pinterest.com/pin/create/button/?url=|u|&media=|m|&description=|d|'},posterous:{url:'http://posterous.com/share?linkto=|u|&title=|t|'},stumbleupon:{url:'http://www.stumbleupon.com/submit?url=|u|&title=|t|'},email:{url:'mailto:?subject=|t|'}
 }
 }
 if (methods[method]) {return methods[method].apply(this,Array.prototype.slice.call(arguments,1));} else if (typeof method ==='object'||!method) {return methods.init.apply(this,arguments);} else {$.error('Method "'+ method + '" does not exist in social plugin');}
 }
 $.fn.share.defaults ={networks:['facebook','twitter','linkedin'],theme:'icon',autoShow:true,margin:'3px',orientation:'horizontal',useIn1:false
 }
 $.fn.share.settings ={}
 })(jQuery,window);window.matchMedia||(window.matchMedia=function(){"use strict";var a=window.styleMedia||window.media;if(!a){var b=document.createElement("style"),c=document.getElementsByTagName("script")[0],d=null;b.type="text/css",b.id="matchmediajs-test",c.parentNode.insertBefore(b,c),d="getComputedStyle"in window&&window.getComputedStyle(b,null)||b.currentStyle,a={matchMedium:function(a){var c="@media "+a+"{ #matchmediajs-test { width: 1px; } }";return b.styleSheet?b.styleSheet.cssText=c:b.textContent=c,"1px"===d.width}}}return function(b){return{matches:a.matchMedium(b||"all"),media:b||"all"}}}()),function(a,b,c){"use strict";function d(b){"object"==typeof module&&"object"==typeof module.exports?module.exports=b:"function"==typeof define&&define.amd&&define("picturefill",function(){return b}),"object"==typeof a&&(a.picturefill=b)}function e(a){var b,c,d,e,f,i=a||{};b=i.elements||g.getAllElements();for(var j=0,k=b.length;k>j;j++)if(c=b[j],d=c.parentNode,e=void 0,f=void 0,"IMG"===c.nodeName.toUpperCase()&&(c[g.ns]||(c[g.ns]={}),i.reevaluate||!c[g.ns].evaluated)){if(d&&"PICTURE"===d.nodeName.toUpperCase()){if(g.removeVideoShim(d),e=g.getMatch(c,d),e===!1)continue}else e=void 0;(d&&"PICTURE"===d.nodeName.toUpperCase()||!g.sizesSupported&&c.srcset&&h.test(c.srcset))&&g.dodgeSrcset(c),e?(f=g.processSourceSet(e),g.applyBestCandidate(f,c)):(f=g.processSourceSet(c),(void 0===c.srcset||c[g.ns].srcset)&&g.applyBestCandidate(f,c)),c[g.ns].evaluated=!0}}function f(){function c(){clearTimeout(d),d=setTimeout(h,60)}g.initTypeDetects(),e();var d,f=setInterval(function(){return e(),/^loaded|^i|^c/.test(b.readyState)?void clearInterval(f):void 0},250),h=function(){e({reevaluate:!0})};a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}if(a.HTMLPictureElement)return void d(function(){});b.createElement("picture");var g=a.picturefill||{},h=/\s+\+?\d+(e\d+)?w/;g.ns="picturefill",function(){g.srcsetSupported="srcset"in c,g.sizesSupported="sizes"in c,g.curSrcSupported="currentSrc"in c}(),g.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},g.makeUrl=function(){var a=b.createElement("a");return function(b){return a.href=b,a.href}}(),g.restrictsMixedContent=function(){return"https:"===a.location.protocol},g.matchesMedia=function(b){return a.matchMedia&&a.matchMedia(b).matches},g.getDpr=function(){return a.devicePixelRatio||1},g.getWidthFromLength=function(a){var c;if(!a||a.indexOf("%")>-1!=!1||!(parseFloat(a)>0||a.indexOf("calc(")>-1))return!1;a=a.replace("vw","%"),g.lengthEl||(g.lengthEl=b.createElement("div"),g.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",g.lengthEl.className="helper-from-picturefill-js"),g.lengthEl.style.width="0px";try{g.lengthEl.style.width=a}catch(d){}return b.body.appendChild(g.lengthEl),c=g.lengthEl.offsetWidth,0>=c&&(c=!1),b.body.removeChild(g.lengthEl),c},g.detectTypeSupport=function(b,c){var d=new a.Image;return d.onerror=function(){g.types[b]=!1,e()},d.onload=function(){g.types[b]=1===d.width,e()},d.src=c,"pending"},g.types=g.types||{},g.initTypeDetects=function(){g.types["image/jpeg"]=!0,g.types["image/gif"]=!0,g.types["image/png"]=!0,g.types["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),g.types["image/webp"]=g.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},g.verifyTypeSupport=function(a){var b=a.getAttribute("type");if(null===b||""===b)return!0;var c=g.types[b];return"string"==typeof c&&"pending"!==c?(g.types[b]=g.detectTypeSupport(b,c),"pending"):"function"==typeof c?(c(),"pending"):c},g.parseSize=function(a){var b=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:b&&b[1],length:b&&b[2]}},g.findWidthFromSourceSize=function(c){for(var d,e=g.trim(c).split(/\s*,\s*/),f=0,h=e.length;h>f;f++){var i=e[f],j=g.parseSize(i),k=j.length,l=j.media;if(k&&(!l||g.matchesMedia(l))&&(d=g.getWidthFromLength(k)))break}return d||Math.max(a.innerWidth||0,b.documentElement.clientWidth)},g.parseSrcset=function(a){for(var b=[];""!==a;){a=a.replace(/^\s+/g,"");var c,d=a.search(/\s/g),e=null;if(-1!==d){c=a.slice(0,d);var f=c.slice(-1);if((","===f||""===c)&&(c=c.replace(/,+$/,""),e=""),a=a.slice(d+1),null===e){var g=a.indexOf(",");-1!==g?(e=a.slice(0,g),a=a.slice(g+1)):(e=a,a="")}}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b},g.parseDescriptor=function(a,b){var c,d=b||"100vw",e=a&&a.replace(/(^\s+|\s+$)/g,""),f=g.findWidthFromSourceSize(d);if(e)for(var h=e.split(" "),i=h.length-1;i>=0;i--){var j=h[i],k=j&&j.slice(j.length-1);if("h"!==k&&"w"!==k||g.sizesSupported){if("x"===k){var l=j&&parseFloat(j,10);c=l&&!isNaN(l)?l:1}}else c=parseFloat(parseInt(j,10)/f)}return c||1},g.getCandidatesFromSourceSet=function(a,b){for(var c=g.parseSrcset(a),d=[],e=0,f=c.length;f>e;e++){var h=c[e];d.push({url:h.url,resolution:g.parseDescriptor(h.descriptor,b)})}return d},g.dodgeSrcset=function(a){a.srcset&&(a[g.ns].srcset=a.srcset,a.srcset="",a.setAttribute("data-pfsrcset",a[g.ns].srcset))},g.processSourceSet=function(a){var b=a.getAttribute("srcset"),c=a.getAttribute("sizes"),d=[];return"IMG"===a.nodeName.toUpperCase()&&a[g.ns]&&a[g.ns].srcset&&(b=a[g.ns].srcset),b&&(d=g.getCandidatesFromSourceSet(b,c)),d},g.backfaceVisibilityFix=function(a){var b=a.style||{},c="webkitBackfaceVisibility"in b,d=b.zoom;c&&(b.zoom=".999",c=a.offsetWidth,b.zoom=d)},g.setIntrinsicSize=function(){var c={},d=function(a,b,c){b&&a.setAttribute("width",parseInt(b/c,10))};return function(e,f){var h;e[g.ns]&&!a.pfStopIntrinsicSize&&(void 0===e[g.ns].dims&&(e[g.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[g.ns].dims||(f.url in c?d(e,c[f.url],f.resolution):(h=b.createElement("img"),h.onload=function(){if(c[f.url]=h.width,!c[f.url])try{b.body.appendChild(h),c[f.url]=h.width||h.offsetWidth,b.body.removeChild(h)}catch(a){}e.src===f.url&&d(e,c[f.url],f.resolution),e=null,h.onload=null,h=null},h.src=f.url)))}}(),g.applyBestCandidate=function(a,b){var c,d,e;a.sort(g.ascendingSort),d=a.length,e=a[d-1];for(var f=0;d>f;f++)if(c=a[f],c.resolution>=g.getDpr()){e=c;break}e&&(e.url=g.makeUrl(e.url),b.src!==e.url&&(g.restrictsMixedContent()&&"http:"===e.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+e.url):(b.src=e.url,g.curSrcSupported||(b.currentSrc=b.src),g.backfaceVisibilityFix(b))),g.setIntrinsicSize(b,e))},g.ascendingSort=function(a,b){return a.resolution-b.resolution},g.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){for(var c=b[0],d=c.getElementsByTagName("source");d.length;)a.insertBefore(d[0],c);c.parentNode.removeChild(c)}},g.getAllElements=function(){for(var a=[],c=b.getElementsByTagName("img"),d=0,e=c.length;e>d;d++){var f=c[d];("PICTURE"===f.parentNode.nodeName.toUpperCase()||null!==f.getAttribute("srcset")||f[g.ns]&&null!==f[g.ns].srcset)&&a.push(f)}return a},g.getMatch=function(a,b){for(var c,d=b.childNodes,e=0,f=d.length;f>e;e++){var h=d[e];if(1===h.nodeType){if(h===a)return c;if("SOURCE"===h.nodeName.toUpperCase()){null!==h.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var i=h.getAttribute("media");if(h.getAttribute("srcset")&&(!i||g.matchesMedia(i))){var j=g.verifyTypeSupport(h);if(j===!0){c=h;break}if("pending"===j)return!1}}}}return c},f(),e._=g,d(e)}(window,window.document,new window.Image);
!function(a){"function"==typeof define&&define.amd?define(["jquery","modernizr"],a):window.Shuffle=a(window.jQuery,window.Modernizr)}(function(a,b,c){"use strict";function d(a){return a?a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-"):""}function e(b,c,d){var e,f,g,h=null,i=0;d=d||{};var j=function(){i=d.leading===!1?0:a.now(),h=null,g=b.apply(e,f),e=f=null};return function(){var k=a.now();i||d.leading!==!1||(i=k);var l=c-(k-i);return e=this,f=arguments,0>=l||l>c?(clearTimeout(h),h=null,i=k,g=b.apply(e,f),e=f=null):h||d.trailing===!1||(h=setTimeout(j,l)),g}}function f(a,b,c){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)==={})return}function g(b,c,d){return setTimeout(a.proxy(b,c),d)}function h(a){return Math.max.apply(Math,a)}function i(a){return Math.min.apply(Math,a)}function j(b){return a.isNumeric(b)?b:0}function k(a){var b,c,d=a.length;if(!d)return a;for(;--d;)c=Math.floor(Math.random()*(d+1)),b=a[c],a[c]=a[d],a[d]=b;return a}if("object"!=typeof b)throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies");var l=b.prefixed("transition"),m=b.prefixed("transitionDelay"),n=b.prefixed("transitionDuration"),o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[l],p=b.prefixed("transform"),q=d(p),r=b.csstransforms&&b.csstransitions,s=b.csstransforms3d,t="shuffle",u=.3,v="all",w="groups",x=1,y=.001,z=function(a,b){this.x=j(a),this.y=j(b)};z.equals=function(a,b){return a.x===b.x&&a.y===b.y};var A=0,B=a(window),C=function(b,c){c=c||{},a.extend(this,C.options,c,C.settings),this.$el=a(b),this.element=b,this.unique="shuffle_"+A++,this._fire(C.EventType.LOADING),this._init(),g(function(){this.initialized=!0,this._fire(C.EventType.DONE)},this,16)};return C.EventType={LOADING:"loading",DONE:"done",LAYOUT:"layout",REMOVED:"removed"},C.ClassName={BASE:t,SHUFFLE_ITEM:"shuffle-item",FILTERED:"filtered",CONCEALED:"concealed"},C.options={group:v,speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:e,throttleTime:300,sequentialFadeDelay:150,supported:r},C.settings={useSizer:!1,itemCss:{position:"absolute",top:0,left:0,visibility:"visible"},revealAppendedDelay:300,lastSort:{},lastFilter:v,enabled:!0,destroyed:!1,initialized:!1,_animations:[],styleQueue:[]},C.Point=z,C._getItemTransformString=function(a,b){return s?"translate3d("+a.x+"px, "+a.y+"px, 0) scale3d("+b+", "+b+", 1)":"translate("+a.x+"px, "+a.y+"px) scale("+b+")"},C._getNumberStyle=function(b,c){return C._getFloat(a(b).css(c))},C._getInt=function(a){return j(parseInt(a,10))},C._getFloat=function(a){return j(parseFloat(a))},C._getOuterWidth=function(a,b){var c=a.offsetWidth;if(b){var d=C._getNumberStyle(a,"marginLeft"),e=C._getNumberStyle(a,"marginRight");c+=d+e}return c},C._getOuterHeight=function(a,b){var c=a.offsetHeight;if(b){var d=C._getNumberStyle(a,"marginTop"),e=C._getNumberStyle(a,"marginBottom");c+=d+e}return c},C._skipTransition=function(a,b,c){var d=a.style[n];a.style[n]="0ms",b.call(c);var e=a.offsetWidth;e=null,a.style[n]=d},C.prototype._init=function(){this.$items=this._getItems(),this.sizer=this._getElementOption(this.sizer),this.sizer&&(this.useSizer=!0),this.$el.addClass(C.ClassName.BASE),this._initItems(),B.on("resize."+t+"."+this.unique,this._getResizeFunction());var a=this.$el.css(["position","overflow"]),b=C._getOuterWidth(this.element);this._validateStyles(a),this._setColumns(b),this.shuffle(this.group,this.initialSort),this.supported&&g(function(){this._setTransitions(),this.element.style[l]="height "+this.speed+"ms "+this.easing},this)},C.prototype._getResizeFunction=function(){var b=a.proxy(this._onResize,this);return this.throttle?this.throttle(b,this.throttleTime):b},C.prototype._getElementOption=function(a){return"string"==typeof a?this.$el.find(a)[0]||null:a&&a.nodeType&&1===a.nodeType?a:a&&a.jquery?a[0]:null},C.prototype._validateStyles=function(a){"static"===a.position&&(this.element.style.position="relative"),"hidden"!==a.overflow&&(this.element.style.overflow="hidden")},C.prototype._filter=function(a,b){a=a||this.lastFilter,b=b||this.$items;var c=this._getFilteredSets(a,b);return this._toggleFilterClasses(c.filtered,c.concealed),this.lastFilter=a,"string"==typeof a&&(this.group=a),c.filtered},C.prototype._getFilteredSets=function(b,c){var d=a(),e=a();return b===v?d=c:f(c,function(c){var f=a(c);this._doesPassFilter(b,f)?d=d.add(f):e=e.add(f)},this),{filtered:d,concealed:e}},C.prototype._doesPassFilter=function(b,c){if(a.isFunction(b))return b.call(c[0],c,this);var d=c.data(w),e=this.delimeter&&!a.isArray(d)?d.split(this.delimeter):d;return a.inArray(b,e)>-1},C.prototype._toggleFilterClasses=function(a,b){a.removeClass(C.ClassName.CONCEALED).addClass(C.ClassName.FILTERED),b.removeClass(C.ClassName.FILTERED).addClass(C.ClassName.CONCEALED)},C.prototype._initItems=function(a){a=a||this.$items,a.addClass([C.ClassName.SHUFFLE_ITEM,C.ClassName.FILTERED].join(" ")),a.css(this.itemCss).data("point",new z).data("scale",x)},C.prototype._updateItemCount=function(){this.visibleItems=this._getFilteredItems().length},C.prototype._setTransition=function(a){a.style[l]=q+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},C.prototype._setTransitions=function(a){a=a||this.$items,f(a,function(a){this._setTransition(a)},this)},C.prototype._setSequentialDelay=function(a){this.supported&&f(a,function(a,b){a.style[m]="0ms,"+(b+1)*this.sequentialFadeDelay+"ms"},this)},C.prototype._getItems=function(){return this.$el.children(this.itemSelector)},C.prototype._getFilteredItems=function(){return this.$items.filter("."+C.ClassName.FILTERED)},C.prototype._getConcealedItems=function(){return this.$items.filter("."+C.ClassName.CONCEALED)},C.prototype._getColumnSize=function(b,c){var d;return d=a.isFunction(this.columnWidth)?this.columnWidth(b):this.useSizer?C._getOuterWidth(this.sizer):this.columnWidth?this.columnWidth:this.$items.length>0?C._getOuterWidth(this.$items[0],!0):b,0===d&&(d=b),d+c},C.prototype._getGutterSize=function(b){var c;return c=a.isFunction(this.gutterWidth)?this.gutterWidth(b):this.useSizer?C._getNumberStyle(this.sizer,"marginLeft"):this.gutterWidth},C.prototype._setColumns=function(a){var b=a||C._getOuterWidth(this.element),c=this._getGutterSize(b),d=this._getColumnSize(b,c),e=(b+c)/d;Math.abs(Math.round(e)-e)<u&&(e=Math.round(e)),this.cols=Math.max(Math.floor(e),1),this.containerWidth=b,this.colWidth=d},C.prototype._setContainerSize=function(){this.$el.css("height",this._getContainerSize())},C.prototype._getContainerSize=function(){return h(this.positions)},C.prototype._fire=function(a,b){this.$el.trigger(a+"."+t,b&&b.length?b:[this])},C.prototype._resetCols=function(){var a=this.cols;for(this.positions=[];a--;)this.positions.push(0)},C.prototype._layout=function(a,b){f(a,function(a){this._layoutItem(a,!!b)},this),this._processStyleQueue(),this._setContainerSize()},C.prototype._layoutItem=function(b,c){var d=a(b),e=d.data(),f=e.point,g=e.scale,h={width:C._getOuterWidth(b,!0),height:C._getOuterHeight(b,!0)},i=this._getItemPosition(h);z.equals(f,i)&&g===x||(e.point=i,e.scale=x,this.styleQueue.push({$item:d,point:i,scale:x,opacity:c?0:1,skipTransition:c,callfront:function(){c||d.css("visibility","visible")},callback:function(){c&&d.css("visibility","hidden")}}))},C.prototype._getItemPosition=function(a){for(var b=this._getColumnSpan(a.width,this.colWidth,this.cols),c=this._getColumnSet(b,this.cols),d=this._getShortColumn(c,this.buffer),e=new z(Math.round(this.colWidth*d),Math.round(c[d])),f=c[d]+a.height,g=this.cols+1-c.length,h=0;g>h;h++)this.positions[d+h]=f;return e},C.prototype._getColumnSpan=function(a,b,c){var d=a/b;return Math.abs(Math.round(d)-d)<u&&(d=Math.round(d)),Math.min(Math.ceil(d),c)},C.prototype._getColumnSet=function(a,b){if(1===a)return this.positions;for(var c=b+1-a,d=[],e=0;c>e;e++)d[e]=h(this.positions.slice(e,e+a));return d},C.prototype._getShortColumn=function(a,b){for(var c=i(a),d=0,e=a.length;e>d;d++)if(a[d]>=c-b&&a[d]<=c+b)return d;return 0},C.prototype._shrink=function(b){var c=b||this._getConcealedItems();f(c,function(b){var c=a(b),d=c.data();d.scale!==y&&(d.scale=y,this.styleQueue.push({$item:c,point:d.point,scale:y,opacity:0,callback:function(){c.css("visibility","hidden")}}))},this)},C.prototype._onResize=function(){if(this.enabled&&!this.destroyed&&!this.isTransitioning){var a=C._getOuterWidth(this.element);a!==this.containerWidth&&this.update()}},C.prototype._getStylesForTransition=function(a){var b={opacity:a.opacity};return this.supported?b[p]=C._getItemTransformString(a.point,a.scale):(b.left=a.point.x,b.top=a.point.y),b},C.prototype._transition=function(b){var c=this._getStylesForTransition(b);this._startItemAnimation(b.$item,c,b.callfront||a.noop,b.callback||a.noop)},C.prototype._startItemAnimation=function(b,c,d,e){function f(b){b.target===b.currentTarget&&(a(b.target).off(o,f),e())}if(d(),!this.initialized)return b.css(c),void e();if(this.supported)b.css(c),b.on(o,f);else{var g=b.stop(!0).animate(c,this.speed,"swing",e);this._animations.push(g.promise())}},C.prototype._processStyleQueue=function(b){var c=a();f(this.styleQueue,function(a){a.skipTransition?this._styleImmediately(a):(c=c.add(a.$item),this._transition(a))},this),c.length>0&&this.initialized?(this.isTransitioning=!0,this.supported?this._whenCollectionDone(c,o,this._movementFinished):this._whenAnimationsDone(this._movementFinished)):b||g(this._layoutEnd,this),this.styleQueue.length=0},C.prototype._styleImmediately=function(a){C._skipTransition(a.$item[0],function(){a.$item.css(this._getStylesForTransition(a))},this)},C.prototype._movementFinished=function(){this.isTransitioning=!1,this._layoutEnd()},C.prototype._layoutEnd=function(){this._fire(C.EventType.LAYOUT)},C.prototype._addItems=function(a,b,c){this._initItems(a),this._setTransitions(a),this.$items=this._getItems(),this._shrink(a),f(this.styleQueue,function(a){a.skipTransition=!0}),this._processStyleQueue(!0),b?this._addItemsToEnd(a,c):this.shuffle(this.lastFilter)},C.prototype._addItemsToEnd=function(a,b){var c=this._filter(null,a),d=c.get();this._updateItemCount(),this._layout(d,!0),b&&this.supported&&this._setSequentialDelay(d),this._revealAppended(d)},C.prototype._revealAppended=function(b){g(function(){f(b,function(b){var c=a(b);this._transition({$item:c,opacity:1,point:c.data("point"),scale:x})},this),this._whenCollectionDone(a(b),o,function(){a(b).css(m,"0ms"),this._movementFinished()})},this,this.revealAppendedDelay)},C.prototype._whenCollectionDone=function(b,c,d){function e(b){b.target===b.currentTarget&&(a(b.target).off(c,e),f++,f===g&&d.call(h))}var f=0,g=b.length,h=this;b.on(c,e)},C.prototype._whenAnimationsDone=function(b){a.when.apply(null,this._animations).always(a.proxy(function(){this._animations.length=0,b.call(this)},this))},C.prototype.shuffle=function(a,b){this.enabled&&!this.isTransitioning&&(a||(a=v),this._filter(a),this._updateItemCount(),this._shrink(),this.sort(b))},C.prototype.sort=function(a){if(this.enabled&&!this.isTransitioning){this._resetCols();var b=a||this.lastSort,c=this._getFilteredItems().sorted(b);this._layout(c),this.lastSort=b}},C.prototype.update=function(a){this.enabled&&!this.isTransitioning&&(a||this._setColumns(),this.sort())},C.prototype.layout=function(){this.update(!0)},C.prototype.appended=function(a,b,c){this._addItems(a,b===!0,c!==!1)},C.prototype.disable=function(){this.enabled=!1},C.prototype.enable=function(a){this.enabled=!0,a!==!1&&this.update()},C.prototype.remove=function(b){function c(){b.remove(),this.$items=this._getItems(),this._updateItemCount(),this._fire(C.EventType.REMOVED,[b,this]),b=null}b.length&&b.jquery&&(this._toggleFilterClasses(a(),b),this._shrink(b),this.sort(),this.$el.one(C.EventType.LAYOUT+"."+t,a.proxy(c,this)))},C.prototype.destroy=function(){B.off("."+this.unique),this.$el.removeClass(t).removeAttr("style").removeData(t),this.$items.removeAttr("style").removeData("point").removeData("scale").removeClass([C.ClassName.CONCEALED,C.ClassName.FILTERED,C.ClassName.SHUFFLE_ITEM].join(" ")),this.$items=null,this.$el=null,this.sizer=null,this.element=null,this.destroyed=!0},a.fn.shuffle=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data(t);e?"string"==typeof b&&e[b]&&e[b].apply(e,c):(e=new C(this,b),d.data(t,e))})},a.fn.sorted=function(b){var d=a.extend({},a.fn.sorted.defaults,b),e=this.get(),f=!1;return e.length?d.randomize?k(e):(a.isFunction(d.by)&&e.sort(function(b,e){if(f)return 0;var g=d.by(a(b)),h=d.by(a(e));return g===c&&h===c?(f=!0,0):h>g||"sortFirst"===g||"sortLast"===h?-1:g>h||"sortLast"===g||"sortFirst"===h?1:0}),f?this.get():(d.reverse&&e.reverse(),e)):[]},a.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},C});
;(function ($,window,document) {var pluginName ="tooltipster",defaults ={animation:'fade',arrow:true,arrowColor:'',autoClose:true,content:null,contentAsHTML:false,contentCloning:true,debug:true,delay:200,minWidth:0,maxWidth:null,functionInit:function(origin,content) {},functionBefore:function(origin,continueTooltip) {continueTooltip();},functionReady:function(origin,tooltip) {},functionAfter:function(origin) {},icon:'(?)',iconCloning:true,iconDesktop:false,iconTouch:false,iconTheme:'tooltipster-icon',interactive:false,interactiveTolerance:350,multiple:false,offsetX:0,offsetY:0,onlyOne:false,position:'top',positionTracker:false,speed:350,timer:0,theme:'tooltipster-default',touchDevices:true,trigger:'hover',updateAnimation:true
};function Plugin(element,options) {this.bodyOverflowX;this.callbacks ={hide:[],show:[]
};this.checkInterval =null;this.Content;this.$el =$(element);this.$elProxy;this.elProxyPosition;this.enabled =true;this.options =$.extend({},defaults,options);this.mouseIsOverProxy =false;this.namespace ='tooltipster-'+ Math.round(Math.random()*100000);this.Status ='hidden';this.timerHide =null;this.timerShow =null;this.$tooltip;this.options.iconTheme =this.options.iconTheme.replace('.','');this.options.theme =this.options.theme.replace('.','');this._init();}
Plugin.prototype ={_init:function() {var self =this;if (document.querySelector) {if (self.options.content !==null){self._content_set(self.options.content);}
else {var t =self.$el.attr('title');if(typeof t ==='undefined') t =null;self._content_set(t);}
var c =self.options.functionInit.call(self.$el,self.$el,self.Content);if(typeof c !=='undefined') self._content_set(c);self.$el
.removeAttr('title')
.addClass('tooltipstered');if ((!deviceHasTouchCapability &&self.options.iconDesktop) ||(deviceHasTouchCapability &&self.options.iconTouch)) {if(typeof self.options.icon ==='string'){self.$elProxy =$('<span class="'+ self.options.iconTheme +'"></span>');self.$elProxy.text(self.options.icon);}
else {if (self.options.iconCloning) self.$elProxy =self.options.icon.clone(true);else self.$elProxy =self.options.icon;}
self.$elProxy.insertAfter(self.$el);}
else {self.$elProxy =self.$el;}
if (self.options.trigger =='hover') {self.$elProxy
.on('mouseenter.'+ self.namespace,function() {if (!deviceIsPureTouch() ||self.options.touchDevices) {self.mouseIsOverProxy =true;self._show();}
})
.on('mouseleave.'+ self.namespace,function() {if (!deviceIsPureTouch() ||self.options.touchDevices) {self.mouseIsOverProxy =false;}
});if (deviceHasTouchCapability &&self.options.touchDevices) {self.$elProxy.on('touchstart.'+ self.namespace,function() {self._showNow();});}
}
else if (self.options.trigger =='click') {self.$elProxy.on('click.'+ self.namespace,function() {if (!deviceIsPureTouch() ||self.options.touchDevices) {self._show();}
});}
}
},_show:function() {var self =this;if (self.Status !='shown'&&self.Status !='appearing') {if (self.options.delay) {self.timerShow =setTimeout(function(){if (self.options.trigger =='click'||(self.options.trigger =='hover'&&self.mouseIsOverProxy)) {self._showNow();}
},self.options.delay);}
else self._showNow();}
},_showNow:function(callback) {var self =this;self.options.functionBefore.call(self.$el,self.$el,function() {if (self.enabled &&self.Content !==null) {if (callback) self.callbacks.show.push(callback);self.callbacks.hide =[];clearTimeout(self.timerShow);self.timerShow =null;clearTimeout(self.timerHide);self.timerHide =null;if (self.options.onlyOne) {$('.tooltipstered').not(self.$el).each(function(i,el) {var $el =$(el),nss =$el.data('tooltipster-ns');$.each(nss,function(i,ns){var instance =$el.data(ns),s =instance.status(),ac =instance.option('autoClose');if (s !=='hidden'&&s !=='disappearing'&&ac) {instance.hide();}
});});}
var finish =function() {self.Status ='shown';$.each(self.callbacks.show,function(i,c) {c.call(self.$el);});self.callbacks.show =[];};if (self.Status !=='hidden') {var extraTime =0;if (self.Status ==='disappearing') {self.Status ='appearing';if (supportsTransitions()) {self.$tooltip
.clearQueue()
.removeClass('tooltipster-dying')
.addClass('tooltipster-'+ self.options.animation +'-show');if (self.options.speed > 0) self.$tooltip.delay(self.options.speed);self.$tooltip.queue(finish);}
else {self.$tooltip
.stop()
.fadeIn(finish);}
}
else if(self.Status ==='shown') {finish();}
}
else {self.Status ='appearing';var extraTime =self.options.speed;self.bodyOverflowX =$('body').css('overflow-x');$('body').css('overflow-x','hidden');var animation ='tooltipster-'+ self.options.animation,animationSpeed ='-webkit-transition-duration: '+ self.options.speed +'ms; -webkit-animation-duration: '+ self.options.speed +'ms; -moz-transition-duration: '+ self.options.speed +'ms; -moz-animation-duration: '+ self.options.speed +'ms; -o-transition-duration: '+ self.options.speed +'ms; -o-animation-duration: '+ self.options.speed +'ms; -ms-transition-duration: '+ self.options.speed +'ms; -ms-animation-duration: '+ self.options.speed +'ms; transition-duration: '+ self.options.speed +'ms; animation-duration: '+ self.options.speed +'ms;',minWidth =self.options.minWidth ?'min-width:'+ Math.round(self.options.minWidth) +'px;':'',maxWidth =self.options.maxWidth ?'max-width:'+ Math.round(self.options.maxWidth) +'px;':'',pointerEvents =self.options.interactive ?'pointer-events: auto;':'';self.$tooltip =$('<div class="tooltipster-base '+ self.options.theme +'" style="'+ minWidth +' '+ maxWidth +' '+ pointerEvents +' '+ animationSpeed +'"><div class="tooltipster-content"></div></div>');if (supportsTransitions()) self.$tooltip.addClass(animation);self._content_insert();self.$tooltip.appendTo('body');self.reposition();self.options.functionReady.call(self.$el,self.$el,self.$tooltip);if (supportsTransitions()) {self.$tooltip.addClass(animation + '-show');if(self.options.speed > 0) self.$tooltip.delay(self.options.speed);self.$tooltip.queue(finish);}
else {self.$tooltip.css('display','none').fadeIn(self.options.speed,finish);}
self._interval_set();$(window).on('scroll.'+ self.namespace +' resize.'+ self.namespace,function() {self.reposition();});if (self.options.autoClose) {$('body').off('.'+ self.namespace);if (self.options.trigger =='hover') {if (deviceHasTouchCapability) {setTimeout(function() {$('body').on('touchstart.'+ self.namespace,function() {self.hide();});},0);}
if (self.options.interactive) {if (deviceHasTouchCapability) {self.$tooltip.on('touchstart.'+ self.namespace,function(event) {event.stopPropagation();});}
var tolerance =null;self.$elProxy.add(self.$tooltip)
.on('mouseleave.'+ self.namespace + '-autoClose',function() {clearTimeout(tolerance);tolerance =setTimeout(function(){self.hide();},self.options.interactiveTolerance);})
.on('mouseenter.'+ self.namespace + '-autoClose',function() {clearTimeout(tolerance);});}
else {self.$elProxy.on('mouseleave.'+ self.namespace + '-autoClose',function() {self.hide();});}
}
else if(self.options.trigger =='click'){setTimeout(function() {$('body').on('click.'+ self.namespace +' touchstart.'+ self.namespace,function() {self.hide();});},0);if (self.options.interactive) {self.$tooltip.on('click.'+ self.namespace +' touchstart.'+ self.namespace,function(event) {event.stopPropagation();});}
}
}
}
if (self.options.timer > 0) {self.timerHide =setTimeout(function() {self.timerHide =null;self.hide();},self.options.timer + extraTime);}
}
});},_interval_set:function() {var self =this;self.checkInterval =setInterval(function() {if ($('body').find(self.$el).length ===0
||$('body').find(self.$elProxy).length ===0
||self.Status =='hidden'||$('body').find(self.$tooltip).length ===0
) {if (self.Status =='shown'||self.Status =='appearing') self.hide();self._interval_cancel();}
else {if(self.options.positionTracker){var p =self._repositionInfo(self.$elProxy),identical =false;if(areEqual(p.dimension,self.elProxyPosition.dimension)){if(self.$elProxy.css('position') ==='fixed'){if(areEqual(p.position,self.elProxyPosition.position)) identical =true;}
else {if(areEqual(p.offset,self.elProxyPosition.offset)) identical =true;}
}
if(!identical){self.reposition();}
}
}
},200);},_interval_cancel:function() {clearInterval(this.checkInterval);this.checkInterval =null;},_content_set:function(content) {if (typeof content ==='object'&&content !==null &&this.options.contentCloning) {content =content.clone(true);}
this.Content =content;},_content_insert:function() {var self =this,$d =this.$tooltip.find('.tooltipster-content');if (typeof self.Content ==='string'&&!self.options.contentAsHTML) {$d.text(self.Content);}
else {$d
.empty()
.append(self.Content);}
},_update:function(content) {var self =this;self._content_set(content);if (self.Content !==null) {if (self.Status !=='hidden') {self._content_insert();self.reposition();if (self.options.updateAnimation) {if (supportsTransitions()) {self.$tooltip.css({'width':'','-webkit-transition':'all '+ self.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms','-moz-transition':'all '+ self.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms','-o-transition':'all '+ self.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms','-ms-transition':'all '+ self.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms','transition':'all '+ self.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms'}).addClass('tooltipster-content-changing');setTimeout(function() {if(self.Status !='hidden'){self.$tooltip.removeClass('tooltipster-content-changing');setTimeout(function() {if(self.Status !=='hidden'){self.$tooltip.css({'-webkit-transition':self.options.speed + 'ms','-moz-transition':self.options.speed + 'ms','-o-transition':self.options.speed + 'ms','-ms-transition':self.options.speed + 'ms','transition':self.options.speed + 'ms'});}
},self.options.speed);}
},self.options.speed);}
else {self.$tooltip.fadeTo(self.options.speed,0.5,function() {if(self.Status !='hidden'){self.$tooltip.fadeTo(self.options.speed,1);}
});}
}
}
}
else {self.hide();}
},_repositionInfo:function($el) {return {dimension:{height:$el.outerHeight(false),width:$el.outerWidth(false)
},offset:$el.offset(),position:{left:parseInt($el.css('left')),top:parseInt($el.css('top'))
}
};},hide:function(callback) {var self =this;if (callback) self.callbacks.hide.push(callback);self.callbacks.show =[];clearTimeout(self.timerShow);self.timerShow =null;clearTimeout(self.timerHide);self.timerHide =null;var finishCallbacks =function() {$.each(self.callbacks.hide,function(i,c) {c.call(self.$el);});self.callbacks.hide =[];};if (self.Status =='shown'||self.Status =='appearing') {self.Status ='disappearing';var finish =function() {self.Status ='hidden';if (typeof self.Content =='object'&&self.Content !==null) {self.Content.detach();}
self.$tooltip.remove();self.$tooltip =null;$(window).off('.'+ self.namespace);$('body')
.off('.'+ self.namespace)
.css('overflow-x',self.bodyOverflowX);$('body').off('.'+ self.namespace);self.$elProxy.off('.'+ self.namespace + '-autoClose');self.options.functionAfter.call(self.$el,self.$el);finishCallbacks();};if (supportsTransitions()) {self.$tooltip
.clearQueue()
.removeClass('tooltipster-'+ self.options.animation + '-show')
.addClass('tooltipster-dying');if(self.options.speed > 0) self.$tooltip.delay(self.options.speed);self.$tooltip.queue(finish);}
else {self.$tooltip
.stop()
.fadeOut(self.options.speed,finish);}
}
else if(self.Status =='hidden') {finishCallbacks();}
return self;},show:function(callback) {this._showNow(callback);return this;},update:function(c) {return this.content(c);},content:function(c) {if(typeof c ==='undefined'){return this.Content;}
else {this._update(c);return this;}
},reposition:function() {var self =this;if ($('body').find(self.$tooltip).length !==0) {self.$tooltip.css('width','');self.elProxyPosition =self._repositionInfo(self.$elProxy);var arrowReposition =null,windowWidth =$(window).width(),proxy =self.elProxyPosition,tooltipWidth =self.$tooltip.outerWidth(false),tooltipInnerWidth =self.$tooltip.innerWidth() + 1,tooltipHeight =self.$tooltip.outerHeight(false);if (self.$elProxy.is('area')) {var areaShape =self.$elProxy.attr('shape'),mapName =self.$elProxy.parent().attr('name'),map =$('img[usemap="#'+ mapName +'"]'),mapOffsetLeft =map.offset().left,mapOffsetTop =map.offset().top,areaMeasurements =self.$elProxy.attr('coords') !==undefined ?self.$elProxy.attr('coords').split(',') :undefined;if (areaShape =='circle') {var areaLeft =parseInt(areaMeasurements[0]),areaTop =parseInt(areaMeasurements[1]),areaWidth =parseInt(areaMeasurements[2]);proxy.dimension.height =areaWidth * 2;proxy.dimension.width =areaWidth * 2;proxy.offset.top =mapOffsetTop + areaTop - areaWidth;proxy.offset.left =mapOffsetLeft + areaLeft - areaWidth;}
else if (areaShape =='rect') {var areaLeft =parseInt(areaMeasurements[0]),areaTop =parseInt(areaMeasurements[1]),areaRight =parseInt(areaMeasurements[2]),areaBottom =parseInt(areaMeasurements[3]);proxy.dimension.height =areaBottom - areaTop;proxy.dimension.width =areaRight - areaLeft;proxy.offset.top =mapOffsetTop + areaTop;proxy.offset.left =mapOffsetLeft + areaLeft;}
else if (areaShape =='poly') {var areaXs =[],areaYs =[],areaSmallestX =0,areaSmallestY =0,areaGreatestX =0,areaGreatestY =0,arrayAlternate ='even';for (var i =0;i < areaMeasurements.length;i++) {var areaNumber =parseInt(areaMeasurements[i]);if (arrayAlternate =='even') {if (areaNumber > areaGreatestX) {areaGreatestX =areaNumber;if (i ===0) {areaSmallestX =areaGreatestX;}
}
if (areaNumber < areaSmallestX) {areaSmallestX =areaNumber;}
arrayAlternate ='odd';}
else {if (areaNumber > areaGreatestY) {areaGreatestY =areaNumber;if (i ==1) {areaSmallestY =areaGreatestY;}
}
if (areaNumber < areaSmallestY) {areaSmallestY =areaNumber;}
arrayAlternate ='even';}
}
proxy.dimension.height =areaGreatestY - areaSmallestY;proxy.dimension.width =areaGreatestX - areaSmallestX;proxy.offset.top =mapOffsetTop + areaSmallestY;proxy.offset.left =mapOffsetLeft + areaSmallestX;}
else {proxy.dimension.height =map.outerHeight(false);proxy.dimension.width =map.outerWidth(false);proxy.offset.top =mapOffsetTop;proxy.offset.left =mapOffsetLeft;}
}
var myLeft =0,myLeftMirror =0,myTop =0,offsetY =parseInt(self.options.offsetY),offsetX =parseInt(self.options.offsetX),practicalPosition =self.options.position;function dontGoOffScreenX() {var windowLeft =$(window).scrollLeft();if((myLeft - windowLeft) < 0) {arrowReposition =myLeft - windowLeft;myLeft =windowLeft;}
if (((myLeft + tooltipWidth) - windowLeft) > windowWidth) {arrowReposition =myLeft - ((windowWidth + windowLeft) - tooltipWidth);myLeft =(windowWidth + windowLeft) - tooltipWidth;}
}
function dontGoOffScreenY(switchTo,switchFrom) {if(((proxy.offset.top - $(window).scrollTop() - tooltipHeight - offsetY - 12) < 0) &&(switchFrom.indexOf('top') > -1)) {practicalPosition =switchTo;}
if (((proxy.offset.top + proxy.dimension.height + tooltipHeight + 12 + offsetY) > ($(window).scrollTop() + $(window).height())) &&(switchFrom.indexOf('bottom') > -1)) {practicalPosition =switchTo;myTop =(proxy.offset.top - tooltipHeight) - offsetY - 12;}
}
if(practicalPosition =='top') {var leftDifference =(proxy.offset.left + tooltipWidth) - (proxy.offset.left + proxy.dimension.width);myLeft =(proxy.offset.left + offsetX) - (leftDifference / 2);myTop =(proxy.offset.top - tooltipHeight) - offsetY - 12;dontGoOffScreenX();dontGoOffScreenY('bottom','top');}
if(practicalPosition =='top-left') {myLeft =proxy.offset.left + offsetX - 12;myTop =(proxy.offset.top - tooltipHeight) - offsetY - 12;dontGoOffScreenX();dontGoOffScreenY('bottom-left','top-left');}
if(practicalPosition =='top-right') {myLeft =(proxy.offset.left + proxy.dimension.width + offsetX) - tooltipWidth;myTop =(proxy.offset.top - tooltipHeight) - offsetY - 12;dontGoOffScreenX();dontGoOffScreenY('bottom-right','top-right');}
if(practicalPosition =='bottom') {var leftDifference =(proxy.offset.left + tooltipWidth) - (proxy.offset.left + proxy.dimension.width);myLeft =proxy.offset.left - (leftDifference / 2) + offsetX;myTop =(proxy.offset.top + proxy.dimension.height) + offsetY + 12;dontGoOffScreenX();dontGoOffScreenY('top','bottom');}
if(practicalPosition =='bottom-left') {myLeft =proxy.offset.left + offsetX- 12;myTop =(proxy.offset.top + proxy.dimension.height) + offsetY + 12;dontGoOffScreenX();dontGoOffScreenY('top-left','bottom-left');}
if(practicalPosition =='bottom-right') {myLeft =(proxy.offset.left + proxy.dimension.width + offsetX) - tooltipWidth;myTop =(proxy.offset.top + proxy.dimension.height) + offsetY + 12;dontGoOffScreenX();dontGoOffScreenY('top-right','bottom-right');}
if(practicalPosition =='left') {myLeft =proxy.offset.left - offsetX - tooltipWidth - 12;myLeftMirror =proxy.offset.left + offsetX + proxy.dimension.width + 12;var topDifference =(proxy.offset.top + tooltipHeight) - (proxy.offset.top + proxy.dimension.height);myTop =proxy.offset.top - (topDifference / 2) - offsetY;if((myLeft < 0) &&((myLeftMirror + tooltipWidth) > windowWidth)) {var borderWidth =parseFloat(self.$tooltip.css('border-width')) * 2,newWidth =(tooltipWidth + myLeft) - borderWidth;self.$tooltip.css('width',newWidth + 'px');tooltipHeight =self.$tooltip.outerHeight(false);myLeft =proxy.offset.left - offsetX - newWidth - 12 - borderWidth;topDifference =(proxy.offset.top + tooltipHeight) - (proxy.offset.top + proxy.dimension.height);myTop =proxy.offset.top - (topDifference / 2) - offsetY;}
else if(myLeft < 0) {myLeft =proxy.offset.left + offsetX + proxy.dimension.width + 12;arrowReposition ='left';}
}
if(practicalPosition =='right') {myLeft =proxy.offset.left + offsetX + proxy.dimension.width + 12;myLeftMirror =proxy.offset.left - offsetX - tooltipWidth - 12;var topDifference =(proxy.offset.top + tooltipHeight) - (proxy.offset.top + proxy.dimension.height);myTop =proxy.offset.top - (topDifference / 2) - offsetY;if(((myLeft + tooltipWidth) > windowWidth) &&(myLeftMirror < 0)) {var borderWidth =parseFloat(self.$tooltip.css('border-width')) * 2,newWidth =(windowWidth - myLeft) - borderWidth;self.$tooltip.css('width',newWidth + 'px');tooltipHeight =self.$tooltip.outerHeight(false);topDifference =(proxy.offset.top + tooltipHeight) - (proxy.offset.top + proxy.dimension.height);myTop =proxy.offset.top - (topDifference / 2) - offsetY;}
else if((myLeft + tooltipWidth) > windowWidth) {myLeft =proxy.offset.left - offsetX - tooltipWidth - 12;arrowReposition ='right';}
}
if (self.options.arrow) {var arrowClass ='tooltipster-arrow-'+ practicalPosition;if(self.options.arrowColor.length < 1) {var arrowColor =self.$tooltip.css('background-color');}
else {var arrowColor =self.options.arrowColor;}
if (!arrowReposition) {arrowReposition ='';}
else if (arrowReposition =='left') {arrowClass ='tooltipster-arrow-right';arrowReposition ='';}
else if (arrowReposition =='right') {arrowClass ='tooltipster-arrow-left';arrowReposition ='';}
else {arrowReposition ='left:'+ Math.round(arrowReposition) +'px;';}
if ((practicalPosition =='top') ||(practicalPosition =='top-left') ||(practicalPosition =='top-right')) {var tooltipBorderWidth =parseFloat(self.$tooltip.css('border-bottom-width')),tooltipBorderColor =self.$tooltip.css('border-bottom-color');}
else if ((practicalPosition =='bottom') ||(practicalPosition =='bottom-left') ||(practicalPosition =='bottom-right')) {var tooltipBorderWidth =parseFloat(self.$tooltip.css('border-top-width')),tooltipBorderColor =self.$tooltip.css('border-top-color');}
else if (practicalPosition =='left') {var tooltipBorderWidth =parseFloat(self.$tooltip.css('border-right-width')),tooltipBorderColor =self.$tooltip.css('border-right-color');}
else if (practicalPosition =='right') {var tooltipBorderWidth =parseFloat(self.$tooltip.css('border-left-width')),tooltipBorderColor =self.$tooltip.css('border-left-color');}
else {var tooltipBorderWidth =parseFloat(self.$tooltip.css('border-bottom-width')),tooltipBorderColor =self.$tooltip.css('border-bottom-color');}
if (tooltipBorderWidth > 1) {tooltipBorderWidth++;}
var arrowBorder ='';if (tooltipBorderWidth !==0) {var arrowBorderSize ='',arrowBorderColor ='border-color: '+ tooltipBorderColor +';';if (arrowClass.indexOf('bottom') !==-1) {arrowBorderSize ='margin-top: -'+ Math.round(tooltipBorderWidth) +'px;';}
else if (arrowClass.indexOf('top') !==-1) {arrowBorderSize ='margin-bottom: -'+ Math.round(tooltipBorderWidth) +'px;';}
else if (arrowClass.indexOf('left') !==-1) {arrowBorderSize ='margin-right: -'+ Math.round(tooltipBorderWidth) +'px;';}
else if (arrowClass.indexOf('right') !==-1) {arrowBorderSize ='margin-left: -'+ Math.round(tooltipBorderWidth) +'px;';}
arrowBorder ='<span class="tooltipster-arrow-border" style="'+ arrowBorderSize +' '+ arrowBorderColor +';"></span>';}
self.$tooltip.find('.tooltipster-arrow').remove();var arrowConstruct ='<div class="'+ arrowClass +' tooltipster-arrow" style="'+ arrowReposition +'">'+ arrowBorder +'<span style="border-color:'+ arrowColor +';"></span></div>';self.$tooltip.append(arrowConstruct);}
self.$tooltip.css({'top':Math.round(myTop) + 'px','left':Math.round(myLeft) + 'px'});}
return self;},enable:function() {this.enabled =true;return this;},disable:function() {this.hide();this.enabled =false;return this;},destroy:function() {var self =this;self.hide();if(self.$el[0] !==self.$elProxy[0]) self.$elProxy.remove();self.$el
.removeData(self.namespace)
.off('.'+ self.namespace);var ns =self.$el.data('tooltipster-ns');if(ns.length ===1){var stringifiedContent =(typeof self.Content ==='string') ?self.Content :$('<div></div>').append(self.Content).html();self.$el
.removeClass('tooltipstered')
.attr('title',stringifiedContent)
.removeData(self.namespace)
.removeData('tooltipster-ns')
.off('.'+ self.namespace);}
else {ns =$.grep(ns,function(el,i){return el !==self.namespace;});self.$el.data('tooltipster-ns',ns);}
return self;},elementIcon:function() {return (this.$el[0] !==this.$elProxy[0]) ?this.$elProxy[0] :undefined;},elementTooltip:function() {return this.$tooltip ?this.$tooltip[0] :undefined;},option:function(o,val) {if (typeof val =='undefined') return this.options[o];else {this.options[o] =val;return this;}
},status:function() {return this.Status;}
};$.fn[pluginName] =function () {var args =arguments;if (this.length ===0) {if (typeof args[0] ==='string') {var methodIsStatic =true;switch (args[0]) {case 'setDefaults':$.extend(defaults,args[1]);break;default:methodIsStatic =false;break;}
if (methodIsStatic) return true;else return this;}
else {return this;}
}
else {if (typeof args[0] ==='string') {var v ='#*$~&';this.each(function() {var ns =$(this).data('tooltipster-ns'),self =ns ?$(this).data(ns[0]) :null;if (self) {if (typeof self[args[0]] ==='function') {var resp =self[args[0]](args[1],args[2]);}
else {throw new Error('Unknown method .tooltipster("'+ args[0] + '")');}
if (resp !==self){v =resp;return false;}
}
else {throw new Error('You called Tooltipster\'s "' + args[0] + '"method on an uninitialized element');
}
});

return (v !== '#*$~&') ? v : this;
}
// first argument is undefined or an object : the tooltip is initializing
else {

var instances = [],
// is there a defined value for the multiple option in the options object ?
multipleIsSet = args[0] && typeof args[0].multiple !== 'undefined',
// if the multiple option is set to true, or if it's not defined but set to true in the defaults
multiple =(multipleIsSet &&args[0].multiple) ||(!multipleIsSet &&defaults.multiple),debugIsSet =args[0] &&typeof args[0].debug !=='undefined',debug =(debugIsSet &&args[0].debug) ||(!debugIsSet &&defaults.debug);this.each(function () {var go =false,ns =$(this).data('tooltipster-ns'),instance =null;if (!ns) {go =true;}
else if (multiple) {go =true;}
else if (debug) {}
if (go) {instance =new Plugin(this,args[0]);if (!ns) ns =[];ns.push(instance.namespace);$(this).data('tooltipster-ns',ns)
$(this).data(instance.namespace,instance);}
instances.push(instance);});if (multiple) return instances;else return this;}
}
};function areEqual(a,b) {var same =true;$.each(a,function(i,el){if(typeof b[i] ==='undefined'||a[i] !==b[i]){same =false;return false;}
});return same;}
var deviceHasTouchCapability =!!('ontouchstart'in window);var deviceHasMouse =false;$('body').one('mousemove',function() {deviceHasMouse =true;});function deviceIsPureTouch() {return (!deviceHasMouse &&deviceHasTouchCapability);}
function supportsTransitions() {var b =document.body ||document.documentElement,s =b.style,p ='transition';if(typeof s[p] =='string') {return true;}
v =['Moz','Webkit','Khtml','O','ms'],p =p.charAt(0).toUpperCase() + p.substr(1);for(var i=0;i<v.length;i++) {if(typeof s[v[i] + p] =='string') {return true;}
}
return false;}
})(jQuery,window,document );(function(factory){var
 amd=typeof define =='function'&&define.amd &&(define(['jquery'],factory) ||true),commonjs=!amd &&typeof module =='object'&&typeof module.exports =='object'&&(module.exports=factory),plain=!amd &&!commonjs &&factory()
})(function(){return jQuery.reel ||(function($,window,document,undefined){if (!$) return;var
 version=$ &&$().jquery.split(/\./)
 if (!version ||+(twochar(version[0])+twochar(version[1])+twochar(version[2] ||'')) < 10602)
 return error('Too old jQuery library. Please upgrade your jQuery to version 1.6.2 or higher');var
 reel=$.reel={version:'1.3.0',def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,orientable:false,cw:false,revolution:undefined,stitched:0,directional:false,row:1,rows:0,rowlock:false,framelock:false,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:'-reel',image:undefined,images:'',path:'',preload:'fidelity',shy:false,speed:0,delay:0,timeout:2,duration:undefined,rebound:0.5,entry:undefined,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:undefined,hint:'',indicator:0,klass:'',preloader:2,area:undefined,attr:{},annotations:undefined,responsive:false,graph:undefined,monitor:undefined
 },scan:function(){return $(dot(klass)+':not('+dot(overlay_klass)+' > '+dot(klass)+')').each(function(ix,image){var
 $image=$(image),options=$image.data(),images=options.images=soft_array(options.images),annotations={}
 $(dot(annotation_klass)+'[data-for='+$image.attr(_id_)+']').each(function(ix,annotation){var
 $annotation=$(annotation),def=$annotation.data(),x=def.x=numerize_array(soft_array(def.x)),y=def.y=numerize_array(soft_array(def.y)),id=$annotation.attr(_id_),node=def.node=$annotation.removeData()
 annotations[id] =def;});options.annotations =annotations;$image.removeData().reel(options);});},fn:{reel:function(){var
 args=arguments,t=$(this),data=t.data(),name=args[0] ||{},value=args[1]
 if (typeof name !='object'){if (name.slice(0,1) ==':'){return t.trigger(name.slice(1),value);}
 else{if (args.length ==1){return data[name]
 }
 else{if (value !==undefined){reel.normal[name] &&(value=reel.normal[name](value,data));if (data[name] ===undefined) data[name]=value
 else if (data[name] !==value) t.trigger(name+'Change',[undefined,data[name]=value ]);}
 return t
 }
 }
 }
 else{var
 opt=$.extend({},reel.def,name),applicable=t.filter(_img_).unreel().filter(function(){var
 $this=$(this),attr=opt.attr,src=attr.src ||$this.attr(_src_),width=attr.width ||$this.attr(_height_) ||$this.width(),height=attr.height ||$this.attr(_width_) ||$this.height()
 if (!src) return error('`src` attribute missing on target image');if (!width ||!height) return error('Dimension(s) of the target image unknown');return true;}),instances=[]
 applicable.each(function(){var
 t=$(this),set=function(name,value){return t.reel(name,value) &&get(name) },get=function(name){return t.data(name) },on={setup:function(e){if (t.hasClass(klass) &&t.parent().hasClass(overlay_klass)) return;set(_options_,opt);var
 attr={src:t.attr(_src_),width:t.attr(_width_) ||null,height:t.attr(_height_) ||null,style:t.attr(_style_) ||null,'class':t.attr(_class_) ||null
 },src=t.attr(opt.attr).attr(_src_),id=set(_id_,t.attr(_id_) ||t.attr(_id_,klass+'-'+(+new Date())).attr(_id_)),data=$.extend({},t.data()),images=set(_images_,opt.images ||[]),stitched=set(_stitched_,opt.stitched),is_sprite=!images.length ||stitched,responsive=set(_responsive_,opt.responsive &&(knows_background_size ?true :!is_sprite)),truescale=set(_truescale_,{}),loops=opt.loops,orbital=opt.orbital,revolution=opt.revolution,rows=opt.rows,footage=set(_footage_,min(opt.footage,opt.frames)),spacing=set(_spacing_,opt.spacing),width=set(_width_,+t.attr(_width_) ||t.width()),height=set(_height_,+t.attr(_height_) ||t.height()),shy=set(_shy_,opt.shy),frames=set(_frames_,orbital &&footage ||rows <=1 &&images.length ||opt.frames),multirow=rows > 1 ||orbital,revolution_x=set(_revolution_,axis('x',revolution) ||stitched / 2 ||width * 2),revolution_y=set(_revolution_y_,!multirow ?0 :(axis('y',revolution) ||(rows > 3 ?height :height / (5 - rows)))),rows=stitched ?1 :ceil(frames / footage),stitched_travel=set(_stitched_travel_,stitched - (loops ?0 :width)),stitched_shift=set(_stitched_shift_,0),stage_id=hash(id+opt.suffix),img_class=t.attr(_class_),classes=!img_class ?__ :img_class+___,$overlay=$(tag(_div_),{id:stage_id.substr(1),'class':classes+___+overlay_klass+___+frame_klass+'0'}),$instance=t.wrap($overlay.addClass(opt.klass)).addClass(klass),instances_count=instances.push(add_instance($instance)[0]),$overlay=$instance.parent().bind(on.instance)
 set(_image_,images.length ?__ :opt.image ||src.replace(reel.re.image,'$1'+ opt.suffix + '.$2'));set(_cache_,$(tag(_div_),{'class':cache_klass }).appendTo('body'));set(_area_,$()),set(_cached_,[]);set(_frame_,null);set(_fraction_,null);set(_row_,opt.row);set(_tier_,0);set(_rows_,rows);set(_rowlock_,opt.rowlock);set(_framelock_,opt.framelock);set(_departure_,set(_destination_,set(_distance_,0)));set(_bit_,1 / frames);set(_stage_,stage_id);set(_backwards_,set(_speed_,opt.speed) < 0);set(_loading_,false);set(_velocity_,0);set(_vertical_,opt.vertical);set(_preloaded_,0);set(_cwish_,negative_when(1,!opt.cw &&!stitched));set(_clicked_location_,{});set(_clicked_,false);set(_clicked_on_,set(_clicked_tier_,0));set(_lo_,set(_hi_,0));set(_reeling_,false);set(_reeled_,false);set(_opening_,false);set(_brake_,opt.brake);set(_center_,!!orbital);set(_tempo_,opt.tempo / (reel.lazy?opt.laziness :1));set(_opening_ticks_,-1);set(_ticks_,-1);set(_annotations_,opt.annotations ||$overlay.unbind(dot(_annotations_)) &&{});set(_ratio_,1);set(_backup_,{attr:attr,data:data
 });opt.steppable ||$overlay.unbind('up.steppable');opt.indicator ||$overlay.unbind('.indicator');css(__,{overflow:_hidden_,position:'relative'});responsive ||css(__,{width:width,height:height });responsive &&$.each(responsive_keys,function(i,key){truescale[key]=get(key) });css(____+___+dot(klass),{display:_block_ });css(dot(cache_klass),{position:'fixed',left:px(-100),top:px(-100) },true);css(dot(cache_klass)+___+_img_,{position:_absolute_,width:10,height:10 },true);pool.bind(on.pool);t.trigger(shy ?'prepare':'setup')
 },instance:{teardown:function(e){var
 backup=t.data(_backup_)
 t.parent().unbind(on.instance);if (get(_shy_)) t.parent().unbind(_click_,shy_setup)
 else get(_style_).remove() &&get(_area_).unbind(ns);get(_cache_).empty();clearTimeout(delay);clearTimeout(gauge_delay);$(window).unbind(_resize_,slow_gauge);$(window).unbind(ns);pool.unbind(on.pool);pools.unbind(pns);t.siblings().unbind(ns).remove();no_bias();t.removeAttr('onloaded');remove_instance(t.unbind(ns).removeData().unwrap().attr(backup.attr).data(backup.data));t.attr(_style_) ==__ &&t.removeAttr(_style_);},setup:function(e){var
 $overlay=t.parent().append(preloader()),$area=set(_area_,$(opt.area ||$overlay )),multirow=opt.rows > 1,cursor=opt.cursor,cursor_up=cursor ==_hand_ ?drag_cursor :cursor ||reel_cursor,cursor_down=cursor ==_hand_ ?drag_cursor_down+___+'!important':undefined
 css(___+dot(klass),{MozUserSelect:_none_,WebkitUserSelect:_none_,MozTransform:'translateZ(0)'});t.unbind(_click_,shy_setup);$area
 .bind(_touchstart_,press)
 .bind(opt.clickfree ?_mouseenter_ :_mousedown_,press)
 .bind(opt.wheelable ?_mousewheel_ :null,wheel)
 .bind(_dragstart_,function(){return false })
 css(__,{cursor:cdn(cursor_up) });css(dot(loading_klass),{cursor:'wait'});css(dot(panning_klass)+____+dot(panning_klass)+' *',{cursor:cdn(cursor_down ||cursor_up) },true);if (get(_responsive_)){css(___+dot(klass),{width:'100%',height:_auto_ });$(window).bind(_resize_,slow_gauge);}
 function press(e){return t.trigger('down',[pointer(e).clientX,pointer(e).clientY,e]) &&e.give }
 function wheel(e,delta){return !delta ||t.trigger('wheel',[delta,e]) &&e.give }
 opt.hint &&$area.attr('title',opt.hint);opt.indicator &&$overlay.append(indicator('x'));multirow &&opt.indicator &&$overlay.append(indicator('y'));opt.monitor &&$overlay.append($monitor=$(tag(_div_),{'class':monitor_klass }))
 &&css(___+dot(monitor_klass),{position:_absolute_,left:0,top:0 });},preload:function(e){var
 $overlay=t.parent(),images=get(_images_),is_sprite=!images.length,order=reel.preload[opt.preload] ||reel.preload[reel.def.preload],preload=is_sprite ?[get(_image_)] :order(images.slice(0),opt,get),to_load=preload.length,preloaded=set(_preloaded_,is_sprite ?0.5 :0),simultaneous=0,$cache=get(_cache_).empty(),uris=[]
 $overlay.addClass(loading_klass);set(_style_,get(_style_) ||$('<'+_style_+' type="text/css">'+css.rules.join('\n')+'</'+_style_+'>').prependTo(_head_));set(_loading_,true);t.trigger('stop');opt.responsive &&gauge();t.trigger('resize',true);while(preload.length){var
 uri=reel.substitute(opt.path+preload.shift(),get),$img=$(tag(_img_)).data(_src_,uri).appendTo($cache)
 $img.bind('load error abort',function(e){e.type !='load'&&t.trigger(e.type);return !detached($overlay) &&t.trigger('preloaded') &&load() &&false;});uris.push(uri);}
 setTimeout(function(){while (++simultaneous < reel.concurrent_requests) load();},0);set(_cached_,uris);set(_shy_,false);function load(){var
 $img=$cache.children(':not([src]):first')
 return $img.attr(_src_,$img.data(_src_))
 }
 },preloaded:function(e){var
 images=get(_images_).length ||1,preloaded=set(_preloaded_,min(get(_preloaded_) + 1,images))
 if (preloaded ===1) var
 frame=t.trigger('frameChange',[undefined,get(_frame_)])
 if (preloaded ===images){t.parent().removeClass(loading_klass);t.trigger('loaded');}
 },loaded:function(e){get(_images_).length > 1 ||t.css({backgroundImage:url(reel.substitute(opt.path+get(_image_),get)) }).attr({src:cdn(transparent) });get(_stitched_) &&t.attr({src:cdn(transparent) });get(_reeled_) ||set(_velocity_,opt.velocity ||0);set(_loading_,false);loaded=true;},prepare:function(e){t.css('display',_block_).parent().one(_click_,shy_setup);},opening:function(e){if (!opt.opening) return t.trigger('openingDone');var
 opening=set(_opening_,true),stopped=set(_stopped_,!get(_speed_)),speed=opt.entry ||opt.speed,end=get(_fraction_),duration=opt.opening,start=set(_fraction_,end - speed * duration),ticks=set(_opening_ticks_,ceil(duration * leader(_tempo_)))
 },openingDone:function(e){var
 playing=set(_playing_,false),opening=set(_opening_,false),evnt=_tick_+dot(_opening_)
 pool.unbind(evnt,on.pool[evnt]);opt.orientable &&$(window).bind(_deviceorientation_,orient);if (opt.delay > 0) delay=setTimeout(function(){t.trigger('play') },opt.delay * 1000)
 else t.trigger('play');function orient(e){return t.trigger('orient',[gyro(e).alpha,gyro(e).beta,gyro(e).gamma,e]) &&e.give }
 },play:function(e,speed){var
 speed=speed ?set(_speed_,speed) :(get(_speed_) * negative_when(1,get(_backwards_))),duration=opt.duration,ticks=duration &&set(_ticks_,ceil(duration * leader(_tempo_))),backwards=set(_backwards_,speed < 0),playing=set(_playing_,!!speed),stopped=set(_stopped_,!playing)
 idle();},reach:function(e,target,speed){if (target ==get(_frame_)) return;var
 frames=get(_frames_),row=set(_row_,ceil(target / frames)),departure=set(_departure_,get(_frame_)),target=set(_destination_,target),shortest =set(_distance_,reel.math.distance(departure,target,frames)),speed=abs(speed ||get(_speed_)) * negative_when(1,shortest < 0)
 t.trigger('play',speed);},pause:function(e){unidle();},stop:function(e){var
 stopped=set(_stopped_,true),playing=set(_playing_,!stopped)
 },down:function(e,x,y,ev){if (!opt.clickfree &&ev &&ev.button !==undefined &&ev.button !=DRAG_BUTTON) return;if (opt.draggable){var
 clicked=set(_clicked_,get(_frame_)),clickfree=opt.clickfree,velocity=set(_velocity_,0),$area=clickfree ?get(_area_) :pools,origin=last=recenter_mouse(get(_revolution_),x,y)
 unidle();no_bias();panned=0;$(_html_,pools).addClass(panning_klass);$area
 .bind(_touchmove_+___+_mousemove_,drag)
 .bind(_touchend_+___+_touchcancel_,lift)
 .bind(clickfree ?_mouseleave_ :_mouseup_,lift)
 }
 function drag(e){return t.trigger('pan',[pointer(e).clientX,pointer(e).clientY,e]) &&e.give }
 function lift(e){return t.trigger('up',[e]) &&e.give }
 },up:function(e,ev){var
 clicked=set(_clicked_,false),reeling=set(_reeling_,false),throwable =opt.throwable,biases=abs(bias[0] + bias[1]) / 60,velocity=set(_velocity_,!throwable ?0 :throwable ===true ?biases :min(throwable,biases)),brakes=braking=velocity ?1 :0
 unidle();no_bias();$(_html_,pools).removeClass(panning_klass);(opt.clickfree ?get(_area_) :pools).unbind(pns);},pan:function(e,x,y,ev){if (opt.draggable &&slidable){slidable=false;unidle();var
 rows=opt.rows,orbital=opt.orbital,scrollable=!get(_reeling_) &&rows <=1 &&!orbital &&opt.scrollable,delta={x:x - last.x,y:y - last.y },abs_delta={x:abs(delta.x),y:abs(delta.y) }
 if (ev &&scrollable &&abs_delta.x < abs_delta.y) return ev.give =true;if (abs_delta.x > 0 ||abs_delta.y > 0){ev &&(ev.give =false);panned=max(abs_delta.x,abs_delta.y);last={x:x,y:y };var
 revolution=get(_revolution_),origin=get(_clicked_location_),vertical=get(_vertical_)
 if (!get(_framelock_)) var
 fraction=set(_fraction_,graph(vertical ?y - origin.y :x - origin.x,get(_clicked_on_),revolution,get(_lo_),get(_hi_),get(_cwish_),vertical ?y - origin.y :x - origin.x)),reeling=set(_reeling_,get(_reeling_) ||get(_frame_) !=get(_clicked_)),motion=to_bias(vertical ?delta.y :delta.x ||0),backwards=motion &&set(_backwards_,motion < 0)
 if (orbital &&get(_center_)) var
 vertical=set(_vertical_,abs(y - origin.y) > abs(x - origin.x)),origin=recenter_mouse(revolution,x,y)
 if (rows > 1 &&!get(_rowlock_)) var
 revolution_y=get(_revolution_y_),start=get(_clicked_tier_),lo=- start * revolution_y,tier=set(_tier_,reel.math.envelope(y - origin.y,start,revolution_y,lo,lo + revolution_y,-1))
 if (!(fraction % 1) &&!opt.loops) var
 origin=recenter_mouse(revolution,x,y)
 }
 }
 },wheel:function(e,distance,ev){if (!distance) return;wheeled=true;var
 delta=ceil(math.sqrt(abs(distance)) / 2),delta=negative_when(delta,distance > 0),revolution=0.0833 * get(_revolution_),origin=recenter_mouse(revolution),backwards=delta &&set(_backwards_,delta < 0),velocity=set(_velocity_,0),fraction=set(_fraction_,graph(delta,get(_clicked_on_),revolution,get(_lo_),get(_hi_),get(_cwish_)))
 ev &&ev.preventDefault();ev &&(ev.give =false);unidle();t.trigger('up',[ev]);},orient:function(e,alpha,beta,gamma,ev){if (!slidable ||operated) return;oriented=true;var
 alpha_fraction=alpha / 360
 fraction=set(_fraction_,+((opt.stitched ||opt.cw ?1 - alpha_fraction :alpha_fraction)).toFixed(2))
 slidable =false;},fractionChange:function(e,nil,fraction){if (nil !==undefined) return;var
 frame=1 + floor(fraction / get(_bit_)),multirow=opt.rows > 1,orbital=opt.orbital,center=set(_center_,!!orbital &&(frame <=orbital ||frame >=get(_footage_) - orbital + 2))
 if (multirow) var
 frame=frame + (get(_row_) - 1) * get(_frames_)
 var
 frame=set(_frame_,frame)
 },tierChange:function(e,nil,tier){if (nil ===undefined) var
 row=set(_row_,round(interpolate(tier,1,opt.rows))),frames=get(_frames_),frame=get(_frame_) % frames ||frames,frame=set(_frame_,frame + row * frames - frames)
 },rowChange:function(e,nil,row){if (nil ===undefined) var
 tier=may_set(_tier_,undefined,row,opt.rows)
 },frameChange:function(e,nil,frame){if (nil !==undefined) return;this.className=this.className.replace(reel.re.frame_klass,frame_klass + frame);var
 frames=get(_frames_),rows=opt.rows,path=opt.path,base=frame % frames ||frames,frame_row=(frame - base) / frames + 1,frame_tier=(frame_row - 1) / (rows - 1),row=get(_row_),tier=!rows ?get(_tier_) :may_set(_tier_,frame_tier,row,rows),fraction=may_set(_fraction_,undefined,base,frames),footage=get(_footage_)
 if (opt.orbital &&get(_vertical_)) var
 frame=opt.inversed ?footage + 1 - frame :frame,frame=frame + footage
 var
 stitched=get(_stitched_),images=get(_images_),is_sprite=!images.length ||stitched
 if (!is_sprite){get(_responsive_) &&gauge();get(_preloaded_) &&t.attr({src:reen(reel.substitute(path + images[frame - 1],get)) });}else{var
 spacing=get(_spacing_),width=get(_width_),height=get(_height_)
 if (!stitched) var
 horizontal=opt.horizontal,minor=(frame % footage) - 1,minor=minor < 0 ?footage - 1 :minor,major=floor((frame - 0.1) / footage),major=major + (rows > 1 ?0 :(get(_backwards_) ?0 :!opt.directional ?0 :get(_rows_))),a=major * ((horizontal ?height :width) + spacing),b=minor * ((horizontal ?width :height) + spacing),shift=images.length ?[0,0] :horizontal ?[px(-b),px(-a)] :[px(-a),px(-b)]
 else{var
 x=set(_stitched_shift_,round(interpolate(fraction,0,get(_stitched_travel_))) % stitched),y=rows <=1 ?0 :(height + spacing) * (rows - row),shift=[px(-x),px(-y)],image=images.length > 1 &&images[row - 1],fullpath=reel.substitute(path + image,get)
 image &&t.css('backgroundImage').search(fullpath) < 0 &&t.css({backgroundImage:url(fullpath) })
 }
 t.css({backgroundPosition:shift.join(___) })
 }
 },'frameChange.reach':function(e,nil,frame){if (!get(_destination_) ||nil !==undefined) return;var
 travelled=reel.math.distance(get(_departure_),frame,get(_frames_)),onorover=abs(travelled) >=abs(get(_distance_))
 if (!onorover) return;set(_frame_,set(_destination_));set(_destination_,set(_distance_,set(_departure_,0)));t.trigger('stop');},'imageChange imagesChange':function(e,nil,image){t.trigger('preload');},'fractionChange.indicator':function(e,nil,fraction){if (opt.indicator &&nil ===undefined) var
 size=opt.indicator,orbital=opt.orbital,travel=orbital &&get(_vertical_) ?get(_height_) :get(_width_),slots=orbital ?get(_footage_) :opt.images.length ||get(_frames_),weight=ceil(travel / slots),travel=travel - weight,indicate=round(interpolate(fraction,0,travel)),indicate=!opt.cw ||get(_stitched_) ?indicate :travel - indicate,$indicator=indicator.$x.css(get(_vertical_)
 ?{left:0,top:px(indicate),bottom:_auto_,width:size,height:weight }
 :{bottom:0,left:px(indicate),top:_auto_,width:weight,height:size })
 },'tierChange.indicator':function(e,nil,tier){if (opt.rows > 1 &&opt.indicator &&nil ===undefined) var
 travel=get(_height_),size=opt.indicator,weight=ceil(travel / opt.rows),travel=travel - weight,indicate=round(tier * travel),$yindicator=indicator.$y.css({left:0,top:indicate,width:size,height:weight })
 },'setup.annotations':function(e){var
 $overlay=t.parent()
 $.each(get(_annotations_),function(ida,note){var
 $note=typeof note.node ==_string_ ?$(note.node) :note.node ||{},$note=$note.jquery ?$note :$(tag(_div_),$note),$note=$note.attr({id:ida }).addClass(annotation_klass),$image=note.image ?$(tag(_img_),note.image) :$(),$link=note.link ?$(tag('a'),note.link).click(function(){t.trigger('up.annotations',{target:$link });}) :$()
 css(hash(ida),{display:_none_,position:_absolute_ },true);note.image ||note.link &&$note.append($link);note.link ||note.image &&$note.append($image);note.link &&note.image &&$note.append($link.append($image));$note.appendTo($overlay);});},'prepare.annotations':function(e){$.each(get(_annotations_),function(ida,note){$(hash(ida)).hide();});},'frameChange.annotations':function(e,nil,frame){if (!get(_preloaded_) ||nil !==undefined) return;var
 width=get(_width_),stitched=get(_stitched_),ss=get(_stitched_shift_)
 $.each(get(_annotations_),function(ida,note){var
 $note=$(hash(ida)),start=note.start ||1,end=note.end,frame=frame ||get(_frame_),offset=frame - 1,at=note.at ?(note.at[offset] =='+') :false,offset=note.at ?offset :offset - start + 1,x=typeof note.x!=_object_ ?note.x :note.x[offset],y=typeof note.y!=_object_ ?note.y :note.y[offset],placed=x !==undefined &&y !==undefined,visible=placed &&(note.at ?at :(offset >=0 &&(!end ||offset <=end - start)))
 if (stitched) var
 on_edge=x < width &&ss > stitched - width,after_edge=x > stitched - width &&ss >=0 &&ss < width,x=!on_edge ?x :x + stitched,x=!after_edge ?x :x - stitched,x=x - ss
 if (get(_responsive_)) var
 ratio=get(_ratio_),x=x &&x * ratio,y=y &&y * ratio
 var
 style={display:visible ?_block_:_none_,left:px(x),top:px(y) }
 $note.css(style);});},'up.annotations':function(e,ev){if (panned > 10 ||wheeled) return;var
 $target=$(ev.target),$link=($target.is('a') ?$target :$target.parents('a')),href=$link.attr('href')
 href &&(panned=10);},'up.steppable':function(e,ev){if (panned ||wheeled) return;t.trigger(get(_clicked_location_).x - t.offset().left > 0.5 * get(_width_) ?'stepRight':'stepLeft')
 },'stepLeft stepRight':function(e){unidle();},stepRight:function(e){set(_backwards_,false);set(_fraction_,get(_fraction_) - get(_bit_) * get(_cwish_));},stepLeft:function(e){set(_backwards_,true);set(_fraction_,get(_fraction_) + get(_bit_) * get(_cwish_));},stepUp:function(e){set(_row_,get(_row_) - 1);},stepDown:function(e){set(_row_,get(_row_) + 1);},resize:function(e,force){if (get(_loading_) &&!force) return;var
 stitched=get(_stitched_),spacing=get(_spacing_),height=get(_height_),is_sprite=!get(_images_).length ||stitched,rows=opt.rows ||1,size=get(_images_).length
 ?!stitched ?undefined :px(stitched)+___+px(height)
 :stitched &&px(stitched)+___+px((height + spacing) * rows - spacing)
 ||px((get(_width_) + spacing) * get(_footage_) - spacing)+___+px((height + spacing) * get(_rows_) * rows * (opt.directional?2:1) - spacing)
 t.css({height:is_sprite ?px(height) :null,backgroundSize:size ||null
 });force ||t.trigger('imagesChange');},'setup.fu':function(e){var
 frame=set(_frame_,opt.frame + (get(_row_) - 1) * get(_frames_))
 t.trigger('preload')
 },'wheel.fu':function(){wheeled=false },'clean.fu':function(){t.trigger('teardown') },'loaded.fu':function(){t.trigger('opening') }
 },pool:{'tick.reel.preload':function(e){if (!(loaded ||get(_loading_)) ||get(_shy_)) return;var
 width=get(_width_),current=number(preloader.$.css(_width_)),images=get(_images_).length ||1,target=round(1 / images * get(_preloaded_) * width)
 preloader.$.css({width:current + (target - current) / 3 + 1 })
 if (get(_preloaded_) ===images &&current > width - 1){loaded=false;preloader.$.fadeOut(300,function(){preloader.$.css({opacity:1,width:0 }) });}
 },'tick.reel':function(e){if (get(_shy_)) return;var
 velocity=get(_velocity_),leader_tempo=leader(_tempo_),monitor=opt.monitor
 if (!reel.intense &&offscreen()) return;if (braking) var
 braked=velocity - (get(_brake_) / leader_tempo * braking),velocity=set(_velocity_,braked > 0.1 ?braked :(braking=operated=0))
 monitor &&$monitor.text(get(monitor));velocity &&braking++;operated &&operated++;to_bias(0);slidable=true;if (operated &&!velocity) return mute(e);if (get(_clicked_)) return mute(e,unidle());if (get(_opening_ticks_) > 0) return;if (!opt.loops &&opt.rebound) var
 edgy=!operated &&!(get(_fraction_) % 1) ?on_edge++ :(on_edge=0),bounce=on_edge >=opt.rebound * 1000 / leader_tempo,backwards=bounce &&set(_backwards_,!get(_backwards_))
 var
 direction=get(_cwish_) * negative_when(1,get(_backwards_)),ticks=get(_ticks_),step=(!get(_playing_) ||oriented ||!ticks ?velocity :abs(get(_speed_)) + velocity) / leader(_tempo_),fraction=set(_fraction_,get(_fraction_) - step * direction),ticks=!opt.duration ?ticks :ticks > 0 &&set(_ticks_,ticks - 1)
 !ticks &&get(_playing_) &&t.trigger('stop');},'tick.reel.opening':function(e){if (!get(_opening_)) return;var
 speed=opt.entry ||opt.speed,step=speed / leader(_tempo_) * (opt.cw?-1:1),ticks=set(_opening_ticks_,get(_opening_ticks_) - 1),fraction=set(_fraction_,get(_fraction_) + step)
 ticks ||t.trigger('openingDone');}
 }
 },loaded=false,mute=function(e,result){return e.stopImmediatePropagation() ||result },shy_setup=function(){t.trigger('setup') },operated,braking=0,idle=function(){return operated=0 },unidle=function(){clearTimeout(delay);pool.unbind(_tick_+dot(_opening_),on.pool[_tick_+dot(_opening_)]);set(_opening_ticks_,0);set(_reeled_,true);return operated=-opt.timeout * leader(_tempo_)
 },panned=0,wheeled=false,oriented=false,$monitor=$(),preloader=function(){css(___+dot(preloader_klass),{position:_absolute_,left:0,bottom:0,height:opt.preloader,overflow:_hidden_,backgroundColor:'#000'});return preloader.$=$(tag(_div_),{'class':preloader_klass })
 },indicator=function(axis){css(___+dot(indicator_klass)+dot(axis),{position:_absolute_,width:0,height:0,overflow:_hidden_,backgroundColor:'#000'});return indicator['$'+axis]=$(tag(_div_),{'class':indicator_klass+___+axis })
 },css=function(selector,definition,global){var
 stage=global ?__ :get(_stage_),selector=selector.replace(/^/, stage).replace(____, ____+stage)
 return css.rules.push(selector+cssize(definition)) &&definition
 function cssize(values){var rules=[];$.each(values,function(key,value){rules.push(key.replace(/([A-Z])/g, '-$1').toLowerCase()+':'+px(value)+';') });
 return '{'+rules.join(__)+'}'}
 },$style,offscreen=function(){var
 height=get(_height_),width=get(_width_),rect=t[0].getBoundingClientRect()
 return rect.top < -height
 ||rect.left < -width
 ||rect.right > width + $(window).width()
 ||rect.bottom > height + $(window).height()
 },on_edge=0,last={x:0,y:0 },to_bias=function(value){return bias.push(value) &&bias.shift() &&value },no_bias=function(){return bias=[0,0] },bias=no_bias(),graph=opt.graph ||reel.math[opt.loops ?'hatch':'envelope'],normal=reel.normal,slow_gauge=function(){clearTimeout(gauge_delay);gauge_delay=setTimeout(gauge,reel.resize_gauge);},gauge=function(){if (t.width() ==get(_width_)) return;var
 truescale=get(_truescale_),ratio=set(_ratio_,t.width() / truescale.width)
 $.each(truescale,function(key,value){set(key,round(value * ratio)) })
 t.trigger('resize');},delay,gauge_delay,recenter_mouse=function(revolution,x,y){var
 fraction=set(_clicked_on_,get(_fraction_)),tier=set(_clicked_tier_,get(_tier_)),loops=opt.loops,lo=set(_lo_,loops ?0 :- fraction * revolution),hi=set(_hi_,loops ?revolution :revolution - fraction * revolution)
 return x !==undefined &&set(_clicked_location_,{x:x,y:y }) ||undefined
 },slidable=true,may_set=function(key,value,cousin,maximum){if (!maximum) return;var
 current=get(key) ||0,recalculated=value !==undefined ?value :(cousin - 1) / (maximum - 1),recalculated=key !=_fraction_ ?recalculated :min(recalculated,0.9999),worthy=+abs(current - recalculated).toFixed(8) >=+(1 / (maximum - 1)).toFixed(8),value=worthy ?set(key,recalculated) :value ||current
 return value
 },pools=pool
 try{if (pool[0] !=top.document) pools=pool.add(top.document) }
 catch(e){}
 var
 $iframe=top ===self ?$() :(function sense_iframe($ifr){$('iframe',pools.last()).each(function(){try{if ($(this).contents().find(_head_).html() ==$(_head_).html()) return ($ifr=$(this)) &&false }
 catch(e){}
 })
 return $ifr
 })()
 css.rules=[];on.setup();});ticker=ticker ||(function tick(){var
 start=+new Date(),tempo=leader(_tempo_)
 if (!tempo) return ticker=null;pool.trigger(_tick_);reel.cost=(+new Date() + reel.cost - start) / 2;return ticker=setTimeout(tick,max(4,1000 / tempo - reel.cost));})();return $(instances);}
 },unreel:function(){return this.trigger('teardown');}
 },re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/i,
 ua:[/(msie|opera|firefox|chrome|safari)[ \/:]([\d.]+)/i,
 /(webkit)\/([\d.]+)/i,
 /(mozilla)\/([\d.]+)/i
 ],array:/ *, */,
 lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,
 frame_klass:/frame-\d+/,
 substitution:/(@([A-Z]))/g,
 no_match:/^(undefined|)$/,
 sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/
 },cdn:'http://code.vostrel.net/',math:{envelope:function(x,start,revolution,lo,hi,cwness,y){return start + min_max(lo,hi,- x * cwness) / revolution
 },hatch:function(x,start,revolution,lo,hi,cwness,y){var
 x=(x < lo ?hi :0) + x % hi,fraction=start + (- x * cwness) / revolution
 return fraction - floor(fraction)
 },interpolate:function(fraction,lo,hi){return lo + fraction * (hi - lo)
 },distance:function(start,end,total){var
 half=total / 2,d=end - start
 return d < -half ?d + total :d > half ?d - total :d
 }
 },preload:{fidelity:function(sequence,opt,get){var
 orbital=opt.orbital,rows=orbital ?2 :opt.rows ||1,frames=orbital ?get(_footage_) :get(_frames_),start=(opt.row-1) * frames,values=new Array().concat(sequence),present=new Array(sequence.length + 1),priority=rows < 2 ?[] :values.slice(start,start + frames)
 return spread(priority,1,start).concat(spread(values,rows,0))
 function spread(sequence,rows,offset){if (!sequence.length) return [];var
 order=[],passes=4 * rows,start=opt.frame,frames=sequence.length,plus=true,granule=frames / passes
 for(var i=0;i < passes;i++)
 add(start + round(i * granule));while(granule > 1)
 for(var i=0,length=order.length,granule=granule / 2,p=plus=!plus;i < length;i++)
 add(order[i] + (plus?1:-1) * round(granule));for(var i=0;i <=frames;i++) add(i);for(var i=0;i < order.length;i++)
 order[i]=sequence[order[i] - 1];return order
 function add(frame){while(!(frame >=1 &&frame <=frames))
 frame+=frame < 1 ?+frames :-frames;return present[offset + frame] ||(present[offset + frame]=!!order.push(frame))
 }
 }
 },linear:function(sequence,opt,get){return sequence
 }
 },substitute:function(uri,get){return uri.replace(reel.re.substitution,function(match,mark,key){return typeof reel.substitutes[key] =='function'?reel.substitutes[key](get) :substitution_keys[key]
 ?get(substitution_keys[key]) :mark;});},substitutes:{T:function(get){return +new Date() }
 },normal:{fraction:function(fraction,data){if (fraction ===null) return fraction;return data[_options_].loops ?fraction - floor(fraction) :min_max(0,1,fraction)
 },tier:function(tier,data){if (tier ===null) return tier;return min_max(0,1,tier)
 },row:function(row,data){if (row ===null) return row;return round(min_max(1,data[_options_].rows,row))
 },frame:function(frame,data){if (frame ===null) return frame;var
 opt=data[_options_],frames=data[_frames_] * (opt.orbital ?2 :opt.rows ||1),result=round(opt.loops ?frame % frames ||frames :min_max(1,frames,frame))
 return result < 0 ?result + frames :result
 },images:function(images,data){var
 sequence=reel.re.sequence.exec(images),result=!sequence ?images :reel.sequence(sequence,data[_options_])
 return result;}
 },sequence:function(sequence,opt){if (sequence.length <=1) return opt.images;var
 images=[],orbital=opt.orbital,url=sequence[1],placeholder=sequence[2],start=sequence[4],start=reel.re.no_match.test(start+__) ?1 :+start,rows=orbital ?2 :opt.rows ||1,frames=orbital ?opt.footage :opt.stitched ?1 :opt.frames,end=+(sequence[5] ||rows * frames),total=end - start,increment=+sequence[7] ||1,counter=0
 while(counter <=total){images.push(url.replace(placeholder,pad((start + counter + __),placeholder.length,'0')));counter+=increment;}
 return images;},instances:$(),leader:leader,resize_gauge:300,concurrent_requests:4,cost:0
 },pool=$(document),client=navigator.userAgent,browser=reel.re.ua[0].exec(client) ||reel.re.ua[1].exec(client) ||reel.re.ua[2].exec(client),browser_version=+browser[2].split('.').slice(0,2).join('.'),ie=browser[1] =='MSIE',knows_data_urls=!(ie &&browser_version < 8),knows_background_size=!(ie &&browser_version < 9),ticker,klass='reel',overlay_klass=klass + '-overlay',cache_klass=klass + '-cache',indicator_klass=klass + '-indicator',preloader_klass=klass + '-preloader',monitor_klass=klass + '-monitor',annotation_klass=klass + '-annotation',panning_klass=klass + '-panning',loading_klass=klass + '-loading',frame_klass='frame-',math=Math,round=math.round,floor=math.floor,ceil=math.ceil,min=math.min,max=math.max,abs=math.abs,number=parseInt,interpolate=reel.math.interpolate,_annotations_='annotations',_area_='area',_auto_='auto',_backup_='backup',_backwards_='backwards',_bit_='bit',_brake_='brake',_cache_='cache',_cached_=_cache_+'d',_center_='center',_class_='class',_click_='click',_clicked_=_click_+'ed',_clicked_location_=_clicked_+'_location',_clicked_on_=_clicked_+'_on',_clicked_tier_=_clicked_+'_tier',_cwish_='cwish',_departure_='departure',_destination_='destination',_distance_='distance',_footage_='footage',_fraction_='fraction',_frame_='frame',_framelock_='framelock',_frames_='frames',_height_='height',_hi_='hi',_hidden_='hidden',_image_='image',_images_='images',_lo_='lo',_loading_='loading',_mouse_='mouse',_opening_='opening',_opening_ticks_=_opening_+'_ticks',_options_='options',_playing_='playing',_preloaded_='preloaded',_ratio_='ratio',_reeling_='reeling',_reeled_='reeled',_responsive_='responsive',_revolution_='revolution',_revolution_y_='revolution_y',_row_='row',_rowlock_='rowlock',_rows_='rows',_shy_='shy',_spacing_='spacing',_speed_='speed',_src_='src',_stage_='stage',_stitched_='stitched',_stitched_shift_=_stitched_+'_shift',_stitched_travel_=_stitched_+'_travel',_stopped_='stopped',_style_='style',_tempo_='tempo',_ticks_='ticks',_tier_='tier',_touch_='touch',_truescale_='truescale',_velocity_='velocity',_vertical_='vertical',_width_='width',ns=dot(klass),pns=dot('pan') + ns,_deviceorientation_='deviceorientation'+ns,_dragstart_='dragstart'+ns,_mousedown_=_mouse_+'down'+ns,_mouseenter_=_mouse_+'enter'+ns,_mouseleave_=_mouse_+'leave'+pns,_mousemove_=_mouse_+'move'+pns,_mouseup_=_mouse_+'up'+pns,_mousewheel_=_mouse_+'wheel'+ns,_tick_='tick'+ns,_touchcancel_=_touch_+'cancel'+pns,_touchend_=_touch_+'end'+pns,_touchstart_=_touch_+'start'+ns,_touchmove_=_touch_+'move'+pns,_resize_='resize'+ns,__='',___=' ',____=',',_absolute_='absolute',_block_='block',_cdn_='@CDN@',_div_='div',_hand_='hand',_head_='head',_html_='html',_id_='id',_img_='img',_jquery_reel_='jquery.'+klass,_move_='move',_none_='none',_object_='object',_preload_='preload',_string_='string',responsive_keys=[_width_,_height_,_spacing_,_revolution_,_revolution_y_,_stitched_,_stitched_shift_,_stitched_travel_],substitution_keys={W:_width_,H:_height_ },transparent=knows_data_urls ?embedded('CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7') :_cdn_+'blank.gif',reel_cursor=url(_cdn_+_jquery_reel_+'.cur')+____+_move_,drag_cursor=url(_cdn_+_jquery_reel_+'-drag.cur')+____+_move_,drag_cursor_down=url(_cdn_+_jquery_reel_+'-drag-down.cur')+____+_move_,lazy=reel.lazy=(reel.re.lazy_agent).test(client),DRAG_BUTTON=ie &&browser_version < 9 ?1 :0,cleanData=$.cleanData,cleanDataEvent=$.cleanData=function(elements){$(elements).each(function(){$(this).triggerHandler('clean');});return cleanData.apply(this,arguments);}
 $.extend($.fn,reel.fn) &&$(reel.scan);return reel;function add_instance($instance){return (reel.instances.push($instance[0])) &&$instance }
 function remove_instance($instance){return (reel.instances=reel.instances.not(hash($instance.attr(_id_)))) &&$instance }
 function leader(key){return reel.instances.first().data(key) }
 function embedded(image){return 'data:image/gif;base64,R0lGODlh'+ image }
 function tag(string){return '<'+ string + '/>'}
 function dot(string){return '.'+ (string ||'') }
 function cdn(path){return path.replace(_cdn_,reel.cdn) }
 function url(location){return 'url(\'' + reen(location) + '\')'}
 function axis(key,value){return typeof value ==_object_ ?value[key] :value }
 function min_max(minimum,maximum,number){return max(minimum,min(maximum,number)) }
 function negative_when(value,condition){return abs(value) * (condition ?-1 :1) }
 function pointer(e){return e.touch ||e.originalEvent.touches &&e.originalEvent.touches[0] ||e }
 function gyro(e){return e.originalEvent }
 function px(value){return value ===undefined ?0 :typeof value ==_string_ ?value :value + 'px'}
 function hash(value){return '#'+ value }
 function pad(string,len,fill){while (string.length < len) string=fill + string;return string }
 function twochar(string){return pad(string,2,'0') }
 function reen(uri){return encodeURI(decodeURI(uri)) }
 function soft_array(string){return reel.re.array.exec(string) ?string.split(reel.re.array) :string }
 function detached($node){return !$node.parents(_html_).length }
 function numerize_array(array){return typeof array ==_string_ ?array :$.each(array,function(ix,it){array[ix]=it ?+it :undefined }) }
 function error(message){try{console.error('[ Reel ] '+message) }catch(e){} }
})(jQuery,window,document);});(function (factory) {if (typeof define ==='function'&&define.amd) {define(['jquery'],factory);} else if (typeof exports ==='object') {factory(require('jquery'));} else {factory(jQuery);}
}(function ($) {var pluses =/\+/g;

function encode(s) {return config.raw ?s :encodeURIComponent(s);}
function decode(s) {return config.raw ?s :decodeURIComponent(s);}
function stringifyCookieValue(value) {return encode(config.json ?JSON.stringify(value) :String(value));}
function parseCookieValue(s) {if (s.indexOf('"') ===0) {s =s.slice(1,-1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
}
try {s =decodeURIComponent(s.replace(pluses,' '));return config.json ?JSON.parse(s) :s;} catch(e) {}
}
function read(s,converter) {var value =config.raw ?s :parseCookieValue(s);return $.isFunction(converter) ?converter(value) :value;}
var config =$.cookie =function (key,value,options) {if (value !==undefined &&!$.isFunction(value)) {options =$.extend({},config.defaults,options);if (typeof options.expires ==='number') {var days =options.expires,t =options.expires =new Date();t.setTime(+t + days * 864e+5);}
return (document.cookie =[encode(key),'=',stringifyCookieValue(value),options.expires ?'; expires='+ options.expires.toUTCString() :'',options.path ?'; path='+ options.path :'',options.domain ?'; domain='+ options.domain :'',options.secure ?'; secure':''].join(''));}
var result =key ?undefined :{};var cookies =document.cookie ?document.cookie.split('; ') :[];for (var i =0,l =cookies.length;i < l;i++) {var parts =cookies[i].split('=');var name =decode(parts.shift());var cookie =parts.join('=');if (key &&key ===name) {result =read(cookie,value);break;}
if (!key &&(cookie =read(cookie)) !==undefined) {result[name] =cookie;}
}
return result;};config.defaults ={};$.removeCookie =function (key,options) {if ($.cookie(key) ===undefined) {return false;}
$.cookie(key,'',$.extend({},options,{expires:-1 }));return !$.cookie(key);};}));(function (factory) {if (typeof define ==='function'&&define.amd) {define(['jquery'],function ($) {return factory($);});} else if (typeof module ==='object'&&typeof module.exports ==='object') {module.exports =factory(require('jquery'));} else {factory(window.jQuery);}
}(function(jQuery) {"use strict";function uaMatch(ua ) {if (ua ===undefined ) {ua =window.navigator.userAgent;}
 ua =ua.toLowerCase();var match =/(edge)\/([\w.]+)/.exec( ua ) ||
 /(opr)[\/]([\w.]+)/.exec( ua ) ||
 /(chrome)[ \/]([\w.]+)/.exec( ua ) ||
 /(iemobile)[\/]([\w.]+)/.exec( ua ) ||
 /(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec( ua ) ||
 /(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec( ua ) ||
 /(webkit)[ \/]([\w.]+)/.exec( ua ) ||
 /(opera)(?:.*version|)[ \/]([\w.]+)/.exec( ua ) ||
 /(msie) ([\w.]+)/.exec( ua ) ||
 ua.indexOf("trident") >=0 &&/(rv)(?::| )([\w.]+)/.exec( ua ) ||
 ua.indexOf("compatible") < 0 &&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec( ua ) ||
 [];var platform_match =/(ipad)/.exec( ua ) ||
 /(ipod)/.exec( ua ) ||
 /(windows phone)/.exec( ua ) ||
 /(iphone)/.exec( ua ) ||
 /(kindle)/.exec( ua ) ||
 /(silk)/.exec( ua ) ||
 /(android)/.exec( ua ) ||
 /(win)/.exec( ua ) ||
 /(mac)/.exec( ua ) ||
 /(linux)/.exec( ua ) ||
 /(cros)/.exec( ua ) ||
 /(playbook)/.exec( ua ) ||
 /(bb)/.exec( ua ) ||
 /(blackberry)/.exec( ua ) ||
 [];var browser ={},matched ={browser:match[5 ] ||match[3 ] ||match[1 ] ||"",version:match[2 ] ||match[4 ] ||"0",versionNumber:match[4 ] ||match[2 ] ||"0",platform:platform_match[0 ] ||""};if (matched.browser ) {browser[matched.browser ] =true;browser.version =matched.version;browser.versionNumber =parseInt(matched.versionNumber,10);}
 if (matched.platform ) {browser[matched.platform ] =true;}
 if (browser.android ||browser.bb ||browser.blackberry ||browser.ipad ||browser.iphone ||browser.ipod ||browser.kindle ||browser.playbook ||browser.silk ||browser["windows phone"]) {browser.mobile =true;}
 if (browser.cros ||browser.mac ||browser.linux ||browser.win ) {browser.desktop =true;}
 if (browser.chrome ||browser.opr ||browser.safari ) {browser.webkit =true;}
 if (browser.rv ||browser.iemobile) {var ie ="msie";matched.browser =ie;browser[ie] =true;}
 if (browser.edge ) {delete browser.edge;var msedge ="msedge";matched.browser =msedge;browser[msedge] =true;}
 if (browser.safari &&browser.blackberry ) {var blackberry ="blackberry";matched.browser =blackberry;browser[blackberry] =true;}
 if (browser.safari &&browser.playbook ) {var playbook ="playbook";matched.browser =playbook;browser[playbook] =true;}
 if (browser.bb ) {var bb ="blackberry";matched.browser =bb;browser[bb] =true;}
 if (browser.opr ) {var opera ="opera";matched.browser =opera;browser[opera] =true;}
 if (browser.safari &&browser.android ) {var android ="android";matched.browser =android;browser[android] =true;}
 if (browser.safari &&browser.kindle ) {var kindle ="kindle";matched.browser =kindle;browser[kindle] =true;}
 if (browser.safari &&browser.silk ) {var silk ="silk";matched.browser =silk;browser[silk] =true;}
 browser.name =matched.browser;browser.platform =matched.platform;return browser;}
 window.jQBrowser =uaMatch(window.navigator.userAgent );window.jQBrowser.uaMatch =uaMatch;if (jQuery ) {jQuery.browser =window.jQBrowser;}
 return window.jQBrowser;}));var isContentSearch =window.location.href.indexOf("content") >=0;var searchTermInputId =isContentSearch ?'#content-search-term':'#search-term';var currentPage =($(searchTermInputId).attr("data-currentPage") > 0) ?$(searchTermInputId).attr("data-currentPage") :1;var currentPageProducts =isContentSearch ?1 :currentPage;var currentPageContent =isContentSearch ?currentPage :1;var preselections;$(document).ready(function () {if ($('.facettensuche').length) {showFacette();if (isContentSearch) {Tabs.changeTab($("a[href=#tab-2]"));}
 sendSearchTerm('contentsearch','.contentsuche',false,true);sendSearchTerm('productsearch','.produkt',false,true);updateSelectedFacets(true);$('.contentsuche .ui-search').click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;sendSearchTerm('contentsearch','.contentsuche',false);});$('.produkt .ui-search').click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;sendSearchTerm('productsearch','.produkt',false);});$('#select01').change(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;sendSearchTerm('productsearch','.produkt',false);});$('.contentsuche').on("click",".load-content-items",function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;var search =$(this).closest('.tab-content').find('#content-search-term');search.attr("data-resultsDisplayed",search.attr("data-resultsNew") * 1 + search.attr("data-resultsDisplayed") * 1);sendSearchTerm('contentsearch','.contentsuche',true);});$('.produkt').on("click",".load-content-items",function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;var search =$(this).closest('.tab-content').find('#search-term');search.attr("data-resultsDisplayed",search.attr("data-resultsNew") * 1 + search.attr("data-resultsDisplayed") * 1);sendSearchTerm('productsearch','.produkt',true);});$(".filter-list ").on('click','.icon-circle-cross',function (event) {var $parentTab =$(this).closest('.tab-content');var id =$(this).attr('data-checked');if (id) {$(this).closest('li').remove();$parentTab.find('.sidebar input[id="'+ id + '"]').removeAttr('checked').siblings('.icon-check35').removeClass('icon-check35').addClass('checkboxArea');$parentTab.find('span[data-filter-id="'+ id + '"]').removeClass('active');sendSearchTermChooser($parentTab);}
 });$("a[href=#tab-1]").on("click",function () {isContentSearch =false;updateSelectedFacets(true);});$("a[href=#tab-2]").on("click",function () {isContentSearch =true;updateHistory();});}
 ;});function showFacette() {$("body").on("click",".open-facette",function () {var parent =$(this).parents(".facette-item");if (parent.hasClass("closed-facette")) {parent.removeClass("closed-facette");} else {parent.addClass("closed-facette");}
 });}
function hideFacette(item) {var el =item.find(".facette-item");for (var i =0;i <=2;i++) {if (el[i]) {$(el[i]).removeClass("closed-facette");}
 }
}
var sendSearchTerm =function (url,parent,loadMore,initialLoad) {if (initialLoad ==null) {initialLoad =false;}
 var aData ={};var inputId =isContentSearch ?'#content-search-term':'#search-term';aData['searchTerm'] =$(parent).find(inputId).val();aData['resultsNew'] =$(parent).find(inputId).attr("data-resultsNew");if (initialLoad) {aData['pageSize'] =isContentSearch ?currentPageContent * 20 :currentPageProducts * 30;} else {aData['pageSize'] =isContentSearch ?20 :30;}
 aData['resultsDisplayed'] =loadMore ?$(parent).find(inputId).attr("data-resultsDisplayed") :0;aData['sortCode'] =$(parent).find('#select01').val();var aGroup ={};if (preselections !=undefined) {$.each(preselections,function (index,elementList) {aGroup[index] ={"name":"'"+ index + "'","facetsValues":[]};$.each(elementList,function () {aGroup[index]["facetsValues"].push({"name":index,"id":this,"selected":true,"resultCount":0
 });});});}
 $(parent).find('.sidebar .facet-group').each(function () {var gId =$(this).attr('id');if(gId.includes('price'))
 {var minVal =parseFloat($('#slider-input-min').val());var maxVal =parseFloat($('#slider-input-max').val());var fixMinValue =parseFloat($('#slider-range').data('slider-min-value'));var fixMaxValue =parseFloat($('#slider-range').data('slider-max-value'));if(minVal > fixMaxValue ||minVal < fixMinValue ||maxVal > fixMaxValue)
 {minVal =fixMinValue;maxVal =fixMaxValue
 }
 aGroup[gId] ={"name":"'"+ $(this).find("header").text() + "'","facetsValues":[],"jabFromSliderValue":minVal,"jabToSliderValue":maxVal,"jabFacetDisplayType":"SLIDER"};}
 else
 {aGroup[gId] ={"name":"'"+ $(this).find("header").text() + "'","facetsValues":[]};$(this).find('input[type=checkbox]').each(function (i,el) {var selected =false;if ($(this).is(':checked')) {selected =true;}
 var id =$(this).attr('id').split('%&')[0];aGroup[gId]["facetsValues"].push({"name":$(this).val(),"id":id,"selected":selected,"resultCount":$(this).data('count')
 });});}
 });aGroup['colors'] ={"name":"'"+ $(parent).find('#colors header').text() + "'","facetsValues":[]};$(parent).find('#colors div span').each(function () {aGroup['colors']["facetsValues"].push({"name":$(this).data('filter-name'),"id":$(this).data('filter-value'),"selected":$(this).hasClass("active"),"resultCount":$(this).data('filter-resultCount')
 });});aData['facet'] =aGroup;var href=window.location.href;aData['location'] =href;;$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:url,data:JSON.stringify(aData),dataType:"json",beforeSend:function () {initLoad.load();},complete:function () {initLoad.close();},success:function (data) {if (loadMore) {isContentSearch ?currentPageContent++ :currentPageProducts++;appendDataJSON(data,parent);} else {if (!initialLoad) {currentPageContent =1;currentPageProducts =1;}
 setDataJSON(data,parent);}
 },error:function (result) {}
 });}
var appendDataJSON =function (data,parent) {if (data &&parent) {var productsTmp =Handlebars.compile($(parent).find('#products').html());$(parent).find('.produkt-result').append(productsTmp(data));updateLoadMoreBtnVisibilityFacet(parent,data);$('.col-item.details figcaption').matchHeight();colorFilter(parent);updateWishlistIconsHandler();setDealerSearchLinks();updateHistory();}
}
var setDealerSearchLinks =function () {$(".btn-dealersearch").click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;window.location =$(this).data("href");});}
var setDataJSON =function (data,parent) {if (data &&parent) {var checkboxes =$(parent).find('.sidebar input[type="checkbox"]');checkboxes.unbind("change");var facet =data['facet'];data.hide_load_more =data.resultsNew < data.resultCount ?true :false;initSidebar($(parent),data);initFilterList($(parent),data);if ($(parent).has('#products').length) {var productsTmp =Handlebars.compile($(parent).find('#products').html());$(parent).find('.produkt-result').html(productsTmp(data));}
 if ($(parent).attr('id') ==='tab-1'&&$('.transformer-tabs').find('#tabs_cont').length > 0) {var tabsHeaderTmp =Handlebars.compile($('.transformer-tabs').find('#tabs_prod').html());$('.transformer-tabs ul.list a.prod').html(tabsHeaderTmp(data));} else if ($(parent).attr('id') ==='tab-2'&&$('.transformer-tabs').find('#tabs_cont').length > 0) {var tabsHeaderTmp =Handlebars.compile($('.transformer-tabs').find('#tabs_cont').html());$('.transformer-tabs ul.list a.cont').html(tabsHeaderTmp(data));}
 var biggestHeight =0;$('.transformer-tabs li a').each(function () {if ($(this).height() > biggestHeight) {biggestHeight =$(this).height();}
 });$('.transformer-tabs li a').height(biggestHeight);if ($(parent).has('#searchTerm').length) {var searchTermTmp =Handlebars.compile($(parent).find('#searchTerm').html());$(parent).find('.contentsuche-search').html(searchTermTmp(data));}
 if ($(parent).find('#count') &&$(parent).has('#count').length) {var countTmp =Handlebars.compile($(parent).find('#count').html());$(parent).find('.filter-results').html(countTmp(data));}
 updateWishlistIconsHandler();updateLoadMoreBtnVisibilityFacet(parent,data);$('.col-item.details figcaption').matchHeight();colorFilter(parent);updateTooltipsOnColors();setDealerSearchLinks();}
}
var updateTooltipsOnColors =function () {$('.color-tooltip-gray').tooltipster({contentAsHTML:true,interactive:true,animation:'grow',position:'top-left',offsetY:8,theme:'tooltipster-gray'});}
var initFilterList =function (parent,data) {Handlebars.registerHelper('filter-list',function (facet,options) {var ret ="";for (v in facet) {for (var i =0;i < facet[v]['facetsValues'].length;i++) {if (options.hash['fromConfigurator'] ==1 &&v =="rangeOfUse") {continue;}
 if (facet[v]['facetsValues'][i]['selected']) {ret =ret + "<li >"+ facet[v]['facetsValues'][i]['name']
 + "<span class='icon-circle-cross' data-checked='"+ facet[v]['facetsValues'][i]['id'] + '%&'+ facet[v]['facetsValues'][i]['name'] + "'></span></li>";}
 }
 }
 return ret;});if ($(parent).has('#list').length) {var listTmp =Handlebars.compile($(parent).find('#list').html());$(parent).find('.filter-list').html(listTmp(data));if ($(parent).find('.filter-list').find("li").length ==0) {$(parent).find('.filter-list').closest("tr").find(".title").hide();} else {$(parent).find('.filter-list').closest("tr").find(".title").show();}
 }
 if ($(parent).find('.tags')) {$(parent).find('.tags').on("click","span.icon-circle-cross",function () {var $parent =$(this).closest('.tab-content');var id =$(this).attr('data-checked');if (id) {$(this).closest('li').remove();$parent.find('.sidebar input[id="'+ id + '"]').removeAttr('checked').siblings('.icon-check35').removeClass('icon-check35').addClass('checkboxArea');sendSearchTermChooser(parent);}
 ;});}
 if(window.innerWidth > 768)
 {$('.facettensuche-module').removeClass('closed');}
}
var initSidebar =function (parent,data) {var isConfigurator =window.location.href.indexOf("configurator") >=0;Handlebars.registerHelper('sidebar-list',function (facet,options) {var res ='';for (var v in facet) {var hCount =0;var sectionClass ="";var ret ='<div class="filter-items">';if (v ==="colors") {for (var i =0;i < facet[v]['facetsValues'].length;i++) {sectionClass ="color-filter facette-item closed-facette";var active ='';hCount +=facet[v]['facetsValues'][i]['resultCount'];if (facet[v]['facetsValues'][i]['selected']) {active =" active ";}
 ret +='<span title="'+ facet[v]['facetsValues'][i]['name'] + ' ('+ facet[v]['facetsValues'][i]['resultCount'] + ')" class="c_'+ facet[v]['facetsValues'][i]['id'] + active + ' color-tooltip-gray" data-filter-id="'+ facet[v]['facetsValues'][i]['id'] + '%&'+ facet[v]['facetsValues'][i]['name'] + '"     data-filter-value="'+ facet[v]['facetsValues'][i]['id'] + '" data-filter-name="'+ facet[v]['facetsValues'][i]['name'] + '" data-filter-resultCount="'+ facet[v]['facetsValues'][i]['resultCount'] + '"></span>';}
 } else if(v.includes('price') &&facet[v]['jabFacetDisplayType'] ==='SLIDER') {if(isConfigurator)
 {sectionClass ="facet-group facette-item closed-facette";var from =facet[v]['jabFromSliderValue'];var to =facet[v]['jabToSliderValue'];if(from ==null)
 {from =facet[v]['jabMinSliderValue'];}
 if(to ==null)
 {to =facet[v]['jabMaxSliderValue'];}
 ret +='<div id="slider-range" data-slider-min-value="'+facet[v]['jabMinSliderValue']+'" data-slider-max-value="'+facet[v]['jabMaxSliderValue']+'"></div>';ret +='<div class="slider-input-wrapper">';ret +='<input class="slider-input" id="slider-input-min" value="'+facet[v]['jabMinSliderValue']+'" type="text"/>';ret +='<div> - </div>';ret +='<input class="slider-input" id="slider-input-max" value="'+facet[v]['jabMaxSliderValue']+'" type="text"/>';ret +='</div>';ret +='<input type="hidden" id="hidden-slider-from" value="'+from+'"/>';ret +='<input type="hidden" id="hidden-slider-to" value="'+to+'"/>';ret +='<div class="slider-button-wrapper">';ret +='<button type="button" class="btn btn-card btn-middlesSize slider-button">'+priceFacetSliderButtonText+'</button>';ret +='</div>';}
 } else {sectionClass ="facet-group facette-item closed-facette";if (preselections !=undefined &&preselections[v] !=undefined) {sectionClass +=" outtaHere "}
 for (var i =0;i < facet[v]['facetsValues'].length;i++) {var check ="";ret +='<div class="checkbox">';if (facet[v]['facetsValues'][i]['selected']) {check =" checked='checked' ";}
 ret +='<input '+ check + ' data-group="'+ v + '" value="'+ facet[v]['facetsValues'][i]['id'] + '" data-count="'+ facet[v]['facetsValues'][i]['resultCount'] + '" id="'+ facet[v]['facetsValues'][i]['id'] + '%&'+facet[v]['facetsValues'][i]['name']+'" type="checkbox"  name="'+ facet[v]['facetsValues'][i]['name'] + facet[v]['facetsValues'][i]['id'] + '" ><label for="'+ facet[v]['facetsValues'][i]['name'] + facet[v]['facetsValues'][i]['id'] + '">'+ facet[v]['facetsValues'][i]['name'] + ' (<span>'+ facet[v]['facetsValues'][i]['resultCountLocalized'] + '</span>)</label></div>';}
 ret +='</div>';}
 if(ret !=='<div class="filter-items">')
 {var header ='<section id="'+ v + '" class="'+ sectionClass + '"><header class="open-facette">'+ facet[v]['name'] + '</header>';res +=header + ret + '</section>';}
 }
 if(data.resultCount==0)
 {var resetButton ='<section class=""><a class="btn btn-card btn-middlesSize slider-button" href="/productadvancedsearch">'+resetFacetButtonText+'</a></section>';res +=resetButton;}
 updateSelectedFacets(true);return res;});if ($(parent).find("#sidebar")) {var sidebarTmp =Handlebars.compile($(parent).find("#sidebar").html());$(parent).find(".facettensuche-sidebar").html(sidebarTmp(data));hideFacette(parent);}
 $('.custom input:checkbox').customCheckbox();$(parent).find('.sidebar label').on("click",function () {$(this).parent().find("input").click();});$(".slider-button").on("click",function () {sendSearchTerm('productsearch','.produkt',false);});var checkboxes =$(parent).find('.sidebar input[type="checkbox"]');checkboxes.unbind("change");bindFilterCheckboxEvents(parent);var minVal =parseFloat($('#slider-range').data('slider-min-value'));var maxVal =parseFloat($('#slider-range').data('slider-max-value'));var fromVal =parseFloat($('#hidden-slider-from').val());var toVal =parseFloat($('#hidden-slider-to').val());$("#slider-range").slider({range:true,step:parseFloat(priceRangeSliderStep),min:minVal,max:maxVal,values:[fromVal,toVal ],slide:function(event,ui ) {$("#slider-input-min").val(ui.values[0 ]);$("#slider-input-max").val(ui.values[1 ]);}
});$("#slider-input-min").val($("#slider-range").slider("values",0 ));$("#slider-input-max").val($("#slider-range").slider("values",1 ));$('#slider-range').draggable();}
function bindFilterCheckboxEvents(parent) {$(parent).find('.sidebar input[type="checkbox"]').on("change",function () {var tabParent =$(this).closest('.tab-content');var check_id =($(this).attr('id'));var check_text =$(this).val();$(tabParent).find('.filter-list').append('<li>'+ check_text + ' <span class="icon-circle-cross" data-checked="'+ check_id + '"></span></li>')
 sendSearchTermChooser($(tabParent));});}
function sendSearchTermChooser(parent) {parent =$(parent);if (parent.attr("id") ==="tab-1") {sendSearchTerm('productsearch','.produkt',false);}
 if (parent.attr("id") ==="tab-2") {sendSearchTerm('contentsearch','.contentsuche',false);}
}
var updateLoadMoreBtnVisibilityFacet =function (parent,data) {data.show_load_more =getDisplayedResultsCountFacet(parent) < data.resultCount ?true :false;if ($(parent).find("#load-content-items") &&$(parent).find("#load-content-items").html() !=undefined) {var loadMoreTmp =Handlebars.compile($(parent).find('#load-content-items').html());$(parent).find('.load-more').html(loadMoreTmp(data));}
}
var getDisplayedResultsCountFacet =function (parent) {return $(parent).find('.results').find("[class ^='col-item']").length;}
function colorFilter(parent) {$('.color-filter').find('span').on('click',function () {var $this =$(this),active ='active';$this.toggleClass(active);sendSearchTermChooser(parent);});}
var facetGroupMapping ={brand:"b",rangeOfUse:"r",colors:"c",production:"p",transparency:"t",type:"ty",group:"g",design:"d",designSize:"ds",properties:"pr",materials:"m",martindaleTest:"ma"};var selectedFacets ={};function addFacet(key,value) {if (key ==undefined) {return;}
 if (selectedFacets[key] ==null) {selectedFacets[key] =[];}
 selectedFacets[key].push(value);}
function updateSelectedFacets(updateHistoryFlag) {selectedFacets ={};$(".filter-items input:checked").each(function () {var group =$(this).data("group");var key =facetGroupMapping[group];var value =$(this).val();addFacet(key,value);});selectedColors =[];$("#colors span.active").each(function () {selectedColors.push($(this).data("filter-value"));});if (selectedColors.length > 0) {selectedFacets["c"] =selectedColors;}
 if (updateHistoryFlag) {updateHistory();}
}
function updateHistory() {var isConfigurator =window.location.href.indexOf("configurator") >=0;var baseUrl ="";if (isConfigurator) {baseUrl ="configurator/curtains/";}
 if (history.replaceState) {baseUrl +=isContentSearch ?"contentsearch":"productadvancedsearch";var searchTerm =$((isContentSearch ?'#content-search-term':'#search-term')).val();var facetString ="";for (facet in selectedFacets) {if (isConfigurator &&facet =="r") {continue;}
 facetString +="&"+ facet + "="+ selectedFacets[facet].join();}
 history.replaceState({},"",baseUrl + "?searchTerm="+ searchTerm + facetString + "&page="+ (isContentSearch ?currentPageContent :currentPageProducts));}
}
Handlebars.registerHelper('ifNotEquals',function(a,b,options)
{if (a !==b)
 {return options.fn(this);}
 return options.inverse(this);});var ConfigurationValidator =function (options) {var vars ={warningTemplateElementSelector:undefined,contentTemplateDataId:undefined,onCheckedValid:function () {console.log("onCheckedValid - to be implemented");},onInvalid:function () {console.log("onInvalid - to be implemented");},fieldsToCheck:["suspension","dimensions","price"],textsToShow:["suspension","dimensions","price"],statiLeadingToModalBox:["INVALID_BOUNDS"],};this.construct =function (options) {$.extend(vars,options);};this.validate =function () {if (checkSummaryTabsForCorrectness()) {vars.onCheckedValid();} else {vars.onInvalid();if ($(".modaal-wrapper").length ==0) {showModal();}
 }
 };var getListOfTextsToShow =function (template) {var missingSpecifications =template + '<ul>';$.each(vars.textsToShow,function (index,value) {missingSpecifications +=errorTextMap[value]();});return missingSpecifications +='</ul>';}
 var showModal =function () {var warningModaal =$(vars.warningTemplateElementSelector);var missingSpecifications =getListOfTextsToShow(warningModaal.data(vars.contentTemplateDataId));warningModaal.data('confirm-content-result',missingSpecifications);warningModaal.modaal({type:'confirm',confirm_button_text:warningModaal.data('confirm-button'),confirm_cancel_button_text:warningModaal.data('cancel'),confirm_title:warningModaal.data('confirm-title'),confirm_content:warningModaal.data('confirm-content-result'),confirm_callback:function () {},confirm_cancel_callback:function () {$('.radio-holder.last input').click();$('.modaal-wrapper').remove();$('.modaal-overlay').remove();}
 });warningModaal.click();}
 var checkSummaryTabsForCorrectness =function () {var allTabsChecked =true;$.each(vars.fieldsToCheck,function (index,value) {if (checkMap[value]() ==false) {allTabsChecked =false;}
 });return allTabsChecked;};var checkPrice =function () {return $('.product-availability').data('status') =="CALCULATED";}
 var isChecked =function (sectionName) {return $("#summary"+ sectionName).parent().hasClass('green')
 }
 var getWarningText =function (section) {if (!isChecked(section)) {return '<li>'+ $(vars.warningTemplateElementSelector).attr('data-confirm-'+ section.toLowerCase()) + '</li>';}
 return "";}
 var checkPriceStatus =function () {var status =$('.product-availability').data('status');if (status !=undefined &&status !="CALCULATED") {var key ='data-confirm-content_'+ (status.toLowerCase());return '<li>'+ $(vars.warningTemplateElementSelector).attr(key) + '</li>';}
 return "";}
 var errorTextMap ={suspension:function () {return getWarningText("Suspension")
 },dimensions:function () {return getWarningText("Dimensions")
 },price:function () {return checkPriceStatus()
 }
 };var checkMap ={suspension:function () {return isChecked("Suspension")
 },dimensions:function () {return isChecked("Dimensions")
 },price:function () {return checkPrice()
 }
 };this.construct(options);}
$(document).ready(function () {if (!($("body").hasClass("product-print-version"))) {if (!$('body').hasClass('nogroup') &&!$('main').hasClass('no-favorites')) {updateWishlistIconsHandler();sendInitDataFavor('restapi/wishlist/shrank','#favoriten',setDataMenuFavor);if ($('.favorites-content').length) {sendInitDataFavor('restapi/wishlist','.favorites-content',setDataJSONFavor);}
 }
 }
});function adjustHeight() {if ($(window).width() > 600) {var myWidth =jQuery('.teaser-wrap .teaser-img').width();var myString =(myWidth + 20) + 'px';jQuery('.teaser-wrap .teaser-img img').css('height',myString);}
 else {jQuery('.teaser-wrap .teaser-img img').css('height','100%');}
}
jQuery(window).load(function () {adjustHeight();});jQuery(window).resize(function () {adjustHeight();});$(document).ajaxComplete(function () {adjustHeight();});var updateWishlistIconsHandler =function () {$(".favorites-btn span[data-wishlist='add']").each(function () {$(this).parent().unbind("click").click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;var currentElement =$(this).find("span");var iconElem =$('span[data-product="'+ currentElement.data('product') + '"]');var afterAddHandler =function (data) {iconElem.removeClass("icon-heart").addClass("icon-heart-filled").attr("data-wishlist","remove");sendInitDataFavor('restapi/wishlist/shrank','#favoriten',setDataMenuFavor);updateWishlistIconsHandler();refreshMenuIcon();pulseAnimation();};addToWishlistAction(currentElement.data('product'),afterAddHandler);});});$(".favorites-btn span[data-wishlist='update']").each(function () {$(this).parent().unbind("click").click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;var currentElement =$(this).find("span");$.ajax({url:'configurator/curtains/updateWishlist',type:'PUT',dataType:'text',success:function (productId) {}
 });});});$(".favorites-btn span[data-wishlist='remove']").each(function () {$(this).parent().unbind("click").click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;var currentElement =$(this).find("span");var iconElem =$('span[data-product="'+ currentElement.data('product') + '"]');iconElem.removeClass("icon-heart-filled").addClass("icon-heart").attr("data-wishlist","add");jsonRemoveFavor('restapi/wishlist/delete','.favorites-content',iconElem.data('product'));updateWishlistIconsHandler();refreshMenuIcon();});});$(".favorites-btn span[data-wishlist='configuration']").parent().on('click',function () {var source =$(this);var validator =new ConfigurationValidator({warningTemplateElementSelector:'#warning-favorites',contentTemplateDataId:'confirm-content-favorites',onCheckedValid:function () {var dataSpan =source.find("span");$.ajax({url:'configurator/curtains/addtowishlist',type:'PUT',dataType:'text',beforeSend:function () {initLoad.load();},success:function (productId) {dataSpan.attr('data-wishlist','add');dataSpan.attr('data-product',productId);updateWishlistIconsHandler();source.click();}
 });}.bind(),onInvalid:function () {}.bind()
 });validator.validate();});if ($(".favorites-btn").length ===0) {$("[data-wishlist='add']").unbind("click").click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;var currentElement =$(this);var afterAddHandler =function (data) {var iconElem =$('span[data-product="'+ currentElement.data('product') + '"]');iconElem.removeClass("icon-heart").addClass("icon-heart-filled").attr("data-wishlist","remove");sendInitDataFavor('restapi/wishlist/shrank','#favoriten',setDataMenuFavor);refreshMenuIcon();updateWishlistIconsHandler();};addToWishlistAction($(this).data('product'),afterAddHandler);});$("[data-wishlist='remove']").unbind("click").click(function () {jsonRemoveFavor('restapi/wishlist/delete','.favorites-content',$(this).data('product'));updateWishlistIconsHandler();});}
 refreshMenuIcon();};var pulseAnimation =function pulse() {var parent =$('.favorites-btn');var heart =$(parent).find("span");$(heart).addClass('pulse');setTimeout(function () {$(heart).removeClass('pulse');},2000);}
var refreshMenuIcon =function () {if ($('.favor-item').length > 0) {$('.favorit').addClass("favorit-filled").removeClass("favorit");} else {$('.favorit-filled').addClass("favorit").removeClass("favorit-filled");}
};var updateIconsAfterRemove =function (removedProductCode) {$('span[data-product="'+ removedProductCode + '"]').removeClass("icon-heart-filled").addClass("icon-heart").attr("data-wishlist","add");updateWishlistIconsHandler();};var addToWishlistAction =function (productCode,callback) {var url ='restapi/wishlist/add/product?productCode='+ productCode;$.ajax({type:"PUT",url:url,beforeSend:function () {initLoad.load();},complete:function () {initLoad.close();},success:function (data,statusText) {callback(data);},error:function (result) {console.log("Error:"+ result);}
 });};var jsonRemoveFavor =function (url,parent,id) {$.ajax({type:"DELETE",contentType:"application/json; charset=utf-8",url:url,data:JSON.stringify({"id":id}),dataType:"json",beforeSend:function () {$('#wait').show();},complete:function () {$('#wait').hide();},success:function (data) {var $element =$(parent).find('.favor-item[data-id="'+ id + '"]');$element.hide('slow',function () {$element.remove();});sendInitDataFavor('restapi/wishlist/shrank','#favoriten',setDataMenuFavor);if ($('.favorites-content').length) {sendInitDataFavor('restapi/wishlist','.favorites-content',setDataJSONFavor);}
 $('#favoritesHeadline').html(data.headerText);updateIconsAfterRemove(id);},error:function (result) {console.log("Error");}
 });};if (!$('body').hasClass('nogroup')) {var source =$("#favor").html();var template =Handlebars.compile(source);}
var sendInitDataFavor =function (url,parent,callback) {var aData ={};if ($(parent).attr('resultsNew')) {var resultsNew =$(parent).attr('resultsNew');} else {var resultsNew =5;$(parent).attr({'resultsNew':resultsNew
 });}
 aData['resultsNew'] =resultsNew;aData['resultsDisplayed'] =0;$.ajax({type:"GET",contentType:"application/json;charset=utf-8",url:url,data:aData,beforeSend:function () {$('#wait').show();},complete:function () {$('#wait').hide();},success:function (data) {callback(data,parent);},error:function (result) {console.log("LoadError");}
 });};var appendDataJSONFavor =function (data,parent) {if (data &&parent) {var oldResultsNew =$(parent).attr('resultsNew');$(parent).attr({'resultsNew':parseInt(data.resultsNew) + parseInt(oldResultsNew)
 });var productsTmp =Handlebars.compile($(parent).find('#favor').html());$(parent).find('.favor').append(productsTmp(data));updateLoadMoreBtnVisibilityFavor(parent,data);}
};var setDataJSONFavor =function (data,parent) {if (data &&parent) {$(parent).attr({'resultsNew':data.resultsNew
 });$('#favoritesHeadline').html(data.headerText);$(parent).on("click",".load-content-items",function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;sendInitDataFavor('restapi/wishlist','.favorites-content',appendDataJSONFavor);});var productsTmp =Handlebars.compile($(parent).find('#favor').html());$(parent).find('.favor').html(productsTmp(data));$(parent).on("click",".entfernen",function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;jsonRemoveFavor('restapi/wishlist/delete','.favorites-content',$(this).closest('.col-item').data('id'));});}
};var setDataMenuFavor =function (data,parent) {if (data &&parent) {$(parent).attr({'resultsNew':data.resultsNew
 });$(parent).find('#favoriteHeader').html(data.headerText);var productsTmp =Handlebars.compile($(parent).find('#favor').html());$(parent).find('.favor').html(productsTmp(data));$(parent).unbind('click').on("click",".entfernen",function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;jsonRemoveFavor('restapi/wishlist/delete',parent,$(this).closest('article').data('id'));});refreshMenuIcon();}
};var updateLoadMoreBtnVisibilityFavor =function (parent,data) {data.hide_load_more =false;var html =$(parent).find('#load-content-items').html();if (html !==undefined) {var loadMoreTmp =Handlebars.compile(html);$(parent).find('.load-more').html(loadMoreTmp(data));}
};(function($,win,undefined ){var AI ={boundAttr:"data-ajax-bound",interactionAttr:"data-interaction",makeReq:function(url,els,isHijax ) {$.get(url,function(data,status,xhr ) {els.trigger("ajaxIncludeResponse",[data,xhr ] );});},plugins:{}
};$.fn.ajaxInclude =function(options ) {var urllist =[],elQueue =$(),o ={proxy:null
};if(typeof options ==="string"){o.proxy =options;}
else {o =$.extend(o,options );}
function queueOrRequest(el ){var url =el.data("url");if(o.proxy &&$.inArray(url,urllist ) ===-1 ){urllist.push(url );elQueue =elQueue.add(el );}
else{AI.makeReq(url,el );}
}
function runQueue(){if(urllist.length ){AI.makeReq(o.proxy + urllist.join(","),elQueue );elQueue =$();urllist =[];}
}
function bindForLater(el,media ){var mm =win.matchMedia(media );function cb(){queueOrRequest(el );runQueue();mm.removeListener(cb );}
if(mm.addListener ){mm.addListener(cb );}
}
this.not("["+ AI.boundAttr + "]").not("["+ AI.interactionAttr + "]").each(function(k ) {var el =$(this ),media =el.attr("data-media"),methods =["append","replace","before","after"],method,url,isHijax =false,target =el.attr("data-target");for(var ml =methods.length,i=0;i < ml;i++ ){if(el.is("[data-"+ methods[i ] + "]") ){method =methods[i ];url =el.attr("data-"+ method );}
}
if(!url ) {url =el.attr("href") ||el.attr("action");isHijax =true;}
if(method ==="replace"){method +="With";}
el.data("method",method )
.data("url",url )
.data("target",target )
.attr(AI.boundAttr,true )
.each(function() {for(var j in AI.plugins ) {AI.plugins[j ].call(this,o );}
})
.bind("ajaxIncludeResponse",function(e,data,xhr ){var content =data,targetEl =target ?$(target ) :el;if(o.proxy ){var subset =content.match(new RegExp("<entry url=[\"']?" + el.data( "url" ) + "[\"']?>(?:(?!</entry>)(.|\n))*", "gmi" ) );

if( subset ){

content = subset[ 0 ];

}

}



var filteredContent = el.triggerHandler( "ajaxIncludeFilter", [ content ] );



if( filteredContent ){

content = filteredContent;

}



if( method === 'replaceWith' ) {

el.trigger( "ajaxInclude", [ content ] );

targetEl[ el.data( "method" ) ]( content );

} else {

targetEl[ el.data( "method" ) ]( content );

el.trigger( "ajaxInclude", [ content ] );

}

});



// When hijax, ignores matchMedia, proxies/queueing

if ( isHijax ) {

AI.makeReq( url, el, true );

}

else if ( !media || ( win.matchMedia && win.matchMedia( media ).matches ) ) {

queueOrRequest( el );

}

else if( media && win.matchMedia ){

bindForLater( el, media );

}

});



// empty the queue for proxied requests

runQueue();



// return elems

return this;

};



win.AjaxInclude = AI;

}( jQuery, this ));
/* Respond.js: min/max-width media query polyfill. (c) Scott Jehl. MIT Lic. j.mp/respondjs  */
(function( w ){

"use strict";

//exposed namespace
var respond = {};
w.respond = respond;

//define update even in native-mq-supporting browsers, to avoid errors
respond.update = function(){};

//define ajax obj
var requestQueue = [],
xmlHttp = (function() {
var xmlhttpmethod = false;
try {
xmlhttpmethod = new w.XMLHttpRequest();
}
catch( e ){
xmlhttpmethod = new w.ActiveXObject( "Microsoft.XMLHTTP" );
}
return function(){
return xmlhttpmethod;
};
})(),

//tweaked Ajax functions from Quirksmode
ajax = function( url, callback ) {
var req = xmlHttp();
if (!req){
return;
}
req.open( "GET", url, true );
req.onreadystatechange = function () {
if ( req.readyState !== 4 || req.status !== 200 && req.status !== 304 ){
return;
}
callback( req.responseText );
};
if ( req.readyState === 4 ){
return;
}
req.send( null );
},
isUnsupportedMediaQuery = function( query ) {
return query.replace( respond.regex.minmaxwh, '' ).match( respond.regex.other );
};

//expose for testing
respond.ajax = ajax;
respond.queue = requestQueue;
respond.unsupportedmq = isUnsupportedMediaQuery;
respond.regex = {
media: /@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,
keyframes: /@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,
comments: /\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,
urls: /(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,
only:/(only\s+)?([a-zA-Z]+)\s?/,
minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,
maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,
minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,
other:/\([^\)]*\)/g
};respond.mediaQueriesSupported =w.matchMedia &&w.matchMedia("only all") !==null &&w.matchMedia("only all").matches;if(respond.mediaQueriesSupported ){return;}
var doc =w.document,docElem =doc.documentElement,mediastyles =[],rules =[],appendedEls =[],parsedSheets ={},resizeThrottle =30,head =doc.getElementsByTagName("head")[0] ||docElem,base =doc.getElementsByTagName("base")[0],links =head.getElementsByTagName("link"),lastCall,resizeDefer,eminpx,getEmValue =function() {var ret,div =doc.createElement('div'),body =doc.body,originalHTMLFontSize =docElem.style.fontSize,originalBodyFontSize =body &&body.style.fontSize,fakeUsed =false;div.style.cssText ="position:absolute;font-size:1em;width:1em";if(!body ){body =fakeUsed =doc.createElement("body");body.style.background ="none";}
docElem.style.fontSize ="100%";body.style.fontSize ="100%";body.appendChild(div );if(fakeUsed ){docElem.insertBefore(body,docElem.firstChild );}
ret =div.offsetWidth;if(fakeUsed ){docElem.removeChild(body );}
else {body.removeChild(div );}
docElem.style.fontSize =originalHTMLFontSize;if(originalBodyFontSize ) {body.style.fontSize =originalBodyFontSize;}
ret =eminpx =parseFloat(ret);return ret;},applyMedia =function(fromResize ){var name ="clientWidth",docElemProp =docElem[name ],currWidth =doc.compatMode ==="CSS1Compat"&&docElemProp ||doc.body[name ] ||docElemProp,styleBlocks={},lastLink =links[links.length-1 ],now =(new Date()).getTime();if(fromResize &&lastCall &&now - lastCall < resizeThrottle ){w.clearTimeout(resizeDefer );resizeDefer =w.setTimeout(applyMedia,resizeThrottle );return;}
else {lastCall =now;}
for(var i in mediastyles ){if(mediastyles.hasOwnProperty(i ) ){var thisstyle =mediastyles[i ],min =thisstyle.minw,max =thisstyle.maxw,minnull =min ===null,maxnull =max ===null,em ="em";if(!!min ){min =parseFloat(min ) * (min.indexOf(em ) > -1 ?(eminpx ||getEmValue() ) :1 );}
if(!!max ){max =parseFloat(max ) * (max.indexOf(em ) > -1 ?(eminpx ||getEmValue() ) :1 );}
if(!thisstyle.hasquery ||(!minnull ||!maxnull ) &&(minnull ||currWidth >=min ) &&(maxnull ||currWidth <=max ) ){if(!styleBlocks[thisstyle.media ] ){styleBlocks[thisstyle.media ] =[];}
styleBlocks[thisstyle.media ].push(rules[thisstyle.rules ] );}
}
}
for(var j in appendedEls ){if(appendedEls.hasOwnProperty(j ) ){if(appendedEls[j ] &&appendedEls[j ].parentNode ===head ){head.removeChild(appendedEls[j ] );}
}
}
appendedEls.length =0;for(var k in styleBlocks ){if(styleBlocks.hasOwnProperty(k ) ){var ss =doc.createElement("style"),css =styleBlocks[k ].join("\n");ss.type ="text/css";ss.media =k;head.insertBefore(ss,lastLink.nextSibling );if (ss.styleSheet ){ss.styleSheet.cssText =css;}
else {ss.appendChild(doc.createTextNode(css ) );}
appendedEls.push(ss );}
}
},translate =function(styles,href,media ){var qs =styles.replace(respond.regex.comments,'')
.replace(respond.regex.keyframes,'')
.match(respond.regex.media ),ql =qs &&qs.length ||0;href =href.substring(0,href.lastIndexOf("/") );var repUrls =function(css ){return css.replace(respond.regex.urls,"$1"+ href + "$2$3");},useMedia =!ql &&media;if(href.length ){href +="/";}
if(useMedia ){ql =1;}
for(var i =0;i < ql;i++ ){var fullq,thisq,eachq,eql;if(useMedia ){fullq =media;rules.push(repUrls(styles ) );}
else{fullq =qs[i ].match(respond.regex.findStyles ) &&RegExp.$1;rules.push(RegExp.$2 &&repUrls(RegExp.$2 ) );}
eachq =fullq.split(",");eql =eachq.length;for(var j =0;j < eql;j++ ){thisq =eachq[j ];if(isUnsupportedMediaQuery(thisq ) ) {continue;}
mediastyles.push({media :thisq.split("(")[0 ].match(respond.regex.only ) &&RegExp.$2 ||"all",rules :rules.length - 1,hasquery :thisq.indexOf("(") > -1,minw :thisq.match(respond.regex.minw ) &&parseFloat(RegExp.$1 ) + (RegExp.$2 ||""),maxw :thisq.match(respond.regex.maxw ) &&parseFloat(RegExp.$1 ) + (RegExp.$2 ||"")
} );}
}
applyMedia();},makeRequests =function(){if(requestQueue.length ){var thisRequest =requestQueue.shift();ajax(thisRequest.href,function(styles ){translate(styles,thisRequest.href,thisRequest.media );parsedSheets[thisRequest.href ] =true;w.setTimeout(function(){makeRequests();},0);} );}
},ripCSS =function(){for(var i =0;i < links.length;i++ ){var sheet =links[i ],href =sheet.href,media =sheet.media,isCSS =sheet.rel &&sheet.rel.toLowerCase() ==="stylesheet";if(!!href &&isCSS &&!parsedSheets[href ] ){if (sheet.styleSheet &&sheet.styleSheet.rawCssText) {translate(sheet.styleSheet.rawCssText,href,media );parsedSheets[href ] =true;} else {if((!/^([a-zA-Z:]*\/\/)/.test( href ) && !base) ||
href.replace(RegExp.$1,"").split("/")[0] ===w.location.host ){if (href.substring(0,2) ==="//") {href =w.location.protocol + href;}
requestQueue.push({href:href,media:media
} );}
}
}
}
makeRequests();};ripCSS();respond.update =ripCSS;respond.getEmValue =getEmValue;function callMedia(){applyMedia(true );}
if(w.addEventListener ){w.addEventListener("resize",callMedia,false );}
else if(w.attachEvent ){w.attachEvent("onresize",callMedia );}
})(this);var Tabs ={init:function() {this.bindUIfunctions();this.setMobileTitle();this.toggleFilter();},toggleFilter :function () {$('.tab-content .sidebar .selectboxit').click(function(event) {$(this).closest('.facettensuche-module').toggleClass('closed');});if(window.innerWidth < 768)
{$(this).closest('.facettensuche-module').addClass('closed');}
},bindUIfunctions:function() {$(document)
 .on("click",".transformer-tabs a[href^='#']",function(event) {Tabs.changeTab($(this));event.preventDefault();})
.on("click",".active-tab",function(event) {Tabs.toggleMobileMenu(event,$(this));event.preventDefault();});},changeTab:function(el) {var hash =el.attr('href');var anchor =$(".list [href="+ hash + "]");var div =el.closest(".tabs-wrap").find(hash);el.addClass("active").parent().siblings().find("a").removeClass("active");div.addClass("active").siblings().removeClass("active");el.closest(".transformer-tabs").find(".selectboxit-text").html(anchor.html());el.closest(".transformer-tabs").removeClass("open");},toggleMobileMenu:function(event,el) {el.closest(".transformer-tabs").toggleClass("open");},setMobileTitle:function (event,el) {$(".transformer-tabs .selectboxit-text").html($(".transformer-tabs a.active").html());}
}
$(document).ready(function() {Tabs.init();});(function(jQuery){jQuery.fn.customCheckbox =function(_options){var _options =jQuery.extend({checkboxStructure:'<div></div>',checkboxDisabled:'disabled',checkboxDefault:'checkboxArea',checkboxChecked:'icon-check35'},_options);return this.each(function(){var checkbox =jQuery(this);if(!checkbox.hasClass('outtaHere') &&checkbox.is(':checkbox')){var replaced =jQuery(_options.checkboxStructure);this._replaced =replaced;if(checkbox.is(':disabled')) {replaced.addClass(_options.checkboxDisabled);}
else if(checkbox.prop('checked')) {replaced.addClass(_options.checkboxChecked);}
else {replaced.addClass(_options.checkboxDefault);}
replaced.click(function(){if(checkbox.prop('checked')) {checkbox.removeAttr('checked');}else{checkbox.prop('checked','checked');}
changeCheckbox(checkbox);});checkbox.click(function(){changeReplaced(checkbox);});replaced.insertBefore(checkbox);checkbox.addClass('outtaHere');}
});function changeCheckbox(_this){_this.change();if(_this.prop('checked')){_this.get(0)._replaced.removeClass(_options.checkboxDefault).addClass(_options.checkboxChecked);}else{_this.get(0)._replaced.removeClass(_options.checkboxChecked).addClass(_options.checkboxDefault);}
}
function changeReplaced(_this){if(_this.prop('checked')){_this.get(0)._replaced.removeClass(_options.checkboxDefault).addClass(_options.checkboxChecked);}else{_this.get(0)._replaced.removeClass(_options.checkboxChecked).addClass(_options.checkboxDefault);}
}
}
jQuery.fn.customRadio =function(_options){var _options =jQuery.extend({radioStructure:'<div></div>',radioDisabled:'disabled',radioDefault:'radioArea',radioChecked:'radioAreaChecked'},_options);return this.each(function(){var radio =jQuery(this);if(!radio.hasClass('outtaHere') &&radio.is(':radio')){var replaced =jQuery(_options.radioStructure);this._replaced =replaced;if(radio.is(':disabled')) replaced.addClass(_options.radioDisabled);else if(radio.prop('checked')) replaced.addClass(_options.radioChecked);else replaced.addClass(_options.radioDefault);replaced.click(function(){if($(this).hasClass(_options.radioDefault)){radio.prop('checked','checked');changeRadio(radio.get(0));}
});radio.click(function(){changeRadio(this);});replaced.insertBefore(radio);radio.addClass('outtaHere');}
});function changeRadio(_this){$(_this).change();$('input:radio[name="'+$(_this).attr("name")+'"]').not(_this).each(function(){if(this._replaced &&!$(this).is(':disabled')) this._replaced.removeClass(_options.radioChecked).addClass(_options.radioDefault);});_this._replaced.removeClass(_options.radioDefault).addClass(_options.radioChecked);}
}
jQuery.fn.customSelect =function(_options) {var _options =jQuery.extend({selectStructure:'<div class="selectArea"><span class="left"></span><span class="center"></span><a href="#" class="selectButton"></a><div class="disabled"></div></div>',hideOnMouseOut:false,copyClass:true,selectText:'.center',selectBtn:'.selectButton',selectDisabled:'.disabled',optStructure:'<div class="optionsDivVisible"><div class="select-top"></div><div class="select-center"><ul></ul><div class="select-bottom"></div></div>',optList:'ul'},_options);return this.each(function() {var select =jQuery(this);if(!select.hasClass('outtaHere')) {if(select.is(':visible')) {var hideOnMouseOut =_options.hideOnMouseOut;var copyClass =_options.copyClass;var replaced =jQuery(_options.selectStructure);var selectText =replaced.find(_options.selectText);var selectBtn =replaced.find(_options.selectBtn);var selectDisabled =replaced.find(_options.selectDisabled).hide();var optHolder =jQuery(_options.optStructure);var optList =optHolder.find(_options.optList);if(copyClass) optHolder.addClass('drop-'+select.attr('class'));if(select.attr('disabled')) selectDisabled.show();select.find('option').each(function(){var selOpt =$(this);var _opt =jQuery('<li><a href="#">'+ selOpt.html() + '</a></li>');if(selOpt.prop('selected')) {selectText.html(selOpt.html());_opt.addClass('selected');}
_opt.children('a').click(function() {optList.find('li').removeClass('selected');select.find('option').removeAttr('selected');$(this).parent().addClass('selected');selOpt.attr('selected','selected');selectText.html(selOpt.html());select.change();optHolder.hide();return false;});optList.append(_opt);});replaced.width(select.outerWidth());replaced.insertBefore(select);optHolder.css({width:select.outerWidth(),display:'none',position:'absolute'});jQuery(document.body).append(optHolder);var optTimer;replaced.hover(function() {if(optTimer) clearTimeout(optTimer);},function() {if(hideOnMouseOut) {optTimer =setTimeout(function() {optHolder.hide();},200);}
});optHolder.hover(function(){if(optTimer) clearTimeout(optTimer);},function() {if(hideOnMouseOut) {optTimer =setTimeout(function() {optHolder.hide();},200);}
});selectBtn.click(function() {if(optHolder.is(':visible')) {optHolder.hide();}
else{if(_activeDrop) _activeDrop.hide();optHolder.children('ul').css({height:'auto',overflow:'hidden'});optHolder.css({top:replaced.offset().top + replaced.outerHeight(),left:replaced.offset().left,display:'block'});if(optHolder.children('ul').height() > 200) optHolder.children('ul').css({height:200,overflow:'auto'});_activeDrop =optHolder;}
return false;});replaced.addClass(select.attr('class'));select.addClass('outtaHere');}
}
});}
jQuery.fn.customFile =function(options){var options =jQuery.extend({btnText:"Upload",defaultText:"",fullActive:true
},options);return this.each(function(){var jsEl =this;var jqEl =$(this);var fileField =$('<div class="cstFileField"><div class="cstFileTxt">'+options.defaultText
+'</div><div class="cstFileBtn">'+options.btnText+'</div></div>');var fileBtn =fileField.children('.cstFileBtn');var fileTxt =fileField.children('.cstFileTxt');var ie =$.browser.msie;if (!jqEl.hasClass('outtaHere')) {jqEl.after(fileField);if (!ie) {jqEl.addClass('outtaHere');fileBtn.unbind('click').click(function(){jqEl.trigger('click');});}
else {ieAction();}
if (options.fullActive) {fileTxt.unbind('click').click(function(){jqEl.trigger('click');});}
if (!ie) jqEl.change(function(){changeHandler(this)});else jsEl.attachEvent('onpropertychange',function() {changeHandler(this)});function changeHandler(el) {var thisEl =$(el);var splitArr =jqEl.val().split('\\');fileName =splitArr[splitArr.length - 1];trimLine(fileTxt,fileName);}
function ieAction() {var inputSize =50;jqEl.css({'width':inputSize,'height':inputSize,'position':'absolute','left':0,'top':0,'zIndex':1000,'opacity':0,'outline':'none'});var inputLeft =jqEl.offset().left;var inputTop =jqEl.offset().top;jqEl.hide();var btnLeft =fileBtn.offset().left;var btnTop =fileBtn.offset().top;var btnHeight =fileBtn.outerHeight()
var btnWidth =fileBtn.outerWidth();var txtLeft =fileTxt.offset().left;var txtTop =fileTxt.offset().top;var txtHeight =fileTxt.outerHeight()
var txtWidth =fileTxt.outerWidth();$(document).mousemove(function(e){if (e.pageX > btnLeft &&e.pageX < btnLeft + btnWidth &&e.pageY > btnTop &&e.pageY < btnTop + btnHeight) {showInput(e.pageX,e.pageY);}
else if (options.fullActive &&e.pageX > txtLeft &&e.pageX < txtLeft + txtWidth &&e.pageY > txtTop &&e.pageY < txtTop + txtHeight) {showInput(e.pageX,e.pageY);}
else {jqEl.hide();}
});function showInput(x,y) {jqEl.css({'left':x - inputSize / 2 - inputLeft,'top':y - inputSize / 2 - inputTop
})
.show();}
}
function trimLine(el,str) {var trimSpan =$('<span style="position:absolute; zoom:1; white-space:nowrap;"></span>');el.html(trimSpan);var defWidth =el.width();var newStr ="";for (var i =0;i < str.length;i++) {trimSpan.append(str.charAt(i));newStr +=str.charAt(i);if(trimSpan.width() > defWidth) {el.html(newStr.slice(0,newStr.length - 3) + "..");break;}
}
el.html(el.text());}
}
});}
var _activeDrop;jQuery(function(){jQuery('body').click(hideOptionsClick)
jQuery(window).resize(hideOptions)
});function hideOptions() {if(_activeDrop &&_activeDrop.length) {_activeDrop.hide();_activeDrop =null;}
}
function hideOptionsClick(e) {if(_activeDrop &&_activeDrop.length) {var f =false;$(e.target).parents().each(function(){if(this ==_activeDrop) f=true;});if(!f) {_activeDrop.hide();_activeDrop =null;}
}
}
})(jQuery);var token =$("meta[name='_csrf']").attr("content");$.ajaxSetup({headers:{'CSRFToken':token
 }
});function InfoBox(opt_opts) {opt_opts =opt_opts ||{};google.maps.OverlayView.apply(this,arguments);this.content_ =opt_opts.content ||"";this.disableAutoPan_ =opt_opts.disableAutoPan ||false;this.maxWidth_ =opt_opts.maxWidth ||0;this.pixelOffset_ =opt_opts.pixelOffset ||new google.maps.Size(0,0);this.position_ =opt_opts.position ||new google.maps.LatLng(0,0);this.zIndex_ =opt_opts.zIndex ||null;this.boxClass_ =opt_opts.boxClass ||"infoBox";this.boxStyle_ =opt_opts.boxStyle ||{};this.closeBoxMargin_ =opt_opts.closeBoxMargin ||"2px";this.closeBoxURL_ =opt_opts.closeBoxURL ||"http://www.google.com/intl/en_us/mapfiles/close.gif";if (opt_opts.closeBoxURL ==="") {this.closeBoxURL_ ="";}
 this.infoBoxClearance_ =opt_opts.infoBoxClearance ||new google.maps.Size(1,1);if (typeof opt_opts.visible ==="undefined") {if (typeof opt_opts.isHidden ==="undefined") {opt_opts.visible =true;} else {opt_opts.visible =!opt_opts.isHidden;}
 }
 this.isHidden_ =!opt_opts.visible;this.alignBottom_ =opt_opts.alignBottom ||false;this.pane_ =opt_opts.pane ||"floatPane";this.enableEventPropagation_ =opt_opts.enableEventPropagation ||false;this.div_ =null;this.closeListener_ =null;this.moveListener_ =null;this.contextListener_ =null;this.eventListeners_ =null;this.fixedWidthSet_ =null;}
InfoBox.prototype =new google.maps.OverlayView();InfoBox.prototype.createInfoBoxDiv_ =function () {var i;var events;var bw;var me =this;var cancelHandler =function (e) {e.cancelBubble =true;if (e.stopPropagation) {e.stopPropagation();}
 };var ignoreHandler =function (e) {e.returnValue =false;if (e.preventDefault) {e.preventDefault();}
 if (!me.enableEventPropagation_) {cancelHandler(e);}
 };if (!this.div_) {this.div_ =document.createElement("div");this.setBoxStyle_();if (typeof this.content_.nodeType ==="undefined") {this.div_.innerHTML =this.getCloseBoxImg_() + this.content_;} else {this.div_.innerHTML =this.getCloseBoxImg_();this.div_.appendChild(this.content_);}
 this.getPanes()[this.pane_].appendChild(this.div_);this.addClickHandler_();if (this.div_.style.width) {this.fixedWidthSet_ =true;} else {if (this.maxWidth_ !==0 &&this.div_.offsetWidth > this.maxWidth_) {this.div_.style.width =this.maxWidth_;this.div_.style.overflow ="auto";this.fixedWidthSet_ =true;} else {bw =this.getBoxWidths_();this.div_.style.width =(this.div_.offsetWidth - bw.left - bw.right) + "px";this.fixedWidthSet_ =false;}
 }
 this.panBox_(this.disableAutoPan_);if (!this.enableEventPropagation_) {this.eventListeners_ =[];events =["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];for (i =0;i < events.length;i++) {this.eventListeners_.push(google.maps.event.addDomListener(this.div_,events[i],cancelHandler));}
 this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function (e) {this.style.cursor ="default";}));}
 this.contextListener_ =google.maps.event.addDomListener(this.div_,"contextmenu",ignoreHandler);google.maps.event.trigger(this,"domready");}
};InfoBox.prototype.getCloseBoxImg_ =function () {var img ="";if (this.closeBoxURL_ !=="") {img ="<img";img +=" src='"+ this.closeBoxURL_ + "'";img +=" align=right";img +=" style='";img +=" position: relative;";img +=" cursor: pointer;";img +=" margin: "+ this.closeBoxMargin_ + ";";img +="'>";}
 return img;};InfoBox.prototype.addClickHandler_ =function () {var closeBox;if (this.closeBoxURL_ !=="") {closeBox =this.div_.firstChild;this.closeListener_ =google.maps.event.addDomListener(closeBox,"click",this.getCloseClickHandler_());} else {this.closeListener_ =null;}
};InfoBox.prototype.getCloseClickHandler_ =function () {var me =this;return function (e) {e.cancelBubble =true;if (e.stopPropagation) {e.stopPropagation();}
 google.maps.event.trigger(me,"closeclick");me.close();};};InfoBox.prototype.panBox_ =function (disablePan) {var map;var bounds;var xOffset =0,yOffset =0;if (!disablePan) {map =this.getMap();if (map instanceof google.maps.Map) {if (!map.getBounds().contains(this.position_)) {map.setCenter(this.position_);}
 bounds =map.getBounds();var mapDiv =map.getDiv();var mapWidth =mapDiv.offsetWidth;var mapHeight =mapDiv.offsetHeight;var iwOffsetX =this.pixelOffset_.width;var iwOffsetY =this.pixelOffset_.height;var iwWidth =this.div_.offsetWidth;var iwHeight =this.div_.offsetHeight;var padX =this.infoBoxClearance_.width;var padY =this.infoBoxClearance_.height;var pixPosition =this.getProjection().fromLatLngToContainerPixel(this.position_);if (pixPosition.x < (-iwOffsetX + padX)) {xOffset =pixPosition.x + iwOffsetX - padX;} else if ((pixPosition.x + iwWidth + iwOffsetX + padX) > mapWidth) {xOffset =pixPosition.x + iwWidth + iwOffsetX + padX - mapWidth;}
 if (this.alignBottom_) {if (pixPosition.y < (-iwOffsetY + padY + iwHeight)) {yOffset =pixPosition.y + iwOffsetY - padY - iwHeight;} else if ((pixPosition.y + iwOffsetY + padY) > mapHeight) {yOffset =pixPosition.y + iwOffsetY + padY - mapHeight;}
 } else {if (pixPosition.y < (-iwOffsetY + padY)) {yOffset =pixPosition.y + iwOffsetY - padY;} else if ((pixPosition.y + iwHeight + iwOffsetY + padY) > mapHeight) {yOffset =pixPosition.y + iwHeight + iwOffsetY + padY - mapHeight;}
 }
 if (!(xOffset ===0 &&yOffset ===0)) {var c =map.getCenter();map.panBy(xOffset,yOffset);}
 }
 }
};InfoBox.prototype.setBoxStyle_ =function () {var i,boxStyle;if (this.div_) {this.div_.className =this.boxClass_;this.div_.style.cssText ="";boxStyle =this.boxStyle_;for (i in boxStyle) {if (boxStyle.hasOwnProperty(i)) {this.div_.style[i] =boxStyle[i];}
 }
 this.div_.style.WebkitTransform ="translateZ(0)";if (typeof this.div_.style.opacity !=="undefined"&&this.div_.style.opacity !=="") {this.div_.style.MsFilter ="\"progid:DXImageTransform.Microsoft.Alpha(Opacity=" + (this.div_.style.opacity * 100) + ")\"";this.div_.style.filter ="alpha(opacity="+ (this.div_.style.opacity * 100) + ")";}
 this.div_.style.position ="absolute";this.div_.style.visibility ='hidden';if (this.zIndex_ !==null) {this.div_.style.zIndex =this.zIndex_;}
 }
};InfoBox.prototype.getBoxWidths_ =function () {var computedStyle;var bw ={top:0,bottom:0,left:0,right:0};var box =this.div_;if (document.defaultView &&document.defaultView.getComputedStyle) {computedStyle =box.ownerDocument.defaultView.getComputedStyle(box,"");if (computedStyle) {bw.top =parseInt(computedStyle.borderTopWidth,10) ||0;bw.bottom =parseInt(computedStyle.borderBottomWidth,10) ||0;bw.left =parseInt(computedStyle.borderLeftWidth,10) ||0;bw.right =parseInt(computedStyle.borderRightWidth,10) ||0;}
 } else if (document.documentElement.currentStyle) {if (box.currentStyle) {bw.top =parseInt(box.currentStyle.borderTopWidth,10) ||0;bw.bottom =parseInt(box.currentStyle.borderBottomWidth,10) ||0;bw.left =parseInt(box.currentStyle.borderLeftWidth,10) ||0;bw.right =parseInt(box.currentStyle.borderRightWidth,10) ||0;}
 }
 return bw;};InfoBox.prototype.onRemove =function () {if (this.div_) {this.div_.parentNode.removeChild(this.div_);this.div_ =null;}
};InfoBox.prototype.draw =function () {this.createInfoBoxDiv_();var pixPosition =this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left =(pixPosition.x + this.pixelOffset_.width) + "px";if (this.alignBottom_) {this.div_.style.bottom =-(pixPosition.y + this.pixelOffset_.height) + "px";} else {this.div_.style.top =(pixPosition.y + this.pixelOffset_.height) + "px";}
 if (this.isHidden_) {this.div_.style.visibility ="hidden";} else {this.div_.style.visibility ="visible";}
};InfoBox.prototype.setOptions =function (opt_opts) {if (typeof opt_opts.boxClass !=="undefined") {this.boxClass_ =opt_opts.boxClass;this.setBoxStyle_();}
 if (typeof opt_opts.boxStyle !=="undefined") {this.boxStyle_ =opt_opts.boxStyle;this.setBoxStyle_();}
 if (typeof opt_opts.content !=="undefined") {this.setContent(opt_opts.content);}
 if (typeof opt_opts.disableAutoPan !=="undefined") {this.disableAutoPan_ =opt_opts.disableAutoPan;}
 if (typeof opt_opts.maxWidth !=="undefined") {this.maxWidth_ =opt_opts.maxWidth;}
 if (typeof opt_opts.pixelOffset !=="undefined") {this.pixelOffset_ =opt_opts.pixelOffset;}
 if (typeof opt_opts.alignBottom !=="undefined") {this.alignBottom_ =opt_opts.alignBottom;}
 if (typeof opt_opts.position !=="undefined") {this.setPosition(opt_opts.position);}
 if (typeof opt_opts.zIndex !=="undefined") {this.setZIndex(opt_opts.zIndex);}
 if (typeof opt_opts.closeBoxMargin !=="undefined") {this.closeBoxMargin_ =opt_opts.closeBoxMargin;}
 if (typeof opt_opts.closeBoxURL !=="undefined") {this.closeBoxURL_ =opt_opts.closeBoxURL;}
 if (typeof opt_opts.infoBoxClearance !=="undefined") {this.infoBoxClearance_ =opt_opts.infoBoxClearance;}
 if (typeof opt_opts.isHidden !=="undefined") {this.isHidden_ =opt_opts.isHidden;}
 if (typeof opt_opts.visible !=="undefined") {this.isHidden_ =!opt_opts.visible;}
 if (typeof opt_opts.enableEventPropagation !=="undefined") {this.enableEventPropagation_ =opt_opts.enableEventPropagation;}
 if (this.div_) {this.draw();}
};InfoBox.prototype.setContent =function (content) {this.content_ =content;if (this.div_) {if (this.closeListener_) {google.maps.event.removeListener(this.closeListener_);this.closeListener_ =null;}
 if (!this.fixedWidthSet_) {this.div_.style.width ="";}
 if (typeof content.nodeType ==="undefined") {this.div_.innerHTML =this.getCloseBoxImg_() + content;} else {this.div_.innerHTML =this.getCloseBoxImg_();this.div_.appendChild(content);}
 if (!this.fixedWidthSet_) {this.div_.style.width =this.div_.offsetWidth + "px";if (typeof content.nodeType ==="undefined") {this.div_.innerHTML =this.getCloseBoxImg_() + content;} else {this.div_.innerHTML =this.getCloseBoxImg_();this.div_.appendChild(content);}
 }
 this.addClickHandler_();}
 google.maps.event.trigger(this,"content_changed");};InfoBox.prototype.setPosition =function (latlng) {this.position_ =latlng;if (this.div_) {this.draw();}
 google.maps.event.trigger(this,"position_changed");};InfoBox.prototype.setZIndex =function (index) {this.zIndex_ =index;if (this.div_) {this.div_.style.zIndex =index;}
 google.maps.event.trigger(this,"zindex_changed");};InfoBox.prototype.setVisible =function (isVisible) {this.isHidden_ =!isVisible;if (this.div_) {this.div_.style.visibility =(this.isHidden_ ?"hidden":"visible");}
};InfoBox.prototype.getContent =function () {return this.content_;};InfoBox.prototype.getPosition =function () {return this.position_;};InfoBox.prototype.getZIndex =function () {return this.zIndex_;};InfoBox.prototype.getVisible =function () {var isVisible;if ((typeof this.getMap() ==="undefined") ||(this.getMap() ===null)) {isVisible =false;} else {isVisible =!this.isHidden_;}
 return isVisible;};InfoBox.prototype.show =function () {this.isHidden_ =false;if (this.div_) {this.div_.style.visibility ="visible";}
};InfoBox.prototype.hide =function () {this.isHidden_ =true;if (this.div_) {this.div_.style.visibility ="hidden";}
};InfoBox.prototype.open =function (map,anchor) {var me =this;if (anchor) {this.position_ =anchor.getPosition();this.moveListener_ =google.maps.event.addListener(anchor,"position_changed",function () {me.setPosition(this.getPosition());});}
 this.setMap(map);if (this.div_) {this.panBox_();}
};InfoBox.prototype.close =function () {var i;if (this.closeListener_) {google.maps.event.removeListener(this.closeListener_);this.closeListener_ =null;}
 if (this.eventListeners_) {for (i =0;i < this.eventListeners_.length;i++) {google.maps.event.removeListener(this.eventListeners_[i]);}
 this.eventListeners_ =null;}
 if (this.moveListener_) {google.maps.event.removeListener(this.moveListener_);this.moveListener_ =null;}
 if (this.contextListener_) {google.maps.event.removeListener(this.contextListener_);this.contextListener_ =null;}
 this.setMap(null);};(function($) {function CircleProgress(config) {this.init(config);}
 CircleProgress.prototype ={value:0.0,size:100.0,startAngle:-Math.PI,thickness:'auto',fill:{gradient:['#3aeabb','#fdd250']
 },emptyFill:'rgba(0, 0, 0, .1)',animation:{duration:1200,easing:'circleProgressEasing'},animationStartValue:0.0,reverse:false,constructor:CircleProgress,el:null,canvas:null,ctx:null,radius:0.0,arcFill:null,lastFrameValue:0.0,init:function(config) {$.extend(this,config);this.radius =this.size / 2;this.initWidget();this.initFill();this.draw();},initWidget:function() {var canvas =this.canvas =this.canvas ||$('<canvas>').prependTo(this.el)[0];canvas.width =this.size;canvas.height =this.size;this.ctx =canvas.getContext('2d');},initFill:function() {var self =this,fill =this.fill,ctx =this.ctx,size =this.size;if (!fill)
 throw Error("The fill is not specified!");if (fill.color)
 this.arcFill =fill.color;if (fill.gradient) {var gr =fill.gradient;if (gr.length ==1) {this.arcFill =gr[0];} else if (gr.length > 1) {var lg =ctx.createLinearGradient(0,23,size,92);for (var i =0;i < gr.length;i++)
 lg.addColorStop(i / (gr.length - 1),gr[i]);this.arcFill =lg;}
 }
 if (fill.image) {var img;if (fill.image instanceof Image) {img =fill.image;} else {img =new Image();img.src =fill.image;}
 if (img.complete)
 setImageFill();else
 img.onload =setImageFill;}
 function setImageFill() {var bg =$('<canvas>')[0];bg.width =self.size;bg.height =self.size;bg.getContext('2d').drawImage(img,0,0,size,size);self.arcFill =self.ctx.createPattern(bg,'no-repeat');self.drawFrame(self.lastFrameValue);}
 },draw:function() {if (this.animation)
 this.drawAnimated(this.value);else
 this.drawFrame(this.value);},drawFrame:function(v) {this.lastFrameValue =v;this.ctx.clearRect(0,0,this.size,this.size);this.drawArc(v);this.drawEmptyArc(v);},drawArc:function(v) {var ctx =this.ctx,r =this.radius,t =this.getThickness(),a =this.startAngle;ctx.save();ctx.beginPath();if (!this.reverse) {ctx.arc(r,r,r - t / 2,a,a + Math.PI * 2 * v);} else {ctx.arc(r,r,r - t / 2,a - Math.PI * 2 * v,a);}
 ctx.lineWidth =t;ctx.strokeStyle =this.arcFill;ctx.stroke();ctx.restore();},drawEmptyArc:function(v) {var ctx =this.ctx,r =this.radius,t =this.getThickness(),a =this.startAngle;if (v < 1) {ctx.save();ctx.beginPath();if (v <=0) {ctx.arc(r,r,r - t / 2,0,Math.PI * 2);} else {if (!this.reverse) {ctx.arc(r,r,r - t / 2,a + Math.PI * 2 * v,a);} else {ctx.arc(r,r,r - t / 2,a,a - Math.PI * 2 * v);}
 }
 ctx.lineWidth =t;ctx.strokeStyle =this.emptyFill;ctx.stroke();ctx.restore();}
 },drawAnimated:function(v) {var self =this,el =this.el;el.trigger('circle-animation-start');$(this.canvas)
 .stop(true,true)
 .css({animationProgress:0 })
 .animate({animationProgress:1 },$.extend({},this.animation,{step:function(animationProgress) {var stepValue =self.animationStartValue * (1 - animationProgress) + v * animationProgress;self.drawFrame(stepValue);el.trigger('circle-animation-progress',[animationProgress,stepValue]);},complete:function() {el.trigger('circle-animation-end');}
 }));},getThickness:function() {return $.isNumeric(this.thickness) ?this.thickness :this.size / 14;}
 };$.circleProgress ={defaults:CircleProgress.prototype
 };$.easing.circleProgressEasing =function(x,t,b,c,d) {if ((t /= d / 2) < 1)
 return c / 2 * t * t * t + b;return c / 2 * ((t -=2) * t * t + 2) + b;};$.fn.circleProgress =function(config) {var dataName ='circle-progress';if (config =='widget') {var data =this.data(dataName);return data &&data.canvas;}
 return this.each(function() {var el =$(this),instance =el.data(dataName),cfg =$.isPlainObject(config) ?config :{};if (instance) {instance.init(cfg);} else {cfg.el =el;instance =new CircleProgress(cfg);el.data(dataName,instance);}
 });};})(jQuery);;(function ($,undefined) {"use strict";var defaults ={item:3,autoWidth:false,slideMove:1,slideMargin:10,addClass:'',mode:"slide",useCSS:true,cssEasing:'ease',easing:'linear',speed:400,auto:false,loop:false,slideEndAnimatoin:true,pause:2000,keyPress:false,controls:true,prevHtml:'',nextHtml:'',rtl:false,adaptiveHeight:false,vertical:false,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:true,gallery:false,galleryMargin:5,thumbMargin:5,currentPagerPosition:'middle',enableTouch:true,enableDrag:true,freeMove:true,swipeThreshold:40,responsive:[],onBeforeStart:function ($el) {},onSliderLoad:function ($el) {},onBeforeSlide:function ($el,scene) {},onAfterSlide:function ($el,scene) {},onBeforeNextSlide:function ($el,scene) {},onBeforePrevSlide:function ($el,scene) {}
 };$.fn.lightSlider =function (options) {if (this.length ===0) {return this;}
 if (this.length > 1) {this.each(function () {$(this).lightSlider(options);});return this;}
 var plugin ={},settings =$.extend(true,{},defaults,options),settingsTemp ={},$el =this;plugin.$el =this;if (settings.mode ==='fade') {settings.vertical =false;}
 var $children =$el.children(),windowW =$(window).width(),breakpoint =null,resposiveObj =null,length =0,w =0,on =false,elSize =0,$slide ='',scene =0,property =(settings.vertical ===true) ?"height":"width",gutter =(settings.vertical ===true) ?"margin-bottom":"margin-right",slideValue =0,pagerWidth =0,slideWidth =0,thumbWidth =0,interval =null,isTouch =('ontouchstart'in document.documentElement);var refresh =new Object();refresh.chbreakpoint =function () {windowW =$(window).width();if (settings.responsive.length) {if (settings.autoWidth ===false) {var item =settings.item;}
 if (windowW < settings.responsive[0].breakpoint) {for (var i =0;i < settings.responsive.length;i++) {if (windowW < settings.responsive[i].breakpoint) {breakpoint =settings.responsive[i].breakpoint;resposiveObj =settings.responsive[i];}
 }
 }
 if (typeof resposiveObj !=="undefined"&&resposiveObj !=null) {for (i in resposiveObj.settings) {if (typeof settingsTemp[i] =="undefined"||settingsTemp[i] ==null) {settingsTemp[i] =settings[i];}
 settings[i] =resposiveObj.settings[i];}
 }
 if (!$.isEmptyObject(settingsTemp) &&windowW > settings.responsive[0].breakpoint) {for (i in settingsTemp) {settings[i] =settingsTemp[i];}
 }
 if (settings.autoWidth ===false) {if (slideValue > 0 &&slideWidth > 0) {if (item !==settings.item) {scene =Math.round(slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove));}
 }
 }
 }
 };refresh.calSW =function () {if (settings.autoWidth ===false) {slideWidth =(elSize - ((settings.item * (settings.slideMargin)) - settings.slideMargin)) / settings.item;}
 };refresh.calWidth =function (cln) {var ln =cln ===true ?$slide.find('.lslide').length :$children.length;if (settings.autoWidth ===false) {w =ln * (slideWidth + settings.slideMargin);} else {w =0;for (var i =0;i < ln;i++) {w +=(parseInt($children.eq(i).width()) + settings.slideMargin);}
 }
 if (w % 1 !==0) {w =w + 1;}
 return w;};plugin ={doCss:function () {var support =function () {var transition =['transition','MozTransition','WebkitTransition','OTransition','msTransition','KhtmlTransition'];var root =document.documentElement;for (var i =0;i < transition.length;i++) {if (transition[i] in root.style) {return true;}
 }
 };if (settings.useCSS &&support()) {return true;}
 return false;},keyPress:function () {if (settings.keyPress) {$(document).on('keyup.lightslider',function (e) {e.preventDefault();if (e.keyCode ===37) {$el.goToPrevSlide();clearInterval(interval);} else if (e.keyCode ===39) {$el.goToNextSlide();clearInterval(interval);}
 });}
 },controls:function () {if (settings.controls) {$el.after('<div class="lSAction"><a class="lSPrev">'+ settings.prevHtml + '</a><a class="lSNext">'+ settings.nextHtml + '</a></div>');if (!settings.autoWidth) {if (length <=settings.item) {$slide.find('.lSAction').hide();}
 } else {if (refresh.calWidth(false) < elSize) {$slide.find('.lSAction').hide();}
 }
 $slide.find('.lSAction a').on('click',function (e) {e.preventDefault();if ($(this).attr('class') ==='lSPrev') {$el.goToPrevSlide();} else {$el.goToNextSlide();}
 clearInterval(interval);});}
 },initialStyle:function () {var $this =this;if (settings.mode ==='fade') {settings.autoWidth =false;settings.slideEndAnimatoin =false;}
 if (settings.auto) {settings.slideEndAnimatoin =false;};if (settings.autoWidth) {settings.slideMove =1;settings.item =1;}
 if (settings.loop) {settings.slideMove =1;settings.freeMove =false;}
 settings.onBeforeStart.call(this,$el);refresh.chbreakpoint();$el.addClass('lightSlider').wrap("<div class='lSSlideOuter "+ settings.addClass + "'><div class='lSSlideWrapper'></div></div>");$slide =$el.parent('.lSSlideWrapper');if (settings.rtl ===true) {$slide.parent().addClass('lSrtl');}
 if (settings.vertical) {$slide.parent().addClass('vertical');elSize =settings.verticalHeight;$slide.css('height',elSize + 'px');} else {elSize =$el.outerWidth();}
 $children.addClass('lslide');if (settings.loop ===true &&settings.mode ==='slide') {refresh.calSW();refresh.clone =function () {if (refresh.calWidth(true) > elSize) {var tWr =0,tI =0;for (var k =0;k < $children.length;k++) {tWr +=(parseInt($el.find('.lslide').eq(k).width()) + settings.slideMargin);tI++;if (tWr >=(elSize + settings.slideMargin)) {break;}
 }
 var tItem =settings.autoWidth ===true ?tI :settings.item;if (tItem < $el.find('.clone.left').length) {for (var i =0;i < $el.find('.clone.left').length - tItem;i++) {$children.eq(i).remove();}
 }
 if (tItem < $el.find('.clone.right').length) {for (var j =$children.length - 1;j > ($children.length - 1 - $el.find('.clone.right').length);j--) {scene--;$children.eq(j).remove();}
 }
 for (var k =$el.find('.clone.right').length;k < tItem;k++) {$el.find('.lslide').eq(k).clone().removeClass('lslide').addClass('clone right').appendTo($el);scene++;}
 for (var m =$el.find('.lslide').length - $el.find('.clone.left').length;m > ($el.find('.lslide').length - tItem);m--) {$el.find('.lslide').eq(m - 1).clone().removeClass('lslide').addClass('clone left').prependTo($el);}
 $children =$el.children();} else {if ($children.hasClass('clone')) {$el.find('.clone').remove();$this.move($el,0);}
 }
 };refresh.clone();}
 refresh.sSW =function () {length =$children.length;if (settings.rtl ===true &&settings.vertical ===false) {gutter ="margin-left";}
 if (settings.autoWidth ===false) {$children.css(property,slideWidth + 'px');}
 $children.css(gutter,settings.slideMargin + 'px');w =refresh.calWidth(false);$el.css(property,w + 'px');if (settings.loop ===true &&settings.mode ==='slide') {if (on ===false) {scene =$el.find('.clone.left').length;}
 }
 };refresh.calL =function () {$children =$el.children();length =$children.length;};if (this.doCss()) {$slide.addClass('usingCss');}
 refresh.calL();if (settings.mode ==="slide") {refresh.calSW();refresh.sSW();if (settings.loop ===true) {slideValue =$this.slideValue();this.move($el,slideValue);}
 if (settings.vertical ===false) {this.setHeight($el,false,true);}
 } else {this.setHeight($el,true,true);$el.addClass('lSFade');if (!this.doCss()) {$children.not(".active").css('display','none');}
 }
 if (settings.loop ===true &&settings.mode ==='slide') {$children.eq(scene).addClass('active');} else {$children.first().addClass('active');}
 },pager:function () {var $this =this;refresh.createPager =function () {var $children =$slide.find('.lslide');var length =$slide.find('.lslide').length;var i =0,pagers ='',v =0;for (i =0;i < length;i++) {if (settings.mode ==='slide') {if (!settings.autoWidth) {v =i * ((slideWidth + settings.slideMargin) * settings.slideMove);} else {v +=((parseInt($children.eq(i).width()) + settings.slideMargin) * settings.slideMove);}
 }
 var thumb =$children.eq(i * settings.slideMove).attr('data-thumb');if (settings.gallery ===true) {pagers +='<li style="'+ gutter + ':'+ settings.thumbMargin + 'px"><a href="javascript:void(0)"><img src="'+ thumb + '" /></a></li>';} else {pagers +='<li><a href="javascript:void(0)">'+ (i + 1) + '</a></li>';}
 if (settings.mode ==='slide') {if ((v) >=w - elSize - settings.slideMargin) {i =i + 1;var minPgr =2;if (settings.autoWidth) {pagers +='<li><a href="javascript:void(0)">'+ (i + 1) + '</a></li>';minPgr =1;}
 if (i < minPgr) {pagers =null;$slide.parent().addClass('noPager');} else {$slide.parent().removeClass('noPager');}
 break;}
 }
 }
 var $cSouter =$slide.parent();$cSouter.find('.lSPager').html(pagers);if (!settings.vertical &&settings.gallery) {var $pgr =$slide.parent().find('.lSGallery');setTimeout(function () {$this.setHeight($pgr,false,false);});}
 if (settings.gallery ===true) {if (settings.vertical ===true) {$cSouter.find('.lSPager').css('width',settings.vThumbWidth + 'px');}
 pagerWidth =(i * (settings.thumbMargin + thumbWidth)) + 0.5;$cSouter.find('.lSPager').css({property:pagerWidth + 'px','transition-duration':settings.speed + 'ms'});if (settings.vertical ===true) {$slide.parent().css('padding-right',(settings.vThumbWidth + settings.galleryMargin) + 'px');}
 }
 var $pager =$cSouter.find('.lSPager').find('li');$pager.first().addClass('active');$pager.on('click',function () {if (settings.loop ===true &&settings.mode ==='slide') {scene =scene + ($pager.index(this) - $cSouter.find('.lSPager').find('li.active').index());} else {scene =$pager.index(this);}
 $el.mode(false);if (settings.gallery ===true) {$this.slideThumb();}
 clearInterval(interval);});};if (settings.pager) {var cl ='lSpg';if (settings.gallery) {cl ='lSGallery';}
 $slide.after('<ul class="lSPager '+ cl + '"></ul>');var gMargin =(settings.vertical) ?"margin-left":"margin-top";$slide.parent().find('.lSPager').css(gMargin,settings.galleryMargin + 'px');refresh.createPager();}
 setTimeout(function () {refresh.init();},0);},setHeight:function (ob,fade,loop) {var obj =null;if (loop) {obj =ob.children(".lslide ").first();}else{obj =ob.children().first();}
 var setCss =function () {var tH =obj.height(),tP =0,tHT =tH;if (fade) {tH =0;tP =((tHT) * 100) / elSize;}
 ob.css({'height':tH + 'px','padding-bottom':tP + '%'});};setCss();obj.find('img').load(function () {setTimeout(function(){setCss();},100);});},active:function (ob,t) {if (this.doCss() &&settings.mode ==="fade") {$slide.addClass('on');}
 var sc =0;if (scene * settings.slideMove < length) {ob.removeClass('active');if (!this.doCss() &&settings.mode ==="fade"&&t ===false) {ob.fadeOut(settings.speed);}
 t ===true ?sc =scene :sc =scene * settings.slideMove;if (t ===true) {var l =ob.length;var nl =l - 1;if (sc + 1 >=l) {sc =nl;}
 }
 if (settings.loop ===true &&settings.mode ==='slide') {t ===true ?sc =scene - $el.find('.clone.left').length :sc =scene * settings.slideMove;if (t ===true) {var l =ob.length;var nl =l - 1;if (sc + 1 ==l) {sc =nl;} else if (sc + 1 > l) {sc =0;}
 }
 }
 if (!this.doCss() &&settings.mode ==="fade"&&t ===false) {ob.eq(sc).fadeIn(settings.speed);}
 ob.eq(sc).addClass('active');} else {ob.removeClass('active');ob.eq(ob.length - 1).addClass('active');if (!this.doCss() &&settings.mode ==="fade"&&t ===false) {ob.fadeOut(settings.speed);ob.eq(sc).fadeIn(settings.speed);}
 }
 },move:function (ob,v) {if (settings.rtl ===true) {v =-v;}
 if (this.doCss()) {if (settings.vertical ===true) {ob.css({'transform':'translate3d(0px, '+ (-v) + 'px, 0px)','-webkit-transform':'translate3d(0px, '+ (-v) + 'px, 0px)'});} else {ob.css({'transform':'translate3d('+ (-v) + 'px, 0px, 0px)','-webkit-transform':'translate3d('+ (-v) + 'px, 0px, 0px)',});}
 } else {if (settings.vertical ===true) {ob.css('position','relative').animate({top:-v + 'px'},settings.speed,settings.easing);} else {ob.css('position','relative').animate({left:-v + 'px'},settings.speed,settings.easing);}
 }
 var $thumb =$slide.parent().find('.lSPager').find('li');this.active($thumb,true);},fade:function () {this.active($children,false);var $thumb =$slide.parent().find('.lSPager').find('li');this.active($thumb,true);},slide:function () {var $this =this;refresh.calSlide =function () {if (w > elSize) {slideValue =$this.slideValue();$this.active($children,false);if ((slideValue) > w - elSize - settings.slideMargin) {slideValue =w - elSize - settings.slideMargin;} else if (slideValue < 0) {slideValue =0;}
 $this.move($el,slideValue);if (settings.loop ===true &&settings.mode ==='slide') {if (scene >=(length - ($el.find('.clone.left').length / settings.slideMove))) {$this.resetSlide($el.find('.clone.left').length);}
 if (scene ===0) {$this.resetSlide($slide.find('.lslide').length);}
 }
 }
 };refresh.calSlide();},resetSlide:function (s) {var $this =this;$slide.find('.lSAction a').addClass('disabled');setTimeout(function () {scene =s;$slide.css('transition-duration','0ms');slideValue =$this.slideValue();$this.active($children,false);plugin.move($el,slideValue);setTimeout(function () {$slide.css('transition-duration',settings.speed + 'ms');$slide.find('.lSAction a').removeClass('disabled');},50);},settings.speed + 100);},slideValue:function () {var _sV =0;if (settings.autoWidth ===false) {_sV =scene * ((slideWidth + settings.slideMargin) * settings.slideMove);} else {_sV =0;for (var i =0;i < scene;i++) {_sV +=(parseInt($children.eq(i).width()) + settings.slideMargin);}
 }
 return _sV;},slideThumb:function () {var position;switch (settings.currentPagerPosition) {case 'left':position =0;break;case 'middle':position =(elSize / 2) - (thumbWidth / 2);break;case 'right':position =elSize - thumbWidth;}
 var sc =scene - $el.find('.clone.left').length;var $pager =$slide.parent().find('.lSPager');if (settings.mode ==='slide'&&settings.loop ===true) {if (sc >=$pager.children().length) {sc =0;} else if (sc < 0) {sc =$pager.children().length;}
 }
 var thumbSlide =sc * ((thumbWidth + settings.thumbMargin)) - (position);if ((thumbSlide + elSize) > pagerWidth) {thumbSlide =pagerWidth - elSize - settings.thumbMargin;}
 if (thumbSlide < 0) {thumbSlide =0;}
 this.move($pager,thumbSlide);},auto:function () {if (settings.auto) {interval =setInterval(function () {$el.goToNextSlide();},settings.pause);}
 },touchMove:function (endCoords,startCoords) {$slide.css('transition-duration','0ms');if (settings.mode ==='slide') {var distance =endCoords - startCoords;var swipeVal =slideValue - distance;if ((swipeVal) >=w - elSize - settings.slideMargin) {if (settings.freeMove ===false) {swipeVal =w - elSize - settings.slideMargin;} else {var swipeValT =w - elSize - settings.slideMargin;swipeVal =swipeValT + ((swipeVal - swipeValT) / 5);}
 } else if (swipeVal < 0) {if (settings.freeMove ===false) {swipeVal =0;} else {swipeVal =swipeVal / 5;}
 }
 this.move($el,swipeVal);}
 },touchEnd:function (distance) {$slide.css('transition-duration',settings.speed + 'ms');clearInterval(interval);if (settings.mode ==='slide') {var mxVal =false;var _next =true;slideValue =slideValue - distance;if ((slideValue) > w - elSize - settings.slideMargin) {slideValue =w - elSize - settings.slideMargin;if (settings.autoWidth ===false) {mxVal =true;}
 } else if (slideValue < 0) {slideValue =0;}
 var gC =function (next) {var ad =0;if (!mxVal) {if (next) {ad =1;};}
 if (!settings.autoWidth) {var num =slideValue / ((slideWidth + settings.slideMargin) * settings.slideMove);scene =parseInt(num) + ad;if (slideValue >=(w - elSize - settings.slideMargin)) {if (num % 1 !==0) {scene++;}
 }
 } else {var tW =0;for (var i =0;i < $children.length;i++) {tW +=(parseInt($children.eq(i).width()) + settings.slideMargin);scene =i + ad;if (tW >=slideValue) {break;}
 }
 }
 };if (distance >=settings.swipeThreshold) {gC(false);_next =false;} else if (distance <=-settings.swipeThreshold) {gC(true);_next =false;}
 $el.mode(_next);this.slideThumb();} else {if (distance >=settings.swipeThreshold) {$el.goToPrevSlide();} else if (distance <=-settings.swipeThreshold) {$el.goToNextSlide();}
 }
 },enableDrag:function () {var $this =this;if (!isTouch) {var startCoords =0,endCoords =0,isDraging =false;$slide.on('mousedown',function (e) {if (w < elSize) {if (w !==0) {return false;}
 }
 if ($(e.target).attr('class') !==('lSPrev') &&$(e.target).attr('class') !==('lSNext')) {startCoords =(settings.vertical ===true) ?e.pageY :e.pageX;isDraging =true;e.preventDefault();}
 });$(window).on('mousemove',function (e) {if (isDraging) {endCoords =(settings.vertical ===true) ?e.pageY :e.pageX;$this.touchMove(endCoords,startCoords);}
 });$(window).on('mouseup',function (e) {if (isDraging) {isDraging =false;endCoords =(settings.vertical ===true) ?e.pageY :e.pageX;var distance =endCoords - startCoords;if (Math.abs(distance) >=settings.swipeThreshold) {$(window).on('click.ls',function(e) {e.preventDefault();e.stopImmediatePropagation();e.stopPropagation();$(window).off('click.ls');});}
 $this.touchEnd(distance);}
 });}
 },enableTouch:function () {var $this =this;if (isTouch) {var startCoords ={},endCoords ={};$slide.on('touchstart',function (e) {endCoords =e.originalEvent.targetTouches[0];startCoords.pageX =e.originalEvent.targetTouches[0].pageX;startCoords.pageY =e.originalEvent.targetTouches[0].pageY;});$slide.on('touchmove',function (e) {if (w < elSize) {if (w !==0) {return false;}
 }
 var orig =e.originalEvent;endCoords =orig.targetTouches[0];var xMovement =Math.abs(endCoords.pageX - startCoords.pageX);var yMovement =Math.abs(endCoords.pageY - startCoords.pageY);if (settings.vertical ===true) {if ((yMovement * 3) > xMovement) {e.preventDefault();}
 $this.touchMove(endCoords.pageY,startCoords.pageY);} else {if ((xMovement * 3) > yMovement) {e.preventDefault();}
 $this.touchMove(endCoords.pageX,startCoords.pageX);}
 });$slide.on('touchend',function () {if (w < elSize) {if (w !==0) {return false;}
 }
 if (settings.vertical ===true) {var distance =endCoords.pageY - startCoords.pageY;} else {var distance =endCoords.pageX - startCoords.pageX;}
 $this.touchEnd(distance);});}
 },build:function () {var $this =this;$this.initialStyle();$this.auto();if (this.doCss()) {if (settings.enableTouch ===true) {$this.enableTouch();}
 if (settings.enableDrag ===true) {$this.enableDrag();}
 }
 $this.pager();$this.controls();$this.keyPress();}
 };plugin.build();refresh.init =function () {refresh.chbreakpoint();if (settings.vertical ===true) {if (settings.item > 1) {elSize =settings.verticalHeight;} else {elSize =$children.outerHeight();}
 $slide.css('height',elSize + 'px');} else {elSize =$slide.outerWidth();}
 if (settings.loop ===true &&settings.mode ==='slide') {refresh.clone();}
 refresh.calL();if (settings.mode ==="slide") {$el.removeClass('lSSlide');}
 if (settings.mode ==="slide") {refresh.calSW();refresh.sSW();}
 setTimeout(function () {if (settings.mode ==="slide") {$el.addClass('lSSlide');}
 },1000);if (settings.pager) {refresh.createPager();}
 if (settings.adaptiveHeight ===true &&settings.vertical ===false) {$el.css('height',$children.eq(scene).height());}
 if (settings.gallery ===true) {plugin.slideThumb();}
 if (settings.mode ==="slide") {plugin.slide();}
 if (settings.autoWidth ===false) {if ($children.length <=settings.item) {$slide.find('.lSAction').hide();} else {$slide.find('.lSAction').show();}
 } else {if ((refresh.calWidth(false) < elSize) &&(w !==0)) {$slide.find('.lSAction').hide();} else {$slide.find('.lSAction').show();}
 }
 };$el.goToPrevSlide =function () {if (scene > 0) {settings.onBeforePrevSlide.call(this,$el,scene);scene--;$el.mode(false);if (settings.gallery ===true) {plugin.slideThumb();}
 } else {if (settings.loop ===true) {settings.onBeforePrevSlide.call(this,$el,scene);if (settings.mode ==='fade') {var l =(length - 1);scene =parseInt(l / settings.slideMove);}
 $el.mode(false);if (settings.gallery ===true) {plugin.slideThumb();}
 } else if (settings.slideEndAnimatoin ===true) {$el.addClass('leftEnd');setTimeout(function () {$el.removeClass('leftEnd');},400);}
 }
 };$el.goToNextSlide =function () {var nextI =true;if (settings.mode ==='slide') {var _slideValue =plugin.slideValue();var nextI =_slideValue < w - elSize - settings.slideMargin;}
 if (((scene * settings.slideMove) < length - settings.slideMove) &&nextI) {settings.onBeforeNextSlide.call(this,$el,scene);scene++;$el.mode(false);if (settings.gallery ===true) {plugin.slideThumb();}
 } else {if (settings.loop ===true) {settings.onBeforeNextSlide.call(this,$el,scene);scene =0;$el.mode(false);if (settings.gallery ===true) {plugin.slideThumb();}
 } else if (settings.slideEndAnimatoin ===true) {$el.addClass('rightEnd');setTimeout(function () {$el.removeClass('rightEnd');},400);}
 }
 };$el.mode =function (_touch) {if (settings.adaptiveHeight ===true &&settings.vertical ===false) {$el.css('height',$children.eq(scene).height());}
 if (on ===false) {if (settings.mode ==="slide") {if (plugin.doCss()) {$el.addClass('lSSlide');if (settings.speed !=='') {$slide.css('transition-duration',settings.speed + 'ms');}
 if (settings.cssEasing !=='') {$slide.css('transition-timing-function',settings.cssEasing);}
 }
 } else {if (plugin.doCss()) {if (settings.speed !=='') {$el.css('transition-duration',settings.speed + 'ms');}
 if (settings.cssEasing !=='') {$el.css('transition-timing-function',settings.cssEasing);}
 }
 }
 }
 if (!_touch) {settings.onBeforeSlide.call(this,$el,scene);}
 if (settings.mode ==="slide") {plugin.slide();} else {plugin.fade();}
 setTimeout(function () {if (!_touch) {settings.onAfterSlide.call(this,$el,scene);}
 },settings.speed);on =true;};$el.play =function () {clearInterval(interval);$el.goToNextSlide();interval =setInterval(function () {$el.goToNextSlide();},settings.pause);};$el.pause =function () {clearInterval(interval);};$el.refresh =function () {refresh.init();};$el.getCurrentSlideCount =function () {var sc =scene;if (settings.loop) {var ln =$slide.find('.lslide').length,cl =$el.find('.clone.left').length;if(scene<=cl-1){sc =ln + (scene-cl);}else if(scene >=(ln+cl)){sc =scene - ln - cl;}else{sc =scene - cl;}
 };return sc+1;};$el.getTotalSlideCount =function(){return $slide.find('.lslide').length;};$el.goToSlide =function (s) {if (settings.loop) {scene =(s + $el.find('.clone.left').length -1);}else{scene =s;}
 $el.mode(false);if (settings.gallery ===true) {plugin.slideThumb();}
 };setTimeout(function(){settings.onSliderLoad.call(this,$el);},10);$(window).on('resize orientationchange',function (e) {setTimeout(function () {e.preventDefault();refresh.init();},200);});return this;};}(jQuery));$(document).ready(function() {$('#send-newsletter').click(function(event) {event.preventDefault();var email =$('#nlemail').val(),brand =$('#nlbrand').val(),formData ={"email":"","nlemail":email,"registration":true,"nlbrand":brand
 }
 sendPostAjax(formData,'newsletter/submit',adMsg);});$('#abbestellen').click(function(event) {event.preventDefault();var email =$('#nlemail').val(),brand =$('#nlbrand').val(),formData ={"email":"","nlemail":email,"registration":false,"nlbrand":brand
 }
 sendPostAjax(formData,'newsletter/submit',adMsg);});$('#cms-contact-form').bind('submit',function(event) {event.preventDefault();var $form =$('#cms-contact-form');var $inputs =$form.find('input');var $textarea =$form.find('textarea');var data =collectFormData($inputs);data[$textarea.attr('name')] =$textarea.val();data[$('#contactReasonCode').attr('name')] =$('#contactReasonCode').val();data[$('#countryName').attr('name')] =$('#countryName').val();data[$('#privacyPolicyAccepted').attr('name')] =$('#privacyPolicyAccepted').is(':checked');data[$('#newsletterSubscribtion').attr('name')] =$('#newsletterSubscribtion').is(':checked');sendPostAjax(data,'restapi/validatecontactform',validationResponse)
 });});function collectFormData(fields) {var data ={};for (var i =0;i < fields.length;i++) {var $item =$(fields[i]);if(!$item.is(':checkbox') &&!$item.is(':submit')){data[$item.attr('name')] =$item.val();}
 }
 return data;}
var validationResponse =function (response) {var $form =$('#cms-contact-form');document.getElementById("errorContainer").style.display ="none";$form.find('.control-group').removeClass('error');$form.find('.help-inline').empty();if (response.status =='FAIL') {document.getElementById("errorContainer").style.display ="block";for (var i =0;i < response.errorMessageList.length;i++) {var item =response.errorMessageList[i];var $controlGroup =$form.find(item.fieldName !=='message'?'#'+ item.fieldName + 'ControlGroup':'#'+ item.fieldName);$controlGroup.addClass('error');$controlGroup.find('.help-inline').html(item.message);}
 } else {$form.unbind('submit');$form.submit();}
}
var adMsg =function(data) {if (data.error &&data.error ===true) {addErrorMsg(data);} else {addSuccessMsg(data);}
}
var addSuccessMsg =function(data) {$('#newsletter').find('.successBlock').html(data.message);$('#newsletter').find('.errorBlock').html('').end().find('#nlemail').removeClass('parsley-error');}
var addErrorMsg =function(data) {$('#newsletter').find('.errorBlock').html(data.errormessage).end().find('#nlemail').addClass('parsley-error');$('#newsletter').find('.successBlock').html('');}
var sendPostAjax =function(aData,url,callback) {$.ajax({type:"post",contentType:"application/json; charset=utf-8",url:url,data:JSON.stringify(aData),dataType:"json",beforeSend:function() {initLoad.load();},complete:function() {initLoad.close();},success:function(data) {callback(data);},error:function(result) {console.log("Error:"+result);}
 });}
function validateEmail(email) {var re =/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
 return re.test(email);}
 $.widget("custom.catcomplete",$.ui.autocomplete,{_create:function() {this._super();this.widget().menu("option","items","> :not(.ui-autocomplete-category)");this.widget().css("left","-"+$('.form-inline.search-form').width()+'px');},_resizeMenu:function() {console.log('now');this.menu.element.outerWidth(640).css({"z-index":9999,});},_renderMenu:function(ul,items ) {var that =this,currentCategory ="";var _holder =$("<div class='items-holder'></div>");var _right =$("<div class='right'></div>")
 ul.append(_holder );ul.append(_right );$.each(items,function(index,item ) {var li;if (item.category !=currentCategory ) {_wrapper =$("<div class='ac-item "+ item.category + "''></div>");if (item.category.toLowerCase() =="product"){_holder.append(_wrapper );_wrapper.append("<h5 class='ui-autocomplete-category "+ item.category + "'>"+ item.categoryName + "<span> ("+ item.qty + ")</span> </h5>");}
 else{_right.append(_wrapper );_wrapper.append("<h5 class='ui-autocomplete-category "+ item.category + "'>"+ item.categoryName + "<span> ("+ item.qty + ")</span></h5>");}
 currentCategory =item.category;}
 li =that._renderItemData(_wrapper,item );if (item.category ) {li.attr("aria-label",item.category + " : "+ item.label );}
 });},_renderItem:function(ul,item ) {if(item.company){var imageLink =item.image ?item.image :"/_ui/desktop/common/jab/images/dummy.jpg";return $("<li>")
.addClass(item.category)
.attr("data-value",item.label )
 .attr("style","height: 100px")
.append($("<div>").attr("style","display:flex; flex-wrap:nowrap; padding-bottom: 60px;").append($("<a>").text(item.label ).attr("href",item.href).attr("style","display:block;")
.append("<br><span>"+ item.name + "</span>")
.append("<br><span>"+ item.id + "</span>")
.append("<br><span>"+ item.company + "</span>") ) .prepend('<a href="'+ item.href + '" style="display: block;"><img src='+ imageLink + '></a>')
).append('</div>')
.appendTo(ul );}
else if (item.label){return $("<li>")
.addClass(item.category)
.attr("data-value",item.label )
.append($("<a>").text(item.label ).attr("href",item.href) )
.appendTo(ul );} else {return $("<li>");}
}
});$(document).ready(function() {formPosition();var url ="suggest?term=";$("#search").catcomplete({delay:0,source:function(request,response ) {$.ajax({url:url + $("#search").val(),type:'GET',contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){initLoad.load();},success:function(res) {initLoad.close();response(res.items);}
 });},appendTo:".autocomplete",open:function(){var _menu =$(".ui-autocomplete");var _input =$("form.search-form");if(window.innerWidth >=768)
 {_menu.css({left:"-640px"});}
 }
 });});function formPosition(){var form =$(".header form.search-form"),slider =$(".imageGallery").first(),static_slider =$(".imageStatic").first();setTimeout(function(){if($(window).width() < 600){if (static_slider.length){form.css("top",static_slider.outerHeight() - form.outerHeight() - 16);} else if (slider.length){form.css("top",slider.outerHeight() - form.outerHeight() - 16);}
}
form.show();cookieMessagePosition();},1000);$(window).resize(function(){setTimeout(function(){if($(window).width() < 600){if (static_slider.length){form.css("top",static_slider.outerHeight() - form.outerHeight() - 16);} else if (slider.length){form.css("top",slider.outerHeight() - form.outerHeight() - 16);}
 }
 else{form.attr("style","")
 }
 form.show();repositionCookieMessage();},500);});}
function cookieMessagePosition()
{var $cookiebox =$('.search-form-cookie');$cookiebox.css('visibility','hidden');if($cookiebox.length > 0)
{$(".cookie-close").click(function() {$cookiebox.css('display','none');});if(document.cookie.indexOf('showCookieMessage') ==-1 )
{document.cookie='showCookieMessage=true'+ '; Max-Age='+ 15811200 + '; '+ 'expires=Fri, 31 Dec 9999 23:59:59 GMT';$cookiebox.css('display','flex');setTimeout(function(){console.log("pos");if($(window).width() < 600){var $form =$(".header form.search-form");var formtop =$form.css('top');var selfheight =$cookiebox.css('height');$cookiebox.css('top',parseInt(formtop) - parseInt(selfheight) - 12 );$cookiebox.css('visibility','visible');}
 else{$cookiebox.css('top',76);$cookiebox.css('visibility','visible');}
 },1000);}
}
}
function repositionCookieMessage()
{var $cookiebox =$('.search-form-cookie');$cookiebox.css('visibility','hidden');if($cookiebox.length > 0)
{setTimeout(function(){if($(window).width() < 600){var $form =$(".header form.search-form");var formtop =$form.css('top');var selfheight =$cookiebox.css('height');$cookiebox.css('top',parseInt(formtop) - parseInt(selfheight) - 12 );$cookiebox.css('visibility','visible');}
 else{$cookiebox.css('top',76);$cookiebox.css('visibility','visible');}
 },600);}
}
$(document).ready(function() {var _availability =$(".product-availability");if(_availability.length){_availability.on("click",function(){var _data =$(this).data("id");sendDataProduct(_data);return false;});}
});function sendDataProduct(data){var aData ={};var url ="product-availability";aData.id =data;}
function displayAvailability(res){var _holder =$(".cta-module .sofort");var _text =res.product.availability;var _availability =$(".product-availability-holder");_holder.html(_text);_holder.removeClass("hidden");_availability.addClass("hidden");}
$(document).ready(function() {var _downloads =$(".product-downloads");if(_downloads.length){sendDataProduct(_downloads);loadImage();}
});function loadImage(){var btn =$(".product-downloads .btn");btn.on("click",function(){var link =$(this).attr("href");if(link.length)
{if (link.indexOf("login") > -1)
{window.location ="/"+ link + "?re="+ window.location.href;return false;}
else
{return true;}
}
else
{return false;}
});}
function sendDataProduct(data){var aData ={"productCode":data.data("product")
 };var url ="restapi/featurebox/product-downloads";$.ajax({url:url,type:'post',data:aData,dataType:"json",beforeSend:function(){initLoad.load();},success:function(res) {initLoad.close();buildData(res);}
 });}
function buildData(data){var source =$("#images-download").html();var template =Handlebars.compile(source);$("#images-select").html(template(data));$('.featurebox .container').matchHeight();initDropMenu(data);}
function initDropMenu(data){var holder =$(".opener-holder"),btn =$(".product-downloads .btn"),links_opener =$(".links .opener"),default_text =links_opener.text();holder.each(function(){var opener =$(this).find(".opener"),dropmenu =$(this).find(".drop-menu"),$this =$(this),link =$this.find(".image-drop-item");opener.on("click",function(){holder.not($this).removeClass("active");$this.toggleClass("active");});link.on("click",function() {var sourceDropItem =this;var imageTypeHolder =$(this).parent();var dropItems =imageTypeHolder.children();for(var dropItemCounter =0;dropItemCounter < dropItems.size();dropItemCounter++){if(dropItems[dropItemCounter] ==sourceDropItem){break;}
 }
 var value =$(this).find("a").text();holder.removeClass("active");opener.text(value);btn.attr("href","");btn.attr("download","");links_opener.text(default_text);var new_data =data.products[dropItemCounter];buildFormats(new_data.links);return false;});});}
function buildFormats(newdata){var holder =$(".links .drop-menu");if(holder.find(".image-drop-item").length){holder.find(".image-drop-item").remove();}
for (var i in newdata){var drop_format =newdata[i].name,drop_link =newdata[i].link,div ="<div class='image-drop-item' data-url='"+ drop_link + "'><div class='format-name'>"+ drop_format + "</div></div>";holder.append(div);}
formatSelect();}
function formatSelect(){var link =$(".links .image-drop-item"),btn =$(".product-downloads .btn"),opener =$(".links .opener"),holder =$(".opener-holder");link.on("click",function(){var newlink =$(this).data("url"),value =$(this).find(".format-name").text();opener.text(value);btn.attr("href",newlink);btn.attr("download",newlink);holder.removeClass("active");});}
$(document).ready(function(){if($("body").hasClass("registration-page")){initHeight();var fromCart =checkFromCart();checkRegisterType(fromCart);showFormElements();hideForm();}
});function initHeight(){var el =$(".user-type p");el.matchHeight();}
function checkRegisterType(fromCart) {var user_type =$(".user-type input:checked"),hidden =$(".hidden-part"),personaldata =$(".personal-data"),company =$(".company-field");if(user_type ==undefined ||user_type ==null) {user_type =$(".user-type input:radio");}
 var isTypeSelected =(fromCart ==="true") ?true :user_type.length > 0;var customerType =(fromCart ==="true") ?"b2c":user_type.val();if(customerType ==="b2c") {company.hide();} else {company.show();}
 if(isTypeSelected) {personaldata.show();} else {personaldata.hide();}
}
function showFormElements(){var user_type =$(".user-type input:radio"),hidden =$(".hidden-part"),personaldata =$(".personal-data"),company =$(".company-field");user_type.on("change",function(){checkRegisterType();val =$(this).val();hidden.removeClass("hidden");company.show();if(val ==='b2c') {company.hide();}
 if(val !=="b2bContract"){hidden.addClass("hidden");} else if (val ==='b2bContract'){var contractCheck =$("#field-contract").is(":checked");if(!contractCheck) {personaldata.hide();}
 }
 });}
function hideForm(){var btn =$(".contract-holder input:radio"),form =$(".main-form"),text =$(".hidden-part .hidden-text");btn.on("change",function(){if($(this).val() =="true"){form.hide();text.show();} else{form.show();text.hide();}
 });}
function checkFromCart() {var fromcart =$('body').attr('data-fromcart');var form =$('.main-form');console.log(fromcart);return fromcart;}
var Exports ={Modules:{}
};Exports.Modules.Gallery =(function ($,undefined) {var $grid,$shapes,$colors,$types,shapes =[],colors =[],types =[],columnWidths ={1170:70,940:60,724:42
 },gutterWidths ={1170:30,940:20,724:20
 },init =function () {setVars();initFilters();initShuffle();},setVars =function () {$grid =$('.js-shuffle');$shapes =$('.js-shapes');$colors =$('.js-colors');$types =$('.js-types');},initShuffle =function () {$grid.shuffle({speed:250,easing:'cubic-bezier(0.165, 0.840, 0.440, 1.000)',gutterWidth:0
 });},initFilters =function () {$types.find('select').on('change',function () {var $checked =$(this).children(':selected'),groups =[];if ($checked.length !==0) {$checked.each(function () {groups.push(this.value);});}
 types =groups;filter();});$shapes.find('input').on('change',function () {var $checked =$shapes.find('input:checked'),groups =[];if ($checked.length !==0) {$checked.each(function () {groups.push(this.value);});}
 shapes =groups;filter();});$colors.find('button').on('click',function () {var $this =$(this),$alreadyChecked,checked =[],active ='active',isActive;$alreadyChecked =$this.siblings('.'+ active);$this.toggleClass(active);if ($alreadyChecked.length) {$alreadyChecked.removeClass(active);}
 isActive =$this.hasClass(active);if (isActive) {checked.push($this.data('filterValue'));}
 colors =checked;filter();});},filter =function () {if (hasActiveFilters()) {$grid.shuffle('shuffle',function ($el) {return itemPassesFilters($el.data());});} else {$grid.shuffle('shuffle','all');}
 },itemPassesFilters =function (data) {if (shapes.length > 0 &&!valueInArray(data.shape,shapes)) {return false;}
 if (colors.length > 0 &&!valueInArray(data.color,colors)) {return false;}
 if (types.length > 0 &&!valueInArray(data.type,types)) {return false;}
 return true;},hasActiveFilters =function () {return colors.length > 0 ||shapes.length > 0 ||types.length > 0;},valueInArray =function (value,arr) {return $.inArray(value,arr) !==-1;};return {init:init
 };}(jQuery));Exports.Modules.Inspirational =(function ($,undefined) {var $grid,$products,$musters,$types,$sizer,products =[],musters =[],types =[],init =function (grid,shuffle_sizer) {setVars(grid,shuffle_sizer);initFilters();initShuffle();update();},setVars =function (grid,shuffle_sizer) {$grid =$(grid);$products =$('.js-products');$musters =$('.js-musters');$types =$('.js-types');$sizer =$grid.find('.shuffle2_sizer');},initShuffle =function () {$grid.shuffle({speed:250,easing:'cubic-bezier(0.165, 0.840, 0.440, 1.000)',});},initFilters =function () {$types.find('select').on('change',function () {groups =[];var $checked =$(this).children(':selected');if ($checked.length !==0 &&this.value !=="all") {$checked.each(function () {groups.push(this.value);});}
 types =groups;filter();});$products.find('select').on('change',function () {var $checked =$(this).children(':selected'),arr =[];if ($checked.length !==0 &&this.value !=="all") {$checked.each(function () {arr.push(this.value);});}
 products =arr;filter();});$musters.find('select').on('change',function () {var arr2 =[],$checked =$(this).children(':selected');if ($checked.length !==0 &&this.value !=="all") {$checked.each(function () {arr2.push(this.value);});}
 musters =arr2;filter();});},filter =function () {$('#grid div.picture-item').remove();Exports.Modules.Inspirational.add();},getData =function (argument) {$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"productsearchinspirational",data:prepareJson(),dataType:"json",beforeSend:function () {initLoad.load();},success:function (data) {addItems(data.result);handleLoadMore(data);initLoad.close();},error:function (result) {console.log("Error");}
 });},prepareCollectionFacet =function (aGroup,facetName) {aGroup[facetName] ={"name":facetName,"facetsValues":[]};$("#"+ facetName + " >option:selected").each(function () {aGroup[facetName]["facetsValues"].push({"name":$(this).data('name'),"id":$(this).val(),"selected":true,"resultCount":0
 });});},prepareSimpleFacet =function (aGroup,facetName) {var code =$("#"+ facetName).val();if (code !='') {aGroup[facetName] ={"name":"'"+ facetName + "'","facetsValues":[{"name":facetName,"id":code,"selected":true,"resultCount":0
 }
 ]
 };}
 },prepareJson =function () {var aData ={};aData['searchTerm'] =$('.filter-options #products').val();aData['resultsNew'] =$('#grid').data('resultNew');aData['resultsDisplayed'] =$('#grid div.picture-item').length;aData['sortCode'] =$("#sortOptions").val();aData['loadDetails'] =$("#loadDetails").val();var pageSize =$('#pageSize').val();if (pageSize !='') {aData['pageSize'] =pageSize;}
 var aGroup ={};aData['facet'] =aGroup;prepareSimpleFacet(aGroup,"brand");prepareSimpleFacet(aGroup,"subBrand");prepareSimpleFacet(aGroup,"design");prepareSimpleFacet(aGroup,"designer");prepareSimpleFacet(aGroup,"rangeOfUse");prepareSimpleFacet(aGroup,"type");prepareCollectionFacet(aGroup,"materials");prepareCollectionFacet(aGroup,"properties");prepareCollectionFacet(aGroup,"collection");aGroup['hasEmotionMediaLink'] ={"name":"'hasEmotionMediaLink'","facetsValues":[{"name":"hasEmotionMediaLink","id":true,"selected":$("#inspirationType").text() =="EMOTION","resultCount":0
 }
 ]
 };aGroup['hasInspireMediaLink'] ={"name":"'hasInspireMediaLink'","facetsValues":[{"name":"hasInspireMediaLink","id":true,"selected":$("#inspirationType").text() =="INSPIRATION","resultCount":0
 }
 ]
 };var selectedVal =$('#colors').find(":selected").val();aGroup['colors'] ={"name":"Colors","facetsValues":[]};$("#colors option[data-filter-value!='all']").each(function () {aGroup['colors']["facetsValues"].push({"name":$(this).data('name'),"id":$(this).val(),"selected":$(this).data('filter-value') ===selectedVal,"resultCount":0
 });});var selectedGroupVal =$('#product').find(":selected").val();aGroup['group'] ={"name":"Product Group","facetsValues":[]};$("#product option[data-filter-value!='all']").each(function () {aGroup['group']["facetsValues"].push({"name":$(this).data('name'),"id":$(this).val(),"selected":$(this).data('filter-value') ===selectedGroupVal,"resultCount":0
 });});return JSON.stringify(aData);},update =function () {$('ul.list a.last').click(function (event) {$grid.shuffle('update');});},handleLoadMore =function (data) {if (data['resultCount'] <=$('#grid div.picture-item').length) {$('.load-items').hide();} else {$('.load-items').show();}
 },addItems =function (data) {var items =[],frag =document.createDocumentFragment(),$items,box,img,heart,loader;for (var i =data.length - 1;i >=0;i--) {box =document.createElement('div');box.className ='picture-item item-'+ data[i]['id'];if (data[i]['muster']) {box.setAttribute('data-muster',data[i]['muster']);} else {box.setAttribute('data-muster',' ');}
 ;if (data[i]['type']) {box.setAttribute('data-type',data[i]['type']);} else {box.setAttribute('data-type',' ');}
 ;if (data[i]['product'] !=null) {box.setAttribute('data-product',data[i]['product']);} else {box.setAttribute('data-product',' ');}
 ;img =document.createElement('img');var linkImg =data[i]['linkImg'];var isInspireType =$("#inspirationType").text() =="INSPIRATION";var isEmotionType =$("#inspirationType").text() =="EMOTION";if (isInspireType) {linkImg =data[i].inspireImageUrl;} else if (isEmotionType) {linkImg =data[i].emotionImageUrl;}
 if (linkImg ==null ||linkImg.length ==0) {linkImg ="_ui/desktop/common/jab/images/dummy.jpg"}
 img.setAttribute('src',linkImg);img.setAttribute("title",data[i].headline + "<br/>"+ data[i].productCode + "");img.className ="icon-tips-gray";heart =document.createElement('span');heart.className ='icon-heart'+ (data[i].inWishlist ?'-filled':'');heart.setAttribute("data-wishlist",data[i].inWishlist ?'remove':'add');heart.setAttribute("data-product",data[i].productCode);var imgA =generateA(data[i].link);imgA.appendChild(img);box.appendChild(imgA);box.appendChild(heart);items.push(box);frag.appendChild(box);}
 $grid.append(frag);$items =$(items);if ($items.length > 0) {$('.inspirational').imagesLoaded(function () {$grid.shuffle('appended',$items);});}
 $grid.find('.icon-tips-gray').tooltipster({contentAsHTML:true,interactive:true,position:'top-left',animation:'grow',offsetY:5,offsetX:-5,theme:'tooltipster-gray-table'});updateWishlistIconsHandler();}
 generateA =function (link) {var a =document.createElement('a');a.setAttribute("href",(link ==null ||link.length ==0) ?"#":link);return a;}
 closeLoading =function (arr) {if (arr) {arr.each(function () {var $this =$(this);$(this).imagesLoaded().done(function () {$this.find(".loader").hide();});});} else {var item =$(".picture-item");item.each(function () {var $this =$(this);$(this).imagesLoaded().done(function () {$this.find(".loader").hide();});});}
 }
 return {init:init,update:update,add:getData,closeLoading:closeLoading
 };}(jQuery));$(document).ready(function () {if ($('.inspirational').length > 0) {}
 if ($('#grid').length > 0) {Exports.Modules.Inspirational.init('#grid','.shuffle_sizer');$('.load-items').click(function (event) {Exports.Modules.Inspirational.add();});Exports.Modules.Inspirational.add();}
 ;if ($('.js-shuffle').length > 0) {$('.js-shuffle').imagesLoaded(function () {Exports.Modules.Gallery.init();});}
 ;});$(window).load(function () {$(".stage-slide").css("visibility","visible");});(function($) {$(document).ready(function() {$(".featurebox.type01.contact").each(function() {$("#referrer",this).val(window.location.href);var boxId =$(this).attr("id");$(this).find("button").click(function() {$box =$("#"+boxId);if($box.length ==0) {console.log("Invalid boxId = "+ boxId);return;}
 var aData ={contactReasonCode :$box.find("#select01 :selected").val(),message :$box.find("#label04").val(),emailFrom :$box.find("#label03").val(),email :$box.find("#email").val(),referrer :$box.find("#referrer").val(),privacyPolicyAccepted :true
 };$box.find(".errorBlock").html("");$box.find(".messageBlock").html("");$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:"restapi/featurebox/contact",data:JSON.stringify(aData),dataType:"json",beforeSend:function() {initLoad.load();},complete:function() {initLoad.close();},success:function(data) {$box.find(".messageBlock").html(data);$box.find("#email").val("");$box.find("#label03").val("");$box.find("#label04").val("");console.log(data);},error:function(result) {var error =JSON.parse(result.responseText);$box.find(".errorBlock").html(error.message);console.log("Error :"+ error.message);}
 });});})
 });})(jQuery);$.fn.hMenu =function(topic,menu,topLevelClass) {var $el =this,$topic =$el.find(topic),$menu =$el.find(menu);if (!$('body').hasClass("markenseiten")) {$menu.on('click','a',function(event) {if ((getWidth() < 1260 &&!$(this).hasClass('last-level') &&$(this).closest('#header-menu2').length ===0))
{if($(this).next().length ==0) {return;}
(event.preventDefault) ?event.preventDefault():event.returnValue =false;$topic.find('.stitle').html('<a href="'+ $(this).attr('href') + '">'+ $(this).html() + '</a>');$topic.removeClass('hide').addClass('show');$menu.find('.active, .parent, .siblings').removeClass('active parent siblings');$(this).addClass('active').removeClass('show').addClass('hide').closest('li').addClass('parent').siblings().addClass('siblings').removeClass('show').addClass('hide');$(this).next('ul').removeClass('hide').addClass('show');}
});}
else {$('#header-menu nav.top-level li').removeClass('has-dropdown').addClass('parent');$menu.on('click','a',function(event) {if ((!$(this).hasClass('last-level') &&$(this).closest('#header-menu2').length ===0) ||($(this).closest('#header-menu2').length > 0 &&!$(this).hasClass('last-level'))||(!$(this).hasClass('last-level') &&$(this).closest('#header-menu').length ===0) ||($(this).closest('#header-menu').length > 0 &&!$(this).hasClass('last-level'))
 ) {console.log($(this).next());if($(this).next().length ==0) {return;}
(event.preventDefault) ?event.preventDefault():event.returnValue =false;$topic.find('.stitle').html('<a href="'+ $(this).attr('href') + '">'+ $(this).html() + '</a>');$topic.removeClass('hide').addClass('show');$menu.find('.active, .parent, .siblings').removeClass('active parent siblings');$(this).addClass('active').removeClass('show').addClass('hide').closest('li').addClass('parent').siblings().addClass('siblings').removeClass('show').addClass('hide');$(this).next('ul').removeClass('hide').addClass('show');}
});}
$topic.on('click','.line',function(event) {(event.preventDefault) ?event.preventDefault():event.returnValue =false;$menu.find('.parent > li').removeClass('show').addClass('hide');$menu.find('.parent, .siblings, .parent > a').removeClass('hide').addClass('show');if ($menu.find('a.active').closest('ul').hasClass(topLevelClass) ||!$menu.find('a.active')) {$topic.removeClass('show').addClass('hide');$menu.find('ul ul').removeClass('show').addClass('hide');$menu.find('a.active, > ul > li').removeClass('hide').addClass('show');$('li.border').hide();} else {$menu.find('li.parent').children('ul').removeClass('show').addClass('hide');$menu.find('a.active').removeClass('active').closest('ul').siblings('a').addClass('active');$topic.find('.stitle').html('<a href="'+ $(this).attr('href') + '">'+ $menu.find('a.active').html() + '</a>');};});var getWidth =function() {var w =$(window).width();return w;}
}
if (!$('body').hasClass("markenseiten")) {var delay =(function(){var timer =0;return function(callback,ms){clearTimeout (timer);timer =setTimeout(callback,ms);};})();$(window).resize(function() {delay(function(){var w =$(window).width();if(w > 1259) {$('#header-menu.header-menu').show(500);}
 },1000);});}
 $('.menu-mark .selectboxit-arrow-container ').click(function() {var w =$(window).width();if (w < 600) {$('.mobile-nav#metanavigation').hide();}
});$(document).ready(function () {if ($(window).width() <=1025) {$('.dropbtn').removeAttr('href');}
 $('body').on('click','#pp-search-icon',function () {$('.metanav.top').addClass('pp-mobile-search-open')
 $('main.wrapper').addClass('pp-mobile-search-active')
 })
 $('body').on('click','.pp-searchbutton',function () {$('.icon-search').click()
 })
 $('body').on('click','.pp-menu-mobile-search-close',function () {$('.metanav.top').removeClass('pp-mobile-search-open')
 $('main.wrapper').removeClass('pp-mobile-search-active')
 })
 $('body').on('click','.dropbtn',function () {if ($(window).width() <=1025) {if($(this).parent('.pp-dropdown').hasClass('pp-dropdown-active')) {$('.pp-dropdown').removeClass('pp-dropdown-active')
 }
 else {$('.pp-dropdown').removeClass('pp-dropdown-active')
 $(this).parent('.pp-dropdown').addClass('pp-dropdown-active')
 }
 $('#pp-hamburger-icon').removeClass('pp-is-open')
 }
 })
 $('body').on('click','#pp-hamburger-icon',function () {$(this).toggleClass('pp-is-open')
 $('.pp-dropdown').removeClass('pp-dropdown-active')
 })
 $("#pp-login-icon").on('click',() => {$('#pp-login-overlay').addClass('pp-overlay-show')
 })
 $('body').on('click','#pp-login-overlay',(event) => {if ($(event.target).hasClass('pp-overlay-show')) {$(event.target).removeClass('pp-overlay-show')
 }
 })
 $('body').on('click','.pp-login-overlay-close',(event) => {$('#pp-login-overlay').removeClass('pp-overlay-show')
 })
 $('body').on('mouseenter','.pp-dropdown',function () {$(".pp-destroyme").remove();$("head").append("<style class='pp-destroyme'>.pp-nav .dropdown-content-ul:after {left: "+(($(this).position().left - $('.pp-nav').position().left)+($(this).width() / 2) - 10)+"px !important;}</style>");});});function setClosestStore(coordinates)
{var csrf =$("meta[name=_csrf]").attr("content");var data ={coordinates:coordinates
 };var postUrl ='storefinder/setcloseststore';$.ajaxPrefilter(function (options,originalOptions,jqXHR) {jqXHR.setRequestHeader('CSRFToken',csrf);});$.ajax({type:'POST',url:postUrl,contentType:"application/json; charset=utf-8",data:JSON.stringify(data),success:function(response) {console.log('closest store set');window.location.reload(true);},error:function (response){}
 });}
$(document).ready(function(){if(window.location.href.indexOf("configurator") > -1)
 {if(isCustomerCenterCustomer===false)
 {if($.cookie("location_long")==undefined &&$.cookie("location_lat")==undefined &&$.cookie("preferredRetailer")==undefined)
 {navigator.geolocation.getCurrentPosition(function(position)
 {$.cookie("location_lat",position.coords.latitude,{expires:7 });$.cookie("location_long",position.coords.longitude,{expires:7 });lat =position.coords.latitude;lng =position.coords.longitude;coordinates =lat +','+ lng;setClosestStore(coordinates);},function()
 {console.log('Location could not be determined');});}
 else
 {if($.cookie("preferredRetailer")==undefined){lat =$.cookie("location_lat");lng =$.cookie("location_long");coordinates =lat +','+ lng;setClosestStore(coordinates);}
 }
 }
 }
});$(document).ready(function() {if ($('.storelocator').length) {gmap ='';initData(true);dealerPopup();brandLogoPopup();destroyCustomSelect();mapSelect();refreshBrandsForCurrentCountry();$("#map_ajax_form").find('[name=countries]').change(function() {refreshBrandsForCurrentCountry();});$(document).on('submit','#map_ajax_form',function(e) {(e.preventDefault) ?e.preventDefault():e.returnValue =false;sendData('#map_ajax_form',false,true);getRecommendedStores();});$(document).on('click','.marker-show',function(e) {e.preventDefault();var isDisplayed =$(this).closest('.tooltip2').hasClass('hover');$('.tooltip2').removeClass('hover').find('.hide_content').hide();if(!isDisplayed) {$(this).closest('.tooltip2').addClass('hover').find('.hide_content').show();$(this).closest('.tooltip2').find('.hide_content a').click(function(e) {var target =this.hash;$target =$(target);e.preventDefault();var anchor =('a'+target);$('a.anchor').nextAll('.text-block').removeClass('active');$('a.anchor').prevAll('.text-block').removeClass('active');$('a'+target).next('.text-block').addClass('active');var cookie =$('.cookie_notification:visible').outerHeight();if(cookie ==null){cookie =0;}
 if((navigator.userAgent.match(/(iPhone|iPod|Android)/g))){
 addScroll =40+cookie;} if(!(navigator.userAgent.match(/(iPhone|iPod|Android)/g))){
 if ($(window).width() > 599) {addScroll =170+cookie;} else {addScroll =120+cookie;}
 }
 cookie =cookie + $('.page header').outerHeight();if ($(window).width() > 600) {$('html, body').stop().animate({'scrollTop':$target.offset().top-addScroll
 },900);}
 else {$('html, body').stop().animate({'scrollTop':$target.offset().top-addScroll
 },900);}
 });}
 var lng =$(this).data("lng");var lat =$(this).data("lat");var center =new google.maps.LatLng(lat,lng);gmap.panTo(center);});$('#map_ajax_form >#brands>div').click(function(sourceEvent) {var divs =$('#map_ajax_form >#brands>div').find("div:first");divs.removeClass("icon-check35");divs.addClass("checkboxArea");if($(this).find("input").is(":checked")) {var item =$(this).find("div:first");$(item).removeClass("checkboxArea");$(item).addClass("icon-check35");}
 });}
});function mapSelect() {$('.map_form header.checkSelector').click(function() {$(this).next($('.custom')).slideToggle(500);$(this).find('.closed').toggle();$(this).find('.opened').toggle();});}
function destroyCustomSelect(){if(!$("body").hasClass("mobile-device")){}
}
function refreshBrandsForCurrentCountry() {var select =$("#map_ajax_form").find('select[name=countries]');var countryCode =select.val().toLowerCase();if(countryCode =="at"||countryCode =="de"||countryCode =="ch"){$('input[id="JF"]').parent().hide();$('input[id="IP"]').parent().show();$('input[id="BW"]').parent().show();}else {$('input[id="JF"]').parent().show();$('input[id="IP"]').parent().hide();$('input[id="BW"]').parent().hide();}
 var cc =select.val();var option =select.find('option[value='+cc+']');var nopostalcode =option.data('nopostalcode');if(nopostalcode){$(".noPostalCode").hide();}else{$(".noPostalCode").show();}
}
var removePlzValidationError =function() {var _field =$("#map_ajax_form input[name='plz']").parents(".container");_field.removeClass("error");_field.find(".error-msg").text("");}
var adStoreMsg =function(data) {var _field =$("#map_ajax_form input[name='plz']").parents(".container");addStoreErrorMsg(data,_field);}
var addStoreErrorMsg =function(data,el) {el.addClass("error");el.find(".error-msg").text(data.message);}
var initData =function(submitForm) {var country =$("#map_ajax_form").find('[name=countries] > option:selected').text();var geocoder =new google.maps.Geocoder();gmap ='test';geocoder.geocode({'address':country},function(results,status) {if (status ==google.maps.GeocoderStatus.OK) {var location =results[0].geometry.location;_clng =location.lng();_clat =location.lat();gmap =GoMap.init(_clat,_clng,7);var postCode =$('#map_ajax_form').find('[name=plz]').val();if(submitForm &&postCode !='') {sendData('#map_ajax_form',false,true);getRecommendedStores();}
 } else {}
 });}
var GoMap ={init:function(lat,lng,zoom) {var initLocation =new google.maps.LatLng(lat,lng);var initMapOptions ={zoom:zoom,center:initLocation,mapTypeId:google.maps.MapTypeId.ROADMAP
 }
 var map =new google.maps.Map(document.getElementById("map"),initMapOptions);return map;},update:function(map,lat,lng,zoom) {map.setCenter(new google.maps.LatLng(lat,lng));map.setZoom(zoom);return map;}
}
 function sendData(form,init,flag) {var aData ={};aData['countryCode'] =$(form).find('select[name=countries]').val();aData['postCode'] =$(form).find('[name=plz]').val();var selectedBrand =$(form).find('#brands .icon-check35').parent().find('input');aData['brandCode'] =selectedBrand.length > 0 ?selectedBrand.val() :"";aData['productGroups'] =[];$(form).find('#productGroups').find('input:checked').each(function() {$checkbox =$(this);aData['productGroups'].push({name:$checkbox.val(),id:$checkbox.attr('id'),selected:true
 });});if (aData['countryCode'] !="test") {var url ="storelocatorDeutschland"} else {var url ="storelocator_other"};$.ajax({url:"storelocator/send",type:'POST',contentType:"application/json; charset=utf-8",data:JSON.stringify(aData),dataType:"json",beforeSend:function(){removePlzValidationError();if(flag){initLoad.load();}
 },success:function(res) {if(flag){initLoad.close();}
 if(res.validationError) {adStoreMsg(res);return;}else if(res.error) {$("#storelocatorError").show();return;} else {closeFilter('.map_wrapp');$("#storelocatorError").hide();toLocalStorage(res,init);}
 }
 });}
function closeFilter(parent) {$(parent).find('.selectboxit-top')
 .removeClass('selectboxit-open')
 .closest('.selectboxit-container-top')
 .removeClass('block-open');}
function toLocalStorage(data,init){var markers =data.points;var _caddress =data["country"]['title'];var _cid =data["country"]["id"];var _clat;var _clng;var _checkarr =[];if(!(localStorage.getItem(_cid))){var geocoder =new google.maps.Geocoder();geocoder.geocode({'address':_caddress},function(results,status) {if (status ==google.maps.GeocoderStatus.OK) {var location =results[0].geometry.location;_clng =location.lng();_clat =location.lat();localStorage.setItem(_cid,[_clat,_clng]);contLocal();} else {}
 });}
 else{contLocal();}
 function contLocal(){if(markers.length ==0) {renderStoreLocatorBrandsData(data,$("#storeContainer"));initData();return;}
 for (var i =markers.length - 1;i >=0;i--) {(function(i) {var _id =markers[i].id;var _address =markers[i].tooltip.address.split("<br />").join();markers[i].unknown =false;if(localStorage.getItem(_id)){markers[i].lat =localStorage.getItem(_id).split(",")[0];markers[i].lng =localStorage.getItem(_id).split(",")[1];_checkarr.push("1");if (_checkarr.length ==markers.length) {setData(data,init);}
 }
 else{var getAddress =function() {initLoad.load();var geocoder =new google.maps.Geocoder();geocoder.geocode({'address':_address.split(" ").join("+")},function(results,status) {if (status ==google.maps.GeocoderStatus.OK) {var location =results[0].geometry.location;_clng =location.lng();_clat =location.lat();localStorage.setItem(_id,[_clat,_clng]);markers[i].lat =_clat;markers[i].lng =_clng;_checkarr.push("1");} else if (status ==='OVER_QUERY_LIMIT') {setTimeout(function () {getAddress();},2000);} else {_checkarr.push("1");markers[i].unknown =true;}
 if (_checkarr.length ==markers.length) {initLoad.close();setData(data,init);}
 });}
 getAddress();}
 })(i);}
 }
}
function setData(data,init) {var _cid =data["country"]['id'];var _clat =localStorage.getItem(_cid).split(",")[0];var _clng =localStorage.getItem(_cid).split(",")[1];gmap =GoMap.init(_clat,_clng,data["country"]['zoom']);var bounds =new google.maps.LatLngBounds();setDealerIcons(data);if (!init) {var markers =data.points,markersOptions ={disableAutoPan:true,pixelOffset:new google.maps.Size(-25,0),closeBoxURL:"",alignBottom:true,isHidden:false,pane:"floatPane",enableEventPropagation:true,boxStyle:{},boxClass:'tooltip2'};for (var i =markers.length - 1;i >=0;i--) {if(markers[i].unknown) {continue;}
 function scrollTo(hash) {location.hash ="#"+ hash;}
 (function(i) {var logo ="";var headerLogo ="";var markerClass ="marker-icon ";var _address =markers[i].tooltip.address.split("<br />").join();var _id =markers[i].id;var _lat =localStorage.getItem(_id).split(",")[0];var _lng =localStorage.getItem(_id).split(",")[1];if (markers[i]['tooltip']['icon']) {logo ="<span class='logo "+ markers[i]['tooltip']['icon'] + "'></span>";headerLogo =logo;} else if (markers[i]['tooltip']['img']) {markerClass +=" img-logo";logo ="<span class='logo img-logo'><img src='"+ markers[i]['tooltip']['img'] + "' /></span>";headerLogo =logo;}
 if (markers[i]['tooltip']['imgMap']) {markerClass +=" img-logo";headerLogo ="<span class='logo img-logo'><img src='"+ markers[i]['tooltip']['imgMap'] + "' /></span>";};var showMoreLabel =$("#showMoreLabel").html();markersOptions['content'] ="<div class='markwrap "+ markers[i]['tooltip']['colorClass'] + "'><div class='hide_content'>"+ headerLogo + "<section><header>"+ markers[i]['tooltip']['title'] + "</header>"+ "<p>"+ markers[i]['tooltip']['storeinfo'][1] + "</p>"+ "<p>"+ markers[i]['tooltip']['storeinfo'][2] + "<br /><a href='#"+ markers[i]['id'] + "'>&raquo; "+ showMoreLabel + "</a></p>"+ "</section></div></div>";markersOptions['content'] +="<div data-lat='"+_lat+"' data-lng='"+_lng+"' class='marker-show "+ markers[i]['tooltip']['colorClass'] + "'><div class='"+ markerClass + "'>"+ logo + "</div></div>";markersOptions['position'] =new google.maps.LatLng(_lat,_lng);bounds.extend(markersOptions['position']);var ibLabel =new InfoBox(markersOptions);ibLabel.open(gmap);})(i);}
 gmap.fitBounds(bounds);if(markers.length ==1) {gmap.setZoom(16);}
 }
 renderStoreLocatorBrandsData(data,$("#storeContainer"));}
function setDealerIcons(data) {for (var i =data['points'].length - 1;i >=0;i--) {data['points'][i]['icon'] ='';if (data['points'][i]["tooltip"]["icon"]) {data['points'][i]['icon'] ='<span class="'+ data['points'][i]["tooltip"]["icon"] + '"></span>';} else if (data['points'][i]["tooltip"]["img"]) {data['points'][i]['icon'] ='<img src="'+ data['points'][i]["tooltip"]["img"] + '" alt=""> ';};};}
function dealerPopup(){$("body").on("mouseenter",".brends .left-icon, .legend .icon",function(){$(this).parents(".parent").find(".icon .store-popup").addClass("opened");$(this).parents(".parent").find(".left-icon .store-popup").addClass("opened");});$("body").on("mouseleave",".brends .left-icon, .legend .icon",function(){$(this).parents(".parent").find(".icon .store-popup").removeClass("opened");$(this).parents(".parent").find(".left-icon .store-popup").removeClass("opened");});$("body").on("touchend",".brends .left-icon, .legend .icon",function(){if($(this).parents(".parent").find(".store-popup").hasClass("opened")){$(".store-popup").removeClass("opened");$(this).parents(".parent").find(".store-popup").removeClass("opened");}
 else{$(".store-popup").removeClass("opened");$(this).parents(".parent").find(".store-popup").addClass("opened");}
 });}
function dealerPopupText(){var _popup =$(".left-icon .store-popup .popup-wrapper");var _item =$(".brends .col-item");var _legend =$(".legend li");_item.each(function(){var _class =$(this).find(".left-icon span").attr("class");var _text;if ($(this).find(".left-icon").hasClass("orange-marker")){_text =$(".legend .orange2").parents("li").find(".popup-wrapper").html();}
 else{_legend.each(function(){if(!($(this).find("span").hasClass("orange2"))){var _lclass =$(this).find("span").attr("class").split(" ")[1];if(_lclass ==_class){_text =$(this).find(".popup-wrapper").html();}
 }
 });}
 $(this).find(_popup).html(_text);});}
function brandLogoPopup(){$("body").on("mouseenter",".brends .logos .square .table-cell .symbolfont",function(){$(".storelocator .such-item section.logos .square").css("overflow","visible");$(".storelocator .such-item section.logos").css("overflow","visible");$(this).parent().find(".store-popup").addClass("opened");});$("body").on("mouseleave",".brends .logos .square .table-cell .symbolfont",function(){$(this).parent().find(".store-popup").removeClass("opened");});$("body").on("touchend",".brends .logos .square .table-cell .symbolfont",function(){if($(this).parent().find(".store-popup").hasClass("opened")){$(".store-popup").removeClass("opened");$(this).parent().find(".store-popup").removeClass("opened");}
 else{$(".store-popup").removeClass("opened");$(".storelocator .such-item section.logos .square").css("overflow","visible");$(".storelocator .such-item section.logos").css("overflow","visible");$(this).parent().find(".store-popup").addClass("opened");}
});}
function renderStoreLocatorBrandsData(data,storeContainer) {var sidebarTmp =Handlebars.compile($(".storelocator #brends").html());storeContainer.html(sidebarTmp(data));$('.col-item .text-block',storeContainer).matchHeight();dealerPopupText();storeContainer.imagesLoaded()
 .done(function() {setTimeout(function(){if($('.col-item',storeContainer).size() ==1 ) {$('.col-item',storeContainer).first().height($('.col-item',storeContainer).first().height());} else {$('.col-item',storeContainer).matchHeight();}
 },500);});}
function getRecommendedStores() {var form =$("#map_ajax_form");var postalCode =$("input[name=plz]",form).val();var country =$("[name=countries] > option:selected",form).val();var countryName =$("[name=countries] > option:selected",form).text();var searchQuery =postalCode ?postalCode :countryName;var geocoder =new google.maps.Geocoder();geocoder.geocode({address:searchQuery,region:country,componentRestrictions:{country:country,postalCode:postalCode
 }},function(results,status) {if (status =='OK') {var lat =results[0].geometry.location.lat();var lng =results[0].geometry.location.lng();$.ajax({url:"storelocator/getRecommendedStores",type:'GET',contentType:"application/json; charset=utf-8",data:{lat:lat,lng:lng,countryCode:country},success:function(data)
 {if (data.points.length > 0){$("#recommendedStores").parent().removeClass("hidden");setDealerIcons(data);renderStoreLocatorBrandsData(data,$("#recommendedStores"));} else {$("#recommendedStores").parent().addClass("hidden");}
 }
 });} else {$("#recommendedStores").parent().addClass("hidden");}
 });}
$(document).ready(function() {if ($('#minicart').length) {loadMiniCart('cart/minicartjson','#minicart',updateMiniCart)
 }
 if($("body").hasClass("cart-page")){initFormSubmit();toggleInfo();}
 if(typeof(hasPersistedReservationCart) !="undefined"&&hasPersistedReservationCart){$("#loadReservationCartOnLoginModaal").modaal({start_open:true,width:window.innerWidth / 2,is_locked:true,});if(window.screen.width < 600)
 $(".modaal-container").css("max-width","100%");else
 $(".modaal-container").css("max-width","50%");}
});function initFormSubmit() {var counter =0;var lastTriggered;var updateQuantity =function(element) {if (new Date() - lastTriggered < 500)
 return;lastTriggered =new Date();var entryNumber =$(element).attr("id");window.location.href ="cart/setentry?entryNumber="+entryNumber+"&qty="+$(element).val();};$(".order-table .menge input:text").on("blur",function(e) {updateQuantity(this);}).on("keyup",function(e) {if (e.which ===13)
 {updateQuantity(this);}
 });var amounts =[];$(".order-table .menge input:text").each(function(element){amounts.push($(this).val());});$(".order-table .btn-submit").on("click",function(element) {element.preventDefault();var i =0;var href =$("base").attr("href") + $(this).attr("href");$(".order-table .menge input:text").each(function(element){if($(this).val() !=amounts[i]) {href ="cart/setEntry?entryNumber="+$(this).attr("id")+"&qty="+$(this).val();} i++;});if (new Date() - lastTriggered < 500)
 return;lastTriggered =new Date();window.location.href =href;});}
function loadMiniCart(url,parent,callback) {var aData ={};if ($(parent).attr('resultsNew')) {var resultsNew =$(parent).attr('resultsNew');} else {var resultsNew =5;$(parent).attr({'resultsNew':resultsNew
 });}
 ;aData['resultsNew'] =resultsNew;aData['resultsDisplayed'] =0;$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:url,crossDomain:true,data:aData,beforeSend:function () {$('#wait').show();},complete:function () {$('#wait').hide();},success:function (data) {callback(data,parent)
 },error:function (result) {}
 });}
var updateMiniCart =function (data,parent) {if (data &&parent) {$(parent).attr({'resultsNew':data.resultsNew
 });$(parent).find('#minicartHeader').html(data.headerText);if (data.resultCount > 0) {$('#miniCartCounter').html(' ('+ data.resultCount + ')');} else {$('#miniCartCounter').html('');}
 var productsTmp =Handlebars.compile($(parent).find('#cart').html());$(parent).find('.cart').html(productsTmp(data));}
}
var toggleInfo =function() {$('.toggle').on('click',function () {$(this).parent().next('ul.configdetails').slideToggle();$(this).toggleClass('open');$(this).parents().nextAll('tr').find('ul.configdetails').slideUp();$(this).parents().prevAll('tr').find('ul.configdetails').slideUp();$(this).parents().nextAll('tr').find('.toggle').removeClass('open');$(this).parents().prevAll('tr').find('.toggle').removeClass('open');});}
$(window).on('resize',function(e) {var resizeTimer;clearTimeout(resizeTimer);resizeTimer =setTimeout(function() {if ($(window).width() > 600) {$('ul.configdetails').css('display','block');}
 else {$('ul.configdetails').css('display','none');$('.toggle').removeClass('open');}
 },250);});$(document).ready(function(){if($("body").hasClass("checkout-delivery-page")){var mode =$(":input[id='mode']").val();if(mode =='add'){$(".default-address").hide();$(".new-address").show();}else if(mode =='existing'){$(".new-address").hide();}else if(mode =='select'){$(".new-address").hide();}
 changeAddress();if ($('#addressForm').data('has-errors') ===true)
 {$('.address-block').hide();$('.new-address').show();}
 else if ($('#addressForm').data('has-sap-errors') ===true)
 {$('input#mode').val('select');}
 }
});function changeAddress(){$('.btn-address-book').on('click',function(){$('input#mode').val('select');$('.address-block').hide();$('.address-book').show();return false;});$('.btn-new-address').on('click',function(){var mode =$(":input[id='mode']").val();if(mode ==null ||mode !='add'||typeof(isReservation) !="undefined"&&!isReservation){$("#company").val(null);$("#title").val(null);$("#firstName").val(null);$("#lastName").val(null);$("#street").val(null);$("#streetNumber").val(null);$("#postal").val(null);$("#city").val(null);}
 $('input#mode').val('add');$('.address-block').hide();$('.new-address').show();if(typeof(isReservation) !="undefined"&&isReservation)
 $('.btn-address-book').hide();return false;});$('.btn-new-address-cancel').on('click',function () {$('input#mode').val('existing');$('.address-block').show();$('.address-book').hide();$('.new-address').hide();return false;});}
(function(){$('.js-country-select').on('change',function(){preloader.appendOverlay();var countryIso =$(this).val();$.ajax({url:window.location.href + '/regions/'+ countryIso,success:function(data){emptyRegions();$(data).each(function(){var name =this.name;var isocode =this.isocode;$(".js-region-select").data("selectBox-selectBoxIt").add({ value: isocode, text: name });});preloader.destroyOverlay();},error:function(data){emptyRegions();preloader.destroyOverlay();}
 })
 });function emptyRegions(){$(".js-region-select").data("selectBox-selectBoxIt").remove();}
})();(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else if(typeof module!=="undefined"&&module.exports){module.exports=factory;}else{factory(jQuery,window,document);}
}(function($){(function(init){var _rjs=typeof define==="function"&&define.amd,_njs=typeof module !=="undefined"&&module.exports,_dlp=("https:"==document.location.protocol) ?"https:":"http:",_url="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";if(!_rjs){if(_njs){require("jquery-mousewheel")($);}else{$.event.special.mousewheel ||$("head").append(decodeURI("%3Cscript src="+_dlp+"//"+_url+"%3E%3C/script%3E"));}
}
init();}(function(){var pluginNS="mCustomScrollbar",pluginPfx="mCS",defaultSelector=".mCustomScrollbar",defaults={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:true,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:true,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]
},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"
},
/* 
keyboard scrolling
*/
keyboard:{ 
/*
enable scrolling via keyboard
values: boolean
*/
enable:true,
/*
keyboard scrolling type 
values (string): "stepless", "stepped"
*/
scrollType:"stepless",
/*
scrolling amount in pixels
values: "auto", integer 
*/
scrollAmount:"auto"
},
/*
enable content touch-swipe scrolling 
values: boolean, integer, string (number)
integer values define the axis-specific minimum amount required for scrolling momentum
*/
contentTouchScroll:25,
/*
enable/disable document (default) touch-swipe scrolling 
*/
documentTouchScroll:true,
/*
advanced option parameters
*/
advanced:{
/*
auto-expand content horizontally (for "x" or "yx" axis) 
values: boolean, integer (the value 2 forces the non scrollHeight/scrollWidth method, the value 3 forces the scrollHeight/scrollWidth method)
optiondefault
-------------------------------------
autoExpandHorizontalScrollnull
*/
/*
auto-scroll to elements with focus
*/
autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
/*
auto-update scrollbars on content, element or viewport resize 
should be true for fluid layouts/elements, adding/removing content dynamically, hiding/showing elements, content with images etc. 
values: boolean
*/
updateOnContentResize:true,
/*
auto-update scrollbars each time each image inside the element is fully loaded 
values: "auto", boolean
*/
updateOnImageLoad:"auto",
/*
auto-update scrollbars based on the amount and size changes of specific selectors 
useful when you need to update the scrollbar(s) automatically, each time a type of element is added, removed or changes its size 
values: boolean, string (e.g. "ul li" will auto-update scrollbars each time list-items inside the element are changed) 
a value of true (boolean) will auto-update scrollbars each time any element is changed
optiondefault
-------------------------------------
updateOnSelectorChangenull
*/
/*
extra selectors that'll allow scrollbar dragging upon mousemove/up, pointermove/up, touchend etc. (e.g. "selector-1,selector-2")
optiondefault
-------------------------------------
extraDraggableSelectorsnull
*/
/*
extra selectors that'll release scrollbar dragging upon mouseup, pointerup, touchend etc. (e.g. "selector-1,selector-2")
optiondefault
-------------------------------------
releaseDraggableSelectorsnull
*/
/*
auto-update timeout 
values: integer (milliseconds)
*/
autoUpdateTimeout:60
},
/* 
scrollbar theme 
values: string (see CSS/plugin URI for a list of ready-to-use themes)
*/
theme:"light",
/*
user defined callback functions
*/
callbacks:{
/*
Available callbacks: 
callbackdefault
-------------------------------------
onCreatenull
onInitnull
onScrollStartnull
onScrollnull
onTotalScrollnull
onTotalScrollBacknull
whileScrollingnull
onOverflowYnull
onOverflowXnull
onOverflowYNonenull
onOverflowXNonenull
onImageLoadnull
onSelectorChangenull
onBeforeUpdatenull
onUpdatenull
*/
onTotalScrollOffset:0,
onTotalScrollBackOffset:0,
alwaysTriggerOffsets:true
}
/*
add scrollbar(s) on all elements matching the current selector, now and in the future 
values: boolean, string 
string values: "on" (enable), "once" (disable after first invocation), "off" (disable)
liveSelector values: string (selector)
optiondefault
-------------------------------------
livefalse
liveSelectornull
*/
},





/* 
----------------------------------------
VARS, CONSTANTS 
----------------------------------------
*/

totalInstances=0, /* plugin instances amount */
liveTimers={}, /* live option timers */
oldIE=(window.attachEvent && !window.addEventListener) ? 1 : 0, /* detect IE < 9 */
touchActive=false,touchable, /* global touch vars (for touch and pointer events) */
/* general plugin classes */
classes=[
"mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar",
"mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer",
"mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"
],





/* 
----------------------------------------
METHODS 
----------------------------------------
*/

methods={

/* 
plugin initialization method 
creates the scrollbar(s), plugin data object and options
----------------------------------------
*/

init:function(options){

var options=$.extend(true,{},defaults,options),
selector=_selector.call(this); /* validate selector */

/* 
if live option is enabled, monitor for elements matching the current selector and 
apply scrollbar(s) when found (now and in the future) 
*/
if(options.live){
var liveSelector=options.liveSelector || this.selector || defaultSelector, /* live selector(s) */
$liveSelector=$(liveSelector); /* live selector(s) as jquery object */
if(options.live==="off"){
/* 
disable live if requested 
usage: $(selector).mCustomScrollbar({live:"off"}); 
*/
removeLiveTimers(liveSelector);
return;
}
liveTimers[liveSelector]=setTimeout(function(){
/* call mCustomScrollbar fn on live selector(s) every half-second */
$liveSelector.mCustomScrollbar(options);
if(options.live==="once" && $liveSelector.length){
/* disable live after first invocation */
removeLiveTimers(liveSelector);
}
},500);
}else{
removeLiveTimers(liveSelector);
}

/* options backward compatibility (for versions < 3.0.0) and normalization */
options.setWidth=(options.set_width) ? options.set_width : options.setWidth;
options.setHeight=(options.set_height) ? options.set_height : options.setHeight;
options.axis=(options.horizontalScroll) ? "x" : _findAxis(options.axis);
options.scrollInertia=options.scrollInertia>0 && options.scrollInertia<17 ? 17 : options.scrollInertia;
if(typeof options.mouseWheel!=="object" &&  options.mouseWheel==true){ /* old school mouseWheel option (non-object) */
options.mouseWheel={enable:true,scrollAmount:"auto",axis:"y",preventDefault:false,deltaFactor:"auto",normalizeDelta:false,invert:false}
}
options.mouseWheel.scrollAmount=!options.mouseWheelPixels ? options.mouseWheel.scrollAmount : options.mouseWheelPixels;
options.mouseWheel.normalizeDelta=!options.advanced.normalizeMouseWheelDelta ? options.mouseWheel.normalizeDelta : options.advanced.normalizeMouseWheelDelta;
options.scrollButtons.scrollType=_findScrollButtonsType(options.scrollButtons.scrollType); 

_theme(options); /* theme-specific options */

/* plugin constructor */
return $(selector).each(function(){

var $this=$(this);

if(!$this.data(pluginPfx)){ /* prevent multiple instantiations */

/* store options and create objects in jquery data */
$this.data(pluginPfx,{
idx:++totalInstances, /* instance index */
opt:options, /* options */
scrollRatio:{y:null,x:null}, /* scrollbar to content ratio */
overflowed:null, /* overflowed axis */
contentReset:{y:null,x:null}, /* object to check when content resets */
bindEvents:false, /* object to check if events are bound */
tweenRunning:false, /* object to check if tween is running */
sequential:{}, /* sequential scrolling object */
langDir:$this.css("direction"), /* detect/store direction (ltr or rtl) */
cbOffsets:null, /* object to check whether callback offsets always trigger */
/* 
object to check how scrolling events where last triggered 
"internal" (default - triggered by this script), "external" (triggered by other scripts, e.g. via scrollTo method) 
usage: object.data("mCS").trigger
*/
trigger:null,
/* 
object to check for changes in elements in order to call the update method automatically 
*/
poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}
});

var d=$this.data(pluginPfx),o=d.opt,
/* HTML data attributes */
htmlDataAxis=$this.data("mcs-axis"),htmlDataSbPos=$this.data("mcs-scrollbar-position"),htmlDataTheme=$this.data("mcs-theme");
 
if(htmlDataAxis){o.axis=htmlDataAxis;} /* usage example: data-mcs-axis="y" */
if(htmlDataSbPos){o.scrollbarPosition=htmlDataSbPos;} /* usage example: data-mcs-scrollbar-position="outside" */
if(htmlDataTheme){ /* usage example: data-mcs-theme="minimal" */
o.theme=htmlDataTheme;
_theme(o); /* theme-specific options */
}

_pluginMarkup.call(this); /* add plugin markup */

if(d && o.callbacks.onCreate && typeof o.callbacks.onCreate==="function"){o.callbacks.onCreate.call(this);} /* callbacks: onCreate */

$("#mCSB_"+d.idx+"_container img:not(."+classes[2]+")").addClass(classes[2]); /* flag loaded images */

methods.update.call(null,$this); /* call the update method */

}

});

},
/* ---------------------------------------- */



/* 
plugin update method 
updates content and scrollbar(s) values, events and status 
----------------------------------------
usage: $(selector).mCustomScrollbar("update");
*/

update:function(el,cb){

var selector=el || _selector.call(this); /* validate selector */

return $(selector).each(function(){

var $this=$(this);

if($this.data(pluginPfx)){ /* check if plugin has initialized */

var d=$this.data(pluginPfx),o=d.opt,
mCSB_container=$("#mCSB_"+d.idx+"_container"),
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")];

if(!mCSB_container.length){return;}

if(d.tweenRunning){_stop($this);} /* stop any running tweens while updating */

if(cb && d && o.callbacks.onBeforeUpdate && typeof o.callbacks.onBeforeUpdate==="function"){o.callbacks.onBeforeUpdate.call(this);} /* callbacks: onBeforeUpdate */

/* if element was disabled or destroyed, remove class(es) */
if($this.hasClass(classes[3])){$this.removeClass(classes[3]);}
if($this.hasClass(classes[4])){$this.removeClass(classes[4]);}

/* css flexbox fix, detect/set max-height */
mCustomScrollBox.css("max-height","none");
if(mCustomScrollBox.height()!==$this.height()){mCustomScrollBox.css("max-height",$this.height());}

_expandContentHorizontally.call(this); /* expand content horizontally */

if(o.axis!=="y" && !o.advanced.autoExpandHorizontalScroll){
mCSB_container.css("width",_contentWidth(mCSB_container));
}

d.overflowed=_overflowed.call(this); /* determine if scrolling is required */

_scrollbarVisibility.call(this); /* show/hide scrollbar(s) */

/* auto-adjust scrollbar dragger length analogous to content */
if(o.autoDraggerLength){_setDraggerLength.call(this);}

_scrollRatio.call(this); /* calculate and store scrollbar to content ratio */

_bindEvents.call(this); /* bind scrollbar events */

/* reset scrolling position and/or events */
var to=[Math.abs(mCSB_container[0].offsetTop),Math.abs(mCSB_container[0].offsetLeft)];
if(o.axis!=="x"){ /* y/yx axis */
if(!d.overflowed[0]){ /* y scrolling is not required */
_resetContentPosition.call(this); /* reset content position */
if(o.axis==="y"){
_unbindEvents.call(this);
}else if(o.axis==="yx" && d.overflowed[1]){
_scrollTo($this,to[1].toString(),{dir:"x",dur:0,overwrite:"none"});
}
}else if(mCSB_dragger[0].height()>mCSB_dragger[0].parent().height()){
_resetContentPosition.call(this); /* reset content position */
}else{ /* y scrolling is required */
_scrollTo($this,to[0].toString(),{dir:"y",dur:0,overwrite:"none"});
d.contentReset.y=null;
}
}
if(o.axis!=="y"){ /* x/yx axis */
if(!d.overflowed[1]){ /* x scrolling is not required */
_resetContentPosition.call(this); /* reset content position */
if(o.axis==="x"){
_unbindEvents.call(this);
}else if(o.axis==="yx" && d.overflowed[0]){
_scrollTo($this,to[0].toString(),{dir:"y",dur:0,overwrite:"none"});
}
}else if(mCSB_dragger[1].width()>mCSB_dragger[1].parent().width()){
_resetContentPosition.call(this); /* reset content position */
}else{ /* x scrolling is required */
_scrollTo($this,to[1].toString(),{dir:"x",dur:0,overwrite:"none"});
d.contentReset.x=null;
}
}

/* callbacks: onImageLoad, onSelectorChange, onUpdate */
if(cb && d){
if(cb===2 && o.callbacks.onImageLoad && typeof o.callbacks.onImageLoad==="function"){
o.callbacks.onImageLoad.call(this);
}else if(cb===3 && o.callbacks.onSelectorChange && typeof o.callbacks.onSelectorChange==="function"){
o.callbacks.onSelectorChange.call(this);
}else if(o.callbacks.onUpdate && typeof o.callbacks.onUpdate==="function"){
o.callbacks.onUpdate.call(this);
}
}

_autoUpdate.call(this); /* initialize automatic updating (for dynamic content, fluid layouts etc.) */

}

});

},
/* ---------------------------------------- */



/* 
plugin scrollTo method 
triggers a scrolling event to a specific value
----------------------------------------
usage: $(selector).mCustomScrollbar("scrollTo",value,options);
*/

scrollTo:function(val,options){

/* prevent silly things like $(selector).mCustomScrollbar("scrollTo",undefined); */
if(typeof val=="undefined" || val==null){return;}

var selector=_selector.call(this); /* validate selector */

return $(selector).each(function(){

var $this=$(this);

if($this.data(pluginPfx)){ /* check if plugin has initialized */

var d=$this.data(pluginPfx),o=d.opt,
/* method default options */
methodDefaults={
trigger:"external", /* method is by default triggered externally (e.g. from other scripts) */
scrollInertia:o.scrollInertia, /* scrolling inertia (animation duration) */
scrollEasing:"mcsEaseInOut", /* animation easing */
moveDragger:false, /* move dragger instead of content */
timeout:60, /* scroll-to delay */
callbacks:true, /* enable/disable callbacks */
onStart:true,
onUpdate:true,
onComplete:true
},
methodOptions=$.extend(true,{},methodDefaults,options),
to=_arr.call(this,val),dur=methodOptions.scrollInertia>0 && methodOptions.scrollInertia<17 ? 17 : methodOptions.scrollInertia;

/* translate yx values to actual scroll-to positions */
to[0]=_to.call(this,to[0],"y");
to[1]=_to.call(this,to[1],"x");

/* 
check if scroll-to value moves the dragger instead of content. 
Only pixel values apply on dragger (e.g. 100, "100px", "-=100" etc.) 
*/
if(methodOptions.moveDragger){
to[0]*=d.scrollRatio.y;
to[1]*=d.scrollRatio.x;
}

methodOptions.dur=_isTabHidden() ? 0 : dur; //skip animations if browser tab is hidden

setTimeout(function(){ 
/* do the scrolling */
if(to[0]!==null && typeof to[0]!=="undefined" && o.axis!=="x" && d.overflowed[0]){ /* scroll y */
methodOptions.dir="y";
methodOptions.overwrite="all";
_scrollTo($this,to[0].toString(),methodOptions);
}
if(to[1]!==null && typeof to[1]!=="undefined" && o.axis!=="y" && d.overflowed[1]){ /* scroll x */
methodOptions.dir="x";
methodOptions.overwrite="none";
_scrollTo($this,to[1].toString(),methodOptions);
}
},methodOptions.timeout);

}

});

},
/* ---------------------------------------- */



/*
plugin stop method 
stops scrolling animation
----------------------------------------
usage: $(selector).mCustomScrollbar("stop");
*/
stop:function(){

var selector=_selector.call(this); /* validate selector */

return $(selector).each(function(){

var $this=$(this);

if($this.data(pluginPfx)){ /* check if plugin has initialized */

_stop($this);

}

});

},
/* ---------------------------------------- */



/*
plugin disable method 
temporarily disables the scrollbar(s) 
----------------------------------------
usage: $(selector).mCustomScrollbar("disable",reset); 
reset (boolean): resets content position to 0 
*/
disable:function(r){

var selector=_selector.call(this); /* validate selector */

return $(selector).each(function(){

var $this=$(this);

if($this.data(pluginPfx)){ /* check if plugin has initialized */

var d=$this.data(pluginPfx);

_autoUpdate.call(this,"remove"); /* remove automatic updating */

_unbindEvents.call(this); /* unbind events */

if(r){_resetContentPosition.call(this);} /* reset content position */

_scrollbarVisibility.call(this,true); /* show/hide scrollbar(s) */

$this.addClass(classes[3]); /* add disable class */

}

});

},
/* ---------------------------------------- */



/*
plugin destroy method 
completely removes the scrollbar(s) and returns the element to its original state
----------------------------------------
usage: $(selector).mCustomScrollbar("destroy"); 
*/
destroy:function(){

var selector=_selector.call(this); /* validate selector */

return $(selector).each(function(){

var $this=$(this);

if($this.data(pluginPfx)){ /* check if plugin has initialized */

var d=$this.data(pluginPfx),o=d.opt,
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_container=$("#mCSB_"+d.idx+"_container"),
scrollbar=$(".mCSB_"+d.idx+"_scrollbar");

if(o.live){removeLiveTimers(o.liveSelector || $(selector).selector);} /* remove live timers */

_autoUpdate.call(this,"remove"); /* remove automatic updating */

_unbindEvents.call(this); /* unbind events */

_resetContentPosition.call(this); /* reset content position */

$this.removeData(pluginPfx); /* remove plugin data object */

_delete(this,"mcs"); /* delete callbacks object */

/* remove plugin markup */
scrollbar.remove(); /* remove scrollbar(s) first (those can be either inside or outside plugin's inner wrapper) */
mCSB_container.find("img."+classes[2]).removeClass(classes[2]); /* remove loaded images flag */
mCustomScrollBox.replaceWith(mCSB_container.contents()); /* replace plugin's inner wrapper with the original content */
/* remove plugin classes from the element and add destroy class */
$this.removeClass(pluginNS+"_"+pluginPfx+"_"+d.idx+""+classes[6]+""+classes[7]+""+classes[5]+""+classes[3]).addClass(classes[4]);

}

});

}
/* ---------------------------------------- */

},





/* 
----------------------------------------
FUNCTIONS
----------------------------------------
*/

/* validates selector (if selector is invalid or undefined uses the default one) */
_selector=function(){
return (typeof $(this)!=="object" || $(this).length<1) ? defaultSelector : this;
},
/* -------------------- */


/* changes options according to theme */
_theme=function(obj){
var fixedSizeScrollbarThemes=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],
nonExpandedScrollbarThemes=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],
disabledScrollButtonsThemes=["minimal","minimal-dark"],
enabledAutoHideScrollbarThemes=["minimal","minimal-dark"],
scrollbarPositionOutsideThemes=["minimal","minimal-dark"];
obj.autoDraggerLength=$.inArray(obj.theme,fixedSizeScrollbarThemes) > -1 ? false : obj.autoDraggerLength;
obj.autoExpandScrollbar=$.inArray(obj.theme,nonExpandedScrollbarThemes) > -1 ? false : obj.autoExpandScrollbar;
obj.scrollButtons.enable=$.inArray(obj.theme,disabledScrollButtonsThemes) > -1 ? false : obj.scrollButtons.enable;
obj.autoHideScrollbar=$.inArray(obj.theme,enabledAutoHideScrollbarThemes) > -1 ? true : obj.autoHideScrollbar;
obj.scrollbarPosition=$.inArray(obj.theme,scrollbarPositionOutsideThemes) > -1 ? "outside" : obj.scrollbarPosition;
},
/* -------------------- */


/* live option timers removal */
removeLiveTimers=function(selector){
if(liveTimers[selector]){
clearTimeout(liveTimers[selector]);
_delete(liveTimers,selector);
}
},
/* -------------------- */


/* normalizes axis option to valid values: "y", "x", "yx" */
_findAxis=function(val){
return (val==="yx" || val==="xy" || val==="auto") ? "yx" : (val==="x" || val==="horizontal") ? "x" : "y";
},
/* -------------------- */


/* normalizes scrollButtons.scrollType option to valid values: "stepless", "stepped" */
_findScrollButtonsType=function(val){
return (val==="stepped" || val==="pixels" || val==="step" || val==="click") ? "stepped" : "stepless";
},
/* -------------------- */


/* generates plugin markup */
_pluginMarkup=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
expandClass=o.autoExpandScrollbar ? ""+classes[1]+"_expand" : "",
scrollbar=["<div id='mCSB_"+d.idx+"_scrollbar_vertical'class='mCSB_scrollTools mCSB_"+d.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_vertical"+expandClass+"'><div class='"+classes[12]+"'><div id='mCSB_"+d.idx+"_dragger_vertical'class='mCSB_dragger'style='position:absolute;'><div class='mCSB_dragger_bar'/></div><div class='mCSB_draggerRail'/></div></div>","<div id='mCSB_"+d.idx+"_scrollbar_horizontal'class='mCSB_scrollTools mCSB_"+d.idx+"_scrollbar mCS-"+o.theme+" mCSB_scrollTools_horizontal"+expandClass+"'><div class='"+classes[12]+"'><div id='mCSB_"+d.idx+"_dragger_horizontal'class='mCSB_dragger'style='position:absolute;'><div class='mCSB_dragger_bar'/></div><div class='mCSB_draggerRail'/></div></div>"],
wrapperClass=o.axis==="yx" ? "mCSB_vertical_horizontal" : o.axis==="x" ? "mCSB_horizontal" : "mCSB_vertical",
scrollbars=o.axis==="yx" ? scrollbar[0]+scrollbar[1] : o.axis==="x" ? scrollbar[1] : scrollbar[0],
contentWrapper=o.axis==="yx" ? "<div id='mCSB_"+d.idx+"_container_wrapper'class='mCSB_container_wrapper'/>" : "",
autoHideClass=o.autoHideScrollbar ? ""+classes[6] : "",
scrollbarDirClass=(o.axis!=="x" && d.langDir==="rtl") ? ""+classes[7] : "";
if(o.setWidth){$this.css("width",o.setWidth);} /* set element width */
if(o.setHeight){$this.css("height",o.setHeight);} /* set element height */
o.setLeft=(o.axis!=="y" && d.langDir==="rtl") ? "989999px" : o.setLeft; /* adjust left position for rtl direction */
$this.addClass(pluginNS+"_"+pluginPfx+"_"+d.idx+autoHideClass+scrollbarDirClass).wrapInner("<div id='mCSB_"+d.idx+"'class='mCustomScrollBox mCS-"+o.theme+" "+wrapperClass+"'><div id='mCSB_"+d.idx+"_container'class='mCSB_container'style='position:relative; top:"+o.setTop+"; left:"+o.setLeft+";'dir='"+d.langDir+"'/></div>");
var mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_container=$("#mCSB_"+d.idx+"_container");
if(o.axis!=="y" && !o.advanced.autoExpandHorizontalScroll){
mCSB_container.css("width",_contentWidth(mCSB_container));
}
if(o.scrollbarPosition==="outside"){
if($this.css("position")==="static"){ /* requires elements with non-static position */
$this.css("position","relative");
}
$this.css("overflow","visible");
mCustomScrollBox.addClass("mCSB_outside").after(scrollbars);
}else{
mCustomScrollBox.addClass("mCSB_inside").append(scrollbars);
mCSB_container.wrap(contentWrapper);
}
_scrollButtons.call(this); /* add scrollbar buttons */
/* minimum dragger length */
var mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")];
mCSB_dragger[0].css("min-height",mCSB_dragger[0].height());
mCSB_dragger[1].css("min-width",mCSB_dragger[1].width());
},
/* -------------------- */


/* calculates content width */
_contentWidth=function(el){
var val=[el[0].scrollWidth,Math.max.apply(Math,el.children().map(function(){return $(this).outerWidth(true);}).get())],w=el.parent().width();
return val[0]>w ? val[0] : val[1]>w ? val[1] : "100%";
},
/* -------------------- */


/* expands content horizontally */
_expandContentHorizontally=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
mCSB_container=$("#mCSB_"+d.idx+"_container");
if(o.advanced.autoExpandHorizontalScroll && o.axis!=="y"){
/* calculate scrollWidth */
mCSB_container.css({"width":"auto","min-width":0,"overflow-x":"scroll"});
var w=Math.ceil(mCSB_container[0].scrollWidth);
if(o.advanced.autoExpandHorizontalScroll===3 || (o.advanced.autoExpandHorizontalScroll!==2 && w>mCSB_container.parent().width())){
mCSB_container.css({"width":w,"min-width":"100%","overflow-x":"inherit"});
}else{
/* 
wrap content with an infinite width div and set its position to absolute and width to auto. 
Setting width to auto before calculating the actual width is important! 
We must let the browser set the width as browser zoom values are impossible to calculate.
*/
mCSB_container.css({"overflow-x":"inherit","position":"absolute"})
.wrap("<div class='mCSB_h_wrapper'style='position:relative; left:0; width:999999px;'/>")
.css({ /* set actual width, original position and un-wrap */
/* 
get the exact width (with decimals) and then round-up. 
Using jquery outerWidth() will round the width value which will mess up with inner elements that have non-integer width
*/
"width":(Math.ceil(mCSB_container[0].getBoundingClientRect().right+0.4)-Math.floor(mCSB_container[0].getBoundingClientRect().left)),
"min-width":"100%",
"position":"relative"
}).unwrap();
}
}
},
/* -------------------- */


/* adds scrollbar buttons */
_scrollButtons=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
mCSB_scrollTools=$(".mCSB_"+d.idx+"_scrollbar:first"),
tabindex=!_isNumeric(o.scrollButtons.tabindex) ? "" : "tabindex='"+o.scrollButtons.tabindex+"'",
btnHTML=[
"<a href='#'class='"+classes[13]+"'"+tabindex+"/>",
"<a href='#'class='"+classes[14]+"'"+tabindex+"/>",
"<a href='#'class='"+classes[15]+"'"+tabindex+"/>",
"<a href='#'class='"+classes[16]+"'"+tabindex+"/>"
],
btn=[(o.axis==="x" ? btnHTML[2] : btnHTML[0]),(o.axis==="x" ? btnHTML[3] : btnHTML[1]),btnHTML[2],btnHTML[3]];
if(o.scrollButtons.enable){
mCSB_scrollTools.prepend(btn[0]).append(btn[1]).next(".mCSB_scrollTools").prepend(btn[2]).append(btn[3]);
}
},
/* -------------------- */


/* auto-adjusts scrollbar dragger length */
_setDraggerLength=function(){
var $this=$(this),d=$this.data(pluginPfx),
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_container=$("#mCSB_"+d.idx+"_container"),
mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")],
ratio=[mCustomScrollBox.height()/mCSB_container.outerHeight(false),mCustomScrollBox.width()/mCSB_container.outerWidth(false)],
l=[
parseInt(mCSB_dragger[0].css("min-height")),Math.round(ratio[0]*mCSB_dragger[0].parent().height()),
parseInt(mCSB_dragger[1].css("min-width")),Math.round(ratio[1]*mCSB_dragger[1].parent().width())
],
h=oldIE && (l[1]<l[0]) ? l[0] : l[1],w=oldIE && (l[3]<l[2]) ? l[2] : l[3];
mCSB_dragger[0].css({
"height":h,"max-height":(mCSB_dragger[0].parent().height()-10)
}).find(".mCSB_dragger_bar").css({"line-height":l[0]+"px"});
mCSB_dragger[1].css({
"width":w,"max-width":(mCSB_dragger[1].parent().width()-10)
});
},
/* -------------------- */


/* calculates scrollbar to content ratio */
_scrollRatio=function(){
var $this=$(this),d=$this.data(pluginPfx),
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_container=$("#mCSB_"+d.idx+"_container"),
mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")],
scrollAmount=[mCSB_container.outerHeight(false)-mCustomScrollBox.height(),mCSB_container.outerWidth(false)-mCustomScrollBox.width()],
ratio=[
scrollAmount[0]/(mCSB_dragger[0].parent().height()-mCSB_dragger[0].height()),
scrollAmount[1]/(mCSB_dragger[1].parent().width()-mCSB_dragger[1].width())
];
d.scrollRatio={y:ratio[0],x:ratio[1]};
},
/* -------------------- */


/* toggles scrolling classes */
_onDragClasses=function(el,action,xpnd){
var expandClass=xpnd ? classes[0]+"_expanded" : "",
scrollbar=el.closest(".mCSB_scrollTools");
if(action==="active"){
el.toggleClass(classes[0]+""+expandClass); scrollbar.toggleClass(classes[1]); 
el[0]._draggable=el[0]._draggable ? 0 : 1;
}else{
if(!el[0]._draggable){
if(action==="hide"){
el.removeClass(classes[0]); scrollbar.removeClass(classes[1]);
}else{
el.addClass(classes[0]); scrollbar.addClass(classes[1]);
}
}
}
},
/* -------------------- */


/* checks if content overflows its container to determine if scrolling is required */
_overflowed=function(){
var $this=$(this),d=$this.data(pluginPfx),
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_container=$("#mCSB_"+d.idx+"_container"),
contentHeight=d.overflowed==null ? mCSB_container.height() : mCSB_container.outerHeight(false),
contentWidth=d.overflowed==null ? mCSB_container.width() : mCSB_container.outerWidth(false),
h=mCSB_container[0].scrollHeight,w=mCSB_container[0].scrollWidth;
if(h>contentHeight){contentHeight=h;}
if(w>contentWidth){contentWidth=w;}
return [contentHeight>mCustomScrollBox.height(),contentWidth>mCustomScrollBox.width()];
},
/* -------------------- */


/* resets content position to 0 */
_resetContentPosition=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_container=$("#mCSB_"+d.idx+"_container"),
mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")];
_stop($this); /* stop any current scrolling before resetting */
if((o.axis!=="x" && !d.overflowed[0]) || (o.axis==="y" && d.overflowed[0])){ /* reset y */
mCSB_dragger[0].add(mCSB_container).css("top",0);
_scrollTo($this,"_resetY");
}
if((o.axis!=="y" && !d.overflowed[1]) || (o.axis==="x" && d.overflowed[1])){ /* reset x */
var cx=dx=0;
if(d.langDir==="rtl"){ /* adjust left position for rtl direction */
cx=mCustomScrollBox.width()-mCSB_container.outerWidth(false);
dx=Math.abs(cx/d.scrollRatio.x);
}
mCSB_container.css("left",cx);
mCSB_dragger[1].css("left",dx);
_scrollTo($this,"_resetX");
}
},
/* -------------------- */


/* binds scrollbar events */
_bindEvents=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt;
if(!d.bindEvents){ /* check if events are already bound */
_draggable.call(this);
if(o.contentTouchScroll){_contentDraggable.call(this);}
_selectable.call(this);
if(o.mouseWheel.enable){ /* bind mousewheel fn when plugin is available */
function _mwt(){
mousewheelTimeout=setTimeout(function(){
if(!$.event.special.mousewheel){
_mwt();
}else{
clearTimeout(mousewheelTimeout);
_mousewheel.call($this[0]);
}
},100);
}
var mousewheelTimeout;
_mwt();
}
_draggerRail.call(this);
_wrapperScroll.call(this);
if(o.advanced.autoScrollOnFocus){_focus.call(this);}
if(o.scrollButtons.enable){_buttons.call(this);}
if(o.keyboard.enable){_keyboard.call(this);}
d.bindEvents=true;
}
},
/* -------------------- */


/* unbinds scrollbar events */
_unbindEvents=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
namespace=pluginPfx+"_"+d.idx,
sb=".mCSB_"+d.idx+"_scrollbar",
sel=$("#mCSB_"+d.idx+",#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,"+sb+"."+classes[12]+",#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal,"+sb+">a"),
mCSB_container=$("#mCSB_"+d.idx+"_container");
if(o.advanced.releaseDraggableSelectors){sel.add($(o.advanced.releaseDraggableSelectors));}
if(o.advanced.extraDraggableSelectors){sel.add($(o.advanced.extraDraggableSelectors));}
if(d.bindEvents){ /* check if events are bound */
/* unbind namespaced events from document/selectors */
$(document).add($(!_canAccessIFrame() || top.document)).unbind("."+namespace);
sel.each(function(){
$(this).unbind("."+namespace);
});
/* clear and delete timeouts/objects */
clearTimeout($this[0]._focusTimeout); _delete($this[0],"_focusTimeout");
clearTimeout(d.sequential.step); _delete(d.sequential,"step");
clearTimeout(mCSB_container[0].onCompleteTimeout); _delete(mCSB_container[0],"onCompleteTimeout");
d.bindEvents=false;
}
},
/* -------------------- */


/* toggles scrollbar visibility */
_scrollbarVisibility=function(disabled){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
contentWrapper=$("#mCSB_"+d.idx+"_container_wrapper"),
content=contentWrapper.length ? contentWrapper : $("#mCSB_"+d.idx+"_container"),
scrollbar=[$("#mCSB_"+d.idx+"_scrollbar_vertical"),$("#mCSB_"+d.idx+"_scrollbar_horizontal")],
mCSB_dragger=[scrollbar[0].find(".mCSB_dragger"),scrollbar[1].find(".mCSB_dragger")];
if(o.axis!=="x"){
if(d.overflowed[0] && !disabled){
scrollbar[0].add(mCSB_dragger[0]).add(scrollbar[0].children("a")).css("display","block");
content.removeClass(classes[8]+""+classes[10]);
}else{
if(o.alwaysShowScrollbar){
if(o.alwaysShowScrollbar!==2){mCSB_dragger[0].css("display","none");}
content.removeClass(classes[10]);
}else{
scrollbar[0].css("display","none");
content.addClass(classes[10]);
}
content.addClass(classes[8]);
}
}
if(o.axis!=="y"){
if(d.overflowed[1] && !disabled){
scrollbar[1].add(mCSB_dragger[1]).add(scrollbar[1].children("a")).css("display","block");
content.removeClass(classes[9]+""+classes[11]);
}else{
if(o.alwaysShowScrollbar){
if(o.alwaysShowScrollbar!==2){mCSB_dragger[1].css("display","none");}
content.removeClass(classes[11]);
}else{
scrollbar[1].css("display","none");
content.addClass(classes[11]);
}
content.addClass(classes[9]);
}
}
if(!d.overflowed[0] && !d.overflowed[1]){
$this.addClass(classes[5]);
}else{
$this.removeClass(classes[5]);
}
},
/* -------------------- */


/* returns input coordinates of pointer, touch and mouse events (relative to document) */
_coordinates=function(e){
var t=e.type,o=e.target.ownerDocument!==document && frameElement!==null ? [$(frameElement).offset().top,$(frameElement).offset().left] : null,
io=_canAccessIFrame() && e.target.ownerDocument!==top.document && frameElement!==null ? [$(e.view.frameElement).offset().top,$(e.view.frameElement).offset().left] : [0,0];
switch(t){
case "pointerdown": case "MSPointerDown": case "pointermove": case "MSPointerMove": case "pointerup": case "MSPointerUp":
return o ? [e.originalEvent.pageY-o[0]+io[0],e.originalEvent.pageX-o[1]+io[1],false] : [e.originalEvent.pageY,e.originalEvent.pageX,false];
break;
case "touchstart": case "touchmove": case "touchend":
var touch=e.originalEvent.touches[0] || e.originalEvent.changedTouches[0],
touches=e.originalEvent.touches.length || e.originalEvent.changedTouches.length;
return e.target.ownerDocument!==document ? [touch.screenY,touch.screenX,touches>1] : [touch.pageY,touch.pageX,touches>1];
break;
default:
return o ? [e.pageY-o[0]+io[0],e.pageX-o[1]+io[1],false] : [e.pageY,e.pageX,false];
}
},
/* -------------------- */


/* 
SCROLLBAR DRAG EVENTS
scrolls content via scrollbar dragging 
*/
_draggable=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
namespace=pluginPfx+"_"+d.idx,
draggerId=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],
mCSB_container=$("#mCSB_"+d.idx+"_container"),
mCSB_dragger=$("#"+draggerId[0]+",#"+draggerId[1]),
draggable,dragY,dragX,
rds=o.advanced.releaseDraggableSelectors ? mCSB_dragger.add($(o.advanced.releaseDraggableSelectors)) : mCSB_dragger,
eds=o.advanced.extraDraggableSelectors ? $(!_canAccessIFrame() || top.document).add($(o.advanced.extraDraggableSelectors)) : $(!_canAccessIFrame() || top.document);
mCSB_dragger.bind("contextmenu."+namespace,function(e){
e.preventDefault(); //prevent right click
}).bind("mousedown."+namespace+"touchstart."+namespace+"pointerdown."+namespace+"MSPointerDown."+namespace,function(e){
e.stopImmediatePropagation();
e.preventDefault();
if(!_mouseBtnLeft(e)){return;} /* left mouse button only */
touchActive=true;
if(oldIE){document.onselectstart=function(){return false;}} /* disable text selection for IE < 9 */
_iframe.call(mCSB_container,false); /* enable scrollbar dragging over iframes by disabling their events */
_stop($this);
draggable=$(this);
var offset=draggable.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left,
h=draggable.height()+offset.top,w=draggable.width()+offset.left;
if(y<h && y>0 && x<w && x>0){
dragY=y; 
dragX=x;
}
_onDragClasses(draggable,"active",o.autoExpandScrollbar); 
}).bind("touchmove."+namespace,function(e){
e.stopImmediatePropagation();
e.preventDefault();
var offset=draggable.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left;
_drag(dragY,dragX,y,x);
});
$(document).add(eds).bind("mousemove."+namespace+"pointermove."+namespace+"MSPointerMove."+namespace,function(e){
if(draggable){
var offset=draggable.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left;
if(dragY===y && dragX===x){return;} /* has it really moved? */
_drag(dragY,dragX,y,x);
}
}).add(rds).bind("mouseup."+namespace+"touchend."+namespace+"pointerup."+namespace+"MSPointerUp."+namespace,function(e){
if(draggable){
_onDragClasses(draggable,"active",o.autoExpandScrollbar); 
draggable=null;
}
touchActive=false;
if(oldIE){document.onselectstart=null;} /* enable text selection for IE < 9 */
_iframe.call(mCSB_container,true); /* enable iframes events */
});
function _drag(dragY,dragX,y,x){
mCSB_container[0].idleTimer=o.scrollInertia<233 ? 250 : 0;
if(draggable.attr("id")===draggerId[1]){
var dir="x",to=((draggable[0].offsetLeft-dragX)+x)*d.scrollRatio.x;
}else{
var dir="y",to=((draggable[0].offsetTop-dragY)+y)*d.scrollRatio.y;
}
_scrollTo($this,to.toString(),{dir:dir,drag:true});
}
},
/* -------------------- */


/* 
TOUCH SWIPE EVENTS
scrolls content via touch swipe 
Emulates the native touch-swipe scrolling with momentum found in iOS, Android and WP devices 
*/
_contentDraggable=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
namespace=pluginPfx+"_"+d.idx,
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_container=$("#mCSB_"+d.idx+"_container"),
mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")],
draggable,dragY,dragX,touchStartY,touchStartX,touchMoveY=[],touchMoveX=[],startTime,runningTime,endTime,distance,speed,amount,
durA=0,durB,overwrite=o.axis==="yx" ? "none" : "all",touchIntent=[],touchDrag,docDrag,
iframe=mCSB_container.find("iframe"),
events=[
"touchstart."+namespace+"pointerdown."+namespace+"MSPointerDown."+namespace, //start
"touchmove."+namespace+"pointermove."+namespace+"MSPointerMove."+namespace, //move
"touchend."+namespace+"pointerup."+namespace+"MSPointerUp."+namespace //end
],
touchAction=document.body.style.touchAction!==undefined && document.body.style.touchAction!=="";
mCSB_container.bind(events[0],function(e){
_onTouchstart(e);
}).bind(events[1],function(e){
_onTouchmove(e);
});
mCustomScrollBox.bind(events[0],function(e){
_onTouchstart2(e);
}).bind(events[2],function(e){
_onTouchend(e);
});
if(iframe.length){
iframe.each(function(){
$(this).bind("load",function(){
/* bind events on accessible iframes */
if(_canAccessIFrame(this)){
$(this.contentDocument || this.contentWindow.document).bind(events[0],function(e){
_onTouchstart(e);
_onTouchstart2(e);
}).bind(events[1],function(e){
_onTouchmove(e);
}).bind(events[2],function(e){
_onTouchend(e);
});
}
});
});
}
function _onTouchstart(e){
if(!_pointerTouch(e) || touchActive || _coordinates(e)[2]){touchable=0; return;}
touchable=1; touchDrag=0; docDrag=0; draggable=1;
$this.removeClass("mCS_touch_action");
var offset=mCSB_container.offset();
dragY=_coordinates(e)[0]-offset.top;
dragX=_coordinates(e)[1]-offset.left;
touchIntent=[_coordinates(e)[0],_coordinates(e)[1]];
}
function _onTouchmove(e){
if(!_pointerTouch(e) || touchActive || _coordinates(e)[2]){return;}
if(!o.documentTouchScroll){e.preventDefault();} 
e.stopImmediatePropagation();
if(docDrag && !touchDrag){return;}
if(draggable){
runningTime=_getTime();
var offset=mCustomScrollBox.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left,
easing="mcsLinearOut";
touchMoveY.push(y);
touchMoveX.push(x);
touchIntent[2]=Math.abs(_coordinates(e)[0]-touchIntent[0]); touchIntent[3]=Math.abs(_coordinates(e)[1]-touchIntent[1]);
if(d.overflowed[0]){
var limit=mCSB_dragger[0].parent().height()-mCSB_dragger[0].height(),
prevent=((dragY-y)>0 && (y-dragY)>-(limit*d.scrollRatio.y) && (touchIntent[3]*2<touchIntent[2] || o.axis==="yx"));
}
if(d.overflowed[1]){
var limitX=mCSB_dragger[1].parent().width()-mCSB_dragger[1].width(),
preventX=((dragX-x)>0 && (x-dragX)>-(limitX*d.scrollRatio.x) && (touchIntent[2]*2<touchIntent[3] || o.axis==="yx"));
}
if(prevent || preventX){ /* prevent native document scrolling */
if(!touchAction){e.preventDefault();} 
touchDrag=1;
}else{
docDrag=1;
$this.addClass("mCS_touch_action");
}
if(touchAction){e.preventDefault();} 
amount=o.axis==="yx" ? [(dragY-y),(dragX-x)] : o.axis==="x" ? [null,(dragX-x)] : [(dragY-y),null];
mCSB_container[0].idleTimer=250;
if(d.overflowed[0]){_drag(amount[0],durA,easing,"y","all",true);}
if(d.overflowed[1]){_drag(amount[1],durA,easing,"x",overwrite,true);}
}
}
function _onTouchstart2(e){
if(!_pointerTouch(e) || touchActive || _coordinates(e)[2]){touchable=0; return;}
touchable=1;
e.stopImmediatePropagation();
_stop($this);
startTime=_getTime();
var offset=mCustomScrollBox.offset();
touchStartY=_coordinates(e)[0]-offset.top;
touchStartX=_coordinates(e)[1]-offset.left;
touchMoveY=[]; touchMoveX=[];
}
function _onTouchend(e){
if(!_pointerTouch(e) || touchActive || _coordinates(e)[2]){return;}
draggable=0;
e.stopImmediatePropagation();
touchDrag=0; docDrag=0;
endTime=_getTime();
var offset=mCustomScrollBox.offset(),y=_coordinates(e)[0]-offset.top,x=_coordinates(e)[1]-offset.left;
if((endTime-runningTime)>30){return;}
speed=1000/(endTime-startTime);
var easing="mcsEaseOut",slow=speed<2.5,
diff=slow ? [touchMoveY[touchMoveY.length-2],touchMoveX[touchMoveX.length-2]] : [0,0];
distance=slow ? [(y-diff[0]),(x-diff[1])] : [y-touchStartY,x-touchStartX];
var absDistance=[Math.abs(distance[0]),Math.abs(distance[1])];
speed=slow ? [Math.abs(distance[0]/4),Math.abs(distance[1]/4)] : [speed,speed];
var a=[
Math.abs(mCSB_container[0].offsetTop)-(distance[0]*_m((absDistance[0]/speed[0]),speed[0])),
Math.abs(mCSB_container[0].offsetLeft)-(distance[1]*_m((absDistance[1]/speed[1]),speed[1]))
];
amount=o.axis==="yx" ? [a[0],a[1]] : o.axis==="x" ? [null,a[1]] : [a[0],null];
durB=[(absDistance[0]*4)+o.scrollInertia,(absDistance[1]*4)+o.scrollInertia];
var md=parseInt(o.contentTouchScroll) || 0; /* absolute minimum distance required */
amount[0]=absDistance[0]>md ? amount[0] : 0;
amount[1]=absDistance[1]>md ? amount[1] : 0;
if(d.overflowed[0]){_drag(amount[0],durB[0],easing,"y",overwrite,false);}
if(d.overflowed[1]){_drag(amount[1],durB[1],easing,"x",overwrite,false);}
}
function _m(ds,s){
var r=[s*1.5,s*2,s/1.5,s/2];
if(ds>90){
return s>4 ? r[0] : r[3];
}else if(ds>60){
return s>3 ? r[3] : r[2];
}else if(ds>30){
return s>8 ? r[1] : s>6 ? r[0] : s>4 ? s : r[2];
}else{
return s>8 ? s : r[3];
}
}
function _drag(amount,dur,easing,dir,overwrite,drag){
if(!amount){return;}
_scrollTo($this,amount.toString(),{dur:dur,scrollEasing:easing,dir:dir,overwrite:overwrite,drag:drag});
}
},
/* -------------------- */


/* 
SELECT TEXT EVENTS 
scrolls content when text is selected 
*/
_selectable=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,seq=d.sequential,
namespace=pluginPfx+"_"+d.idx,
mCSB_container=$("#mCSB_"+d.idx+"_container"),
wrapper=mCSB_container.parent(),
action;
mCSB_container.bind("mousedown."+namespace,function(e){
if(touchable){return;}
if(!action){action=1; touchActive=true;}
}).add(document).bind("mousemove."+namespace,function(e){
if(!touchable && action && _sel()){
var offset=mCSB_container.offset(),
y=_coordinates(e)[0]-offset.top+mCSB_container[0].offsetTop,x=_coordinates(e)[1]-offset.left+mCSB_container[0].offsetLeft;
if(y>0 && y<wrapper.height() && x>0 && x<wrapper.width()){
if(seq.step){_seq("off",null,"stepped");}
}else{
if(o.axis!=="x" && d.overflowed[0]){
if(y<0){
_seq("on",38);
}else if(y>wrapper.height()){
_seq("on",40);
}
}
if(o.axis!=="y" && d.overflowed[1]){
if(x<0){
_seq("on",37);
}else if(x>wrapper.width()){
_seq("on",39);
}
}
}
}
}).bind("mouseup."+namespace+"dragend."+namespace,function(e){
if(touchable){return;}
if(action){action=0; _seq("off",null);}
touchActive=false;
});
function _sel(){
return window.getSelection ? window.getSelection().toString() : 
document.selection && document.selection.type!="Control" ? document.selection.createRange().text : 0;
}
function _seq(a,c,s){
seq.type=s && action ? "stepped" : "stepless";
seq.scrollAmount=10;
_sequentialScroll($this,a,c,"mcsLinearOut",s ? 60 : null);
}
},
/* -------------------- */


/* 
MOUSE WHEEL EVENT
scrolls content via mouse-wheel 
via mouse-wheel plugin (https://github.com/brandonaaron/jquery-mousewheel)
*/
_mousewheel=function(){
if(!$(this).data(pluginPfx)){return;} /* Check if the scrollbar is ready to use mousewheel events (issue: #185) */
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
namespace=pluginPfx+"_"+d.idx,
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_dragger=[$("#mCSB_"+d.idx+"_dragger_vertical"),$("#mCSB_"+d.idx+"_dragger_horizontal")],
iframe=$("#mCSB_"+d.idx+"_container").find("iframe");
if(iframe.length){
iframe.each(function(){
$(this).bind("load",function(){
/* bind events on accessible iframes */
if(_canAccessIFrame(this)){
$(this.contentDocument || this.contentWindow.document).bind("mousewheel."+namespace,function(e,delta){
_onMousewheel(e,delta);
});
}
});
});
}
mCustomScrollBox.bind("mousewheel."+namespace,function(e,delta){
_onMousewheel(e,delta);
});
function _onMousewheel(e,delta){
_stop($this);
if(_disableMousewheel($this,e.target)){return;} /* disables mouse-wheel when hovering specific elements */
var deltaFactor=o.mouseWheel.deltaFactor!=="auto" ? parseInt(o.mouseWheel.deltaFactor) : (oldIE && e.deltaFactor<100) ? 100 : e.deltaFactor || 100,
dur=o.scrollInertia;
if(o.axis==="x" || o.mouseWheel.axis==="x"){
var dir="x",
px=[Math.round(deltaFactor*d.scrollRatio.x),parseInt(o.mouseWheel.scrollAmount)],
amount=o.mouseWheel.scrollAmount!=="auto" ? px[1] : px[0]>=mCustomScrollBox.width() ? mCustomScrollBox.width()*0.9 : px[0],
contentPos=Math.abs($("#mCSB_"+d.idx+"_container")[0].offsetLeft),
draggerPos=mCSB_dragger[1][0].offsetLeft,
limit=mCSB_dragger[1].parent().width()-mCSB_dragger[1].width(),
dlt=o.mouseWheel.axis==="y" ? (e.deltaY || delta) : e.deltaX;
}else{
var dir="y",
px=[Math.round(deltaFactor*d.scrollRatio.y),parseInt(o.mouseWheel.scrollAmount)],
amount=o.mouseWheel.scrollAmount!=="auto" ? px[1] : px[0]>=mCustomScrollBox.height() ? mCustomScrollBox.height()*0.9 : px[0],
contentPos=Math.abs($("#mCSB_"+d.idx+"_container")[0].offsetTop),
draggerPos=mCSB_dragger[0][0].offsetTop,
limit=mCSB_dragger[0].parent().height()-mCSB_dragger[0].height(),
dlt=e.deltaY || delta;
}
if((dir==="y" && !d.overflowed[0]) || (dir==="x" && !d.overflowed[1])){return;}
if(o.mouseWheel.invert || e.webkitDirectionInvertedFromDevice){dlt=-dlt;}
if(o.mouseWheel.normalizeDelta){dlt=dlt<0 ? -1 : 1;}
if((dlt>0 && draggerPos!==0) || (dlt<0 && draggerPos!==limit) || o.mouseWheel.preventDefault){
e.stopImmediatePropagation();
e.preventDefault();
}
if(e.deltaFactor<5 && !o.mouseWheel.normalizeDelta){
//very low deltaFactor values mean some kind of delta acceleration (e.g. osx trackpad), so adjusting scrolling accordingly
amount=e.deltaFactor; dur=17;
}
_scrollTo($this,(contentPos-(dlt*amount)).toString(),{dir:dir,dur:dur});
}
},
/* -------------------- */


/* checks if iframe can be accessed */
_canAccessIFrameCache=new Object(),
_canAccessIFrame=function(iframe){
    var result=false,cacheKey=false,html=null;
    if(iframe===undefined){
cacheKey="#empty";
    }else if($(iframe).attr("id")!==undefined){
cacheKey=$(iframe).attr("id");
    }
if(cacheKey!==false && _canAccessIFrameCache[cacheKey]!==undefined){
return _canAccessIFrameCache[cacheKey];
}
if(!iframe){
try{
var doc=top.document;
html=doc.body.innerHTML;
}catch(err){/* do nothing */}
result=(html!==null);
}else{
try{
var doc=iframe.contentDocument || iframe.contentWindow.document;
html=doc.body.innerHTML;
}catch(err){/* do nothing */}
result=(html!==null);
}
if(cacheKey!==false){_canAccessIFrameCache[cacheKey]=result;}
return result;
},
/* -------------------- */


/* switches iframe's pointer-events property (drag, mousewheel etc. over cross-domain iframes) */
_iframe=function(evt){
var el=this.find("iframe");
if(!el.length){return;} /* check if content contains iframes */
var val=!evt ? "none" : "auto";
el.css("pointer-events",val); /* for IE11, iframe's display property should not be "block" */
},
/* -------------------- */


/* disables mouse-wheel when hovering specific elements like select, datalist etc. */
_disableMousewheel=function(el,target){
var tag=target.nodeName.toLowerCase(),
tags=el.data(pluginPfx).opt.mouseWheel.disableOver,
/* elements that require focus */
focusTags=["select","textarea"];
return $.inArray(tag,tags) > -1 && !($.inArray(tag,focusTags) > -1 && !$(target).is(":focus"));
},
/* -------------------- */


/* 
DRAGGER RAIL CLICK EVENT
scrolls content via dragger rail 
*/
_draggerRail=function(){
var $this=$(this),d=$this.data(pluginPfx),
namespace=pluginPfx+"_"+d.idx,
mCSB_container=$("#mCSB_"+d.idx+"_container"),
wrapper=mCSB_container.parent(),
mCSB_draggerContainer=$(".mCSB_"+d.idx+"_scrollbar ."+classes[12]),
clickable;
mCSB_draggerContainer.bind("mousedown."+namespace+"touchstart."+namespace+"pointerdown."+namespace+"MSPointerDown."+namespace,function(e){
touchActive=true;
if(!$(e.target).hasClass("mCSB_dragger")){clickable=1;}
}).bind("touchend."+namespace+"pointerup."+namespace+"MSPointerUp."+namespace,function(e){
touchActive=false;
}).bind("click."+namespace,function(e){
if(!clickable){return;}
clickable=0;
if($(e.target).hasClass(classes[12]) || $(e.target).hasClass("mCSB_draggerRail")){
_stop($this);
var el=$(this),mCSB_dragger=el.find(".mCSB_dragger");
if(el.parent(".mCSB_scrollTools_horizontal").length>0){
if(!d.overflowed[1]){return;}
var dir="x",
clickDir=e.pageX>mCSB_dragger.offset().left ? -1 : 1,
to=Math.abs(mCSB_container[0].offsetLeft)-(clickDir*(wrapper.width()*0.9));
}else{
if(!d.overflowed[0]){return;}
var dir="y",
clickDir=e.pageY>mCSB_dragger.offset().top ? -1 : 1,
to=Math.abs(mCSB_container[0].offsetTop)-(clickDir*(wrapper.height()*0.9));
}
_scrollTo($this,to.toString(),{dir:dir,scrollEasing:"mcsEaseInOut"});
}
});
},
/* -------------------- */


/* 
FOCUS EVENT
scrolls content via element focus (e.g. clicking an input, pressing TAB key etc.)
*/
_focus=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
namespace=pluginPfx+"_"+d.idx,
mCSB_container=$("#mCSB_"+d.idx+"_container"),
wrapper=mCSB_container.parent();
mCSB_container.bind("focusin."+namespace,function(e){
var el=$(document.activeElement),
nested=mCSB_container.find(".mCustomScrollBox").length,
dur=0;
if(!el.is(o.advanced.autoScrollOnFocus)){return;}
_stop($this);
clearTimeout($this[0]._focusTimeout);
$this[0]._focusTimer=nested ? (dur+17)*nested : 0;
$this[0]._focusTimeout=setTimeout(function(){
varto=[_childPos(el)[0],_childPos(el)[1]],
contentPos=[mCSB_container[0].offsetTop,mCSB_container[0].offsetLeft],
isVisible=[
(contentPos[0]+to[0]>=0 && contentPos[0]+to[0]<wrapper.height()-el.outerHeight(false)),
(contentPos[1]+to[1]>=0 && contentPos[0]+to[1]<wrapper.width()-el.outerWidth(false))
],
overwrite=(o.axis==="yx" && !isVisible[0] && !isVisible[1]) ? "none" : "all";
if(o.axis!=="x" && !isVisible[0]){
_scrollTo($this,to[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:overwrite,dur:dur});
}
if(o.axis!=="y" && !isVisible[1]){
_scrollTo($this,to[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:overwrite,dur:dur});
}
},$this[0]._focusTimer);
});
},
/* -------------------- */


/* sets content wrapper scrollTop/scrollLeft always to 0 */
_wrapperScroll=function(){
var $this=$(this),d=$this.data(pluginPfx),
namespace=pluginPfx+"_"+d.idx,
wrapper=$("#mCSB_"+d.idx+"_container").parent();
wrapper.bind("scroll."+namespace,function(e){
if(wrapper.scrollTop()!==0 || wrapper.scrollLeft()!==0){
$(".mCSB_"+d.idx+"_scrollbar").css("visibility","hidden"); /* hide scrollbar(s) */
}
});
},
/* -------------------- */


/* 
BUTTONS EVENTS
scrolls content via up, down, left and right buttons 
*/
_buttons=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,seq=d.sequential,
namespace=pluginPfx+"_"+d.idx,
sel=".mCSB_"+d.idx+"_scrollbar",
btn=$(sel+">a");
btn.bind("contextmenu."+namespace,function(e){
e.preventDefault(); //prevent right click
}).bind("mousedown."+namespace+"touchstart."+namespace+"pointerdown."+namespace+"MSPointerDown."+namespace+"mouseup."+namespace+"touchend."+namespace+"pointerup."+namespace+"MSPointerUp."+namespace+"mouseout."+namespace+"pointerout."+namespace+"MSPointerOut."+namespace+"click."+namespace,function(e){
e.preventDefault();
if(!_mouseBtnLeft(e)){return;} /* left mouse button only */
var btnClass=$(this).attr("class");
seq.type=o.scrollButtons.scrollType;
switch(e.type){
case "mousedown": case "touchstart": case "pointerdown": case "MSPointerDown":
if(seq.type==="stepped"){return;}
touchActive=true;
d.tweenRunning=false;
_seq("on",btnClass);
break;
case "mouseup": case "touchend": case "pointerup": case "MSPointerUp":
case "mouseout": case "pointerout": case "MSPointerOut":
if(seq.type==="stepped"){return;}
touchActive=false;
if(seq.dir){_seq("off",btnClass);}
break;
case "click":
if(seq.type!=="stepped" || d.tweenRunning){return;}
_seq("on",btnClass);
break;
}
function _seq(a,c){
seq.scrollAmount=o.scrollButtons.scrollAmount;
_sequentialScroll($this,a,c);
}
});
},
/* -------------------- */


/* 
KEYBOARD EVENTS
scrolls content via keyboard 
Keys: up arrow, down arrow, left arrow, right arrow, PgUp, PgDn, Home, End
*/
_keyboard=function(){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,seq=d.sequential,
namespace=pluginPfx+"_"+d.idx,
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_container=$("#mCSB_"+d.idx+"_container"),
wrapper=mCSB_container.parent(),
editables="input,textarea,select,datalist,keygen,[contenteditable='true']",
iframe=mCSB_container.find("iframe"),
events=["blur."+namespace+"keydown."+namespace+"keyup."+namespace];
if(iframe.length){
iframe.each(function(){
$(this).bind("load",function(){
/* bind events on accessible iframes */
if(_canAccessIFrame(this)){
$(this.contentDocument || this.contentWindow.document).bind(events[0],function(e){
_onKeyboard(e);
});
}
});
});
}
mCustomScrollBox.attr("tabindex","0").bind(events[0],function(e){
_onKeyboard(e);
});
function _onKeyboard(e){
switch(e.type){
case "blur":
if(d.tweenRunning && seq.dir){_seq("off",null);}
break;
case "keydown": case "keyup":
var code=e.keyCode ? e.keyCode : e.which,action="on";
if((o.axis!=="x" && (code===38 || code===40)) || (o.axis!=="y" && (code===37 || code===39))){
/* up (38), down (40), left (37), right (39) arrows */
if(((code===38 || code===40) && !d.overflowed[0]) || ((code===37 || code===39) && !d.overflowed[1])){return;}
if(e.type==="keyup"){action="off";}
if(!$(document.activeElement).is(editables)){
e.preventDefault();
e.stopImmediatePropagation();
_seq(action,code);
}
}else if(code===33 || code===34){
/* PgUp (33), PgDn (34) */
if(d.overflowed[0] || d.overflowed[1]){
e.preventDefault();
e.stopImmediatePropagation();
}
if(e.type==="keyup"){
_stop($this);
var keyboardDir=code===34 ? -1 : 1;
if(o.axis==="x" || (o.axis==="yx" && d.overflowed[1] && !d.overflowed[0])){
var dir="x",to=Math.abs(mCSB_container[0].offsetLeft)-(keyboardDir*(wrapper.width()*0.9));
}else{
var dir="y",to=Math.abs(mCSB_container[0].offsetTop)-(keyboardDir*(wrapper.height()*0.9));
}
_scrollTo($this,to.toString(),{dir:dir,scrollEasing:"mcsEaseInOut"});
}
}else if(code===35 || code===36){
/* End (35), Home (36) */
if(!$(document.activeElement).is(editables)){
if(d.overflowed[0] || d.overflowed[1]){
e.preventDefault();
e.stopImmediatePropagation();
}
if(e.type==="keyup"){
if(o.axis==="x" || (o.axis==="yx" && d.overflowed[1] && !d.overflowed[0])){
var dir="x",to=code===35 ? Math.abs(wrapper.width()-mCSB_container.outerWidth(false)) : 0;
}else{
var dir="y",to=code===35 ? Math.abs(wrapper.height()-mCSB_container.outerHeight(false)) : 0;
}
_scrollTo($this,to.toString(),{dir:dir,scrollEasing:"mcsEaseInOut"});
}
}
}
break;
}
function _seq(a,c){
seq.type=o.keyboard.scrollType;
seq.scrollAmount=o.keyboard.scrollAmount;
if(seq.type==="stepped" && d.tweenRunning){return;}
_sequentialScroll($this,a,c);
}
}
},
/* -------------------- */


/* scrolls content sequentially (used when scrolling via buttons, keyboard arrows etc.) */
_sequentialScroll=function(el,action,trigger,e,s){
var d=el.data(pluginPfx),o=d.opt,seq=d.sequential,
mCSB_container=$("#mCSB_"+d.idx+"_container"),
once=seq.type==="stepped" ? true : false,
steplessSpeed=o.scrollInertia < 26 ? 26 : o.scrollInertia, /* 26/1.5=17 */
steppedSpeed=o.scrollInertia < 1 ? 17 : o.scrollInertia;
switch(action){
case "on":
seq.dir=[
(trigger===classes[16] || trigger===classes[15] || trigger===39 || trigger===37 ? "x" : "y"),
(trigger===classes[13] || trigger===classes[15] || trigger===38 || trigger===37 ? -1 : 1)
];
_stop(el);
if(_isNumeric(trigger) && seq.type==="stepped"){return;}
_on(once);
break;
case "off":
_off();
if(once || (d.tweenRunning && seq.dir)){
_on(true);
}
break;
}

/* starts sequence */
function _on(once){
if(o.snapAmount){seq.scrollAmount=!(o.snapAmount instanceof Array) ? o.snapAmount : seq.dir[0]==="x" ? o.snapAmount[1] : o.snapAmount[0];} /* scrolling snapping */
var c=seq.type!=="stepped", /* continuous scrolling */
t=s ? s : !once ? 1000/60 : c ? steplessSpeed/1.5 : steppedSpeed, /* timer */
m=!once ? 2.5 : c ? 7.5 : 40, /* multiplier */
contentPos=[Math.abs(mCSB_container[0].offsetTop),Math.abs(mCSB_container[0].offsetLeft)],
ratio=[d.scrollRatio.y>10 ? 10 : d.scrollRatio.y,d.scrollRatio.x>10 ? 10 : d.scrollRatio.x],
amount=seq.dir[0]==="x" ? contentPos[1]+(seq.dir[1]*(ratio[1]*m)) : contentPos[0]+(seq.dir[1]*(ratio[0]*m)),
px=seq.dir[0]==="x" ? contentPos[1]+(seq.dir[1]*parseInt(seq.scrollAmount)) : contentPos[0]+(seq.dir[1]*parseInt(seq.scrollAmount)),
to=seq.scrollAmount!=="auto" ? px : amount,
easing=e ? e : !once ? "mcsLinear" : c ? "mcsLinearOut" : "mcsEaseInOut",
onComplete=!once ? false : true;
if(once && t<17){
to=seq.dir[0]==="x" ? contentPos[1] : contentPos[0];
}
_scrollTo(el,to.toString(),{dir:seq.dir[0],scrollEasing:easing,dur:t,onComplete:onComplete});
if(once){
seq.dir=false;
return;
}
clearTimeout(seq.step);
seq.step=setTimeout(function(){
_on();
},t);
}
/* stops sequence */
function _off(){
clearTimeout(seq.step);
_delete(seq,"step");
_stop(el);
}
},
/* -------------------- */


/* returns a yx array from value */
_arr=function(val){
var o=$(this).data(pluginPfx).opt,vals=[];
if(typeof val==="function"){val=val();} /* check if the value is a single anonymous function */
/* check if value is object or array, its length and create an array with yx values */
if(!(val instanceof Array)){ /* object value (e.g. {y:"100",x:"100"}, 100 etc.) */
vals[0]=val.y ? val.y : val.x || o.axis==="x" ? null : val;
vals[1]=val.x ? val.x : val.y || o.axis==="y" ? null : val;
}else{ /* array value (e.g. [100,100]) */
vals=val.length>1 ? [val[0],val[1]] : o.axis==="x" ? [null,val[0]] : [val[0],null];
}
/* check if array values are anonymous functions */
if(typeof vals[0]==="function"){vals[0]=vals[0]();}
if(typeof vals[1]==="function"){vals[1]=vals[1]();}
return vals;
},
/* -------------------- */


/* translates values (e.g. "top", 100, "100px", "#id") to actual scroll-to positions */
_to=function(val,dir){
if(val==null || typeof val=="undefined"){return;}
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
mCSB_container=$("#mCSB_"+d.idx+"_container"),
wrapper=mCSB_container.parent(),
t=typeof val;
if(!dir){dir=o.axis==="x" ? "x" : "y";}
var contentLength=dir==="x" ? mCSB_container.outerWidth(false)-wrapper.width() : mCSB_container.outerHeight(false)-wrapper.height(),
contentPos=dir==="x" ? mCSB_container[0].offsetLeft : mCSB_container[0].offsetTop,
cssProp=dir==="x" ? "left" : "top";
switch(t){
case "function": /* this currently is not used. Consider removing it */
return val();
break;
case "object": /* js/jquery object */
var obj=val.jquery ? val : $(val);
if(!obj.length){return;}
return dir==="x" ? _childPos(obj)[1] : _childPos(obj)[0];
break;
case "string": case "number":
if(_isNumeric(val)){ /* numeric value */
return Math.abs(val);
}else if(val.indexOf("%")!==-1){ /* percentage value */
return Math.abs(contentLength*parseInt(val)/100);
}else if(val.indexOf("-=")!==-1){ /* decrease value */
return Math.abs(contentPos-parseInt(val.split("-=")[1]));
}else if(val.indexOf("+=")!==-1){ /* inrease value */
var p=(contentPos+parseInt(val.split("+=")[1]));
return p>=0 ? 0 : Math.abs(p);
}else if(val.indexOf("px")!==-1 && _isNumeric(val.split("px")[0])){ /* pixels string value (e.g. "100px") */
return Math.abs(val.split("px")[0]);
}else{
if(val==="top" || val==="left"){ /* special strings */
return 0;
}else if(val==="bottom"){
return Math.abs(wrapper.height()-mCSB_container.outerHeight(false));
}else if(val==="right"){
return Math.abs(wrapper.width()-mCSB_container.outerWidth(false));
}else if(val==="first" || val==="last"){
var obj=mCSB_container.find(":"+val);
return dir==="x" ? _childPos(obj)[1] : _childPos(obj)[0];
}else{
if($(val).length){ /* jquery selector */
return dir==="x" ? _childPos($(val))[1] : _childPos($(val))[0];
}else{ /* other values (e.g. "100em") */
mCSB_container.css(cssProp,val);
methods.update.call(null,$this[0]);
return;
}
}
}
break;
}
},
/* -------------------- */


/* calls the update method automatically */
_autoUpdate=function(rem){
var $this=$(this),d=$this.data(pluginPfx),o=d.opt,
mCSB_container=$("#mCSB_"+d.idx+"_container");
if(rem){
/* 
removes autoUpdate timer 
usage: _autoUpdate.call(this,"remove");
*/
clearTimeout(mCSB_container[0].autoUpdate);
_delete(mCSB_container[0],"autoUpdate");
return;
}
upd();
function upd(){
clearTimeout(mCSB_container[0].autoUpdate);
if($this.parents("html").length===0){
/* check element in dom tree */
$this=null;
return;
}
mCSB_container[0].autoUpdate=setTimeout(function(){
/* update on specific selector(s) length and size change */
if(o.advanced.updateOnSelectorChange){
d.poll.change.n=sizesSum();
if(d.poll.change.n!==d.poll.change.o){
d.poll.change.o=d.poll.change.n;
doUpd(3);
return;
}
}
/* update on main element and scrollbar size changes */
if(o.advanced.updateOnContentResize){
d.poll.size.n=$this[0].scrollHeight+$this[0].scrollWidth+mCSB_container[0].offsetHeight+$this[0].offsetHeight+$this[0].offsetWidth;
if(d.poll.size.n!==d.poll.size.o){
d.poll.size.o=d.poll.size.n;
doUpd(1);
return;
}
}
/* update on image load */
if(o.advanced.updateOnImageLoad){
if(!(o.advanced.updateOnImageLoad==="auto" && o.axis==="y")){ //by default, it doesn't run on vertical content
d.poll.img.n=mCSB_container.find("img").length;
if(d.poll.img.n!==d.poll.img.o){
d.poll.img.o=d.poll.img.n;
mCSB_container.find("img").each(function(){
imgLoader(this);
});
return;
}
}
}
if(o.advanced.updateOnSelectorChange || o.advanced.updateOnContentResize || o.advanced.updateOnImageLoad){upd();}
},o.advanced.autoUpdateTimeout);
}
/* a tiny image loader */
function imgLoader(el){
if($(el).hasClass(classes[2])){doUpd(); return;}
var img=new Image();
function createDelegate(contextObject,delegateMethod){
return function(){return delegateMethod.apply(contextObject,arguments);}
}
function imgOnLoad(){
this.onload=null;
$(el).addClass(classes[2]);
doUpd(2);
}
img.onload=createDelegate(img,imgOnLoad);
img.src=el.src;
}
/* returns the total height and width sum of all elements matching the selector */
function sizesSum(){
if(o.advanced.updateOnSelectorChange===true){o.advanced.updateOnSelectorChange="*";}
var total=0,sel=mCSB_container.find(o.advanced.updateOnSelectorChange);
if(o.advanced.updateOnSelectorChange && sel.length>0){sel.each(function(){total+=this.offsetHeight+this.offsetWidth;});}
return total;
}
/* calls the update method */
function doUpd(cb){
clearTimeout(mCSB_container[0].autoUpdate);
methods.update.call(null,$this[0],cb);
}
},
/* -------------------- */


/* snaps scrolling to a multiple of a pixels number */
_snapAmount=function(to,amount,offset){
return (Math.round(to/amount)*amount-offset); 
},
/* -------------------- */


/* stops content and scrollbar animations */
_stop=function(el){
var d=el.data(pluginPfx),
sel=$("#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal");
sel.each(function(){
_stopTween.call(this);
});
},
/* -------------------- */


/* 
ANIMATES CONTENT 
This is where the actual scrolling happens
*/
_scrollTo=function(el,to,options){
var d=el.data(pluginPfx),o=d.opt,
defaults={
trigger:"internal",
dir:"y",
scrollEasing:"mcsEaseOut",
drag:false,
dur:o.scrollInertia,
overwrite:"all",
callbacks:true,
onStart:true,
onUpdate:true,
onComplete:true
},
options=$.extend(defaults,options),
dur=[options.dur,(options.drag ? 0 : options.dur)],
mCustomScrollBox=$("#mCSB_"+d.idx),
mCSB_container=$("#mCSB_"+d.idx+"_container"),
wrapper=mCSB_container.parent(),
totalScrollOffsets=o.callbacks.onTotalScrollOffset ? _arr.call(el,o.callbacks.onTotalScrollOffset) : [0,0],
totalScrollBackOffsets=o.callbacks.onTotalScrollBackOffset ? _arr.call(el,o.callbacks.onTotalScrollBackOffset) : [0,0];
d.trigger=options.trigger;
if(wrapper.scrollTop()!==0 || wrapper.scrollLeft()!==0){ /* always reset scrollTop/Left */
$(".mCSB_"+d.idx+"_scrollbar").css("visibility","visible");
wrapper.scrollTop(0).scrollLeft(0);
}
if(to==="_resetY" && !d.contentReset.y){
/* callbacks: onOverflowYNone */
if(_cb("onOverflowYNone")){o.callbacks.onOverflowYNone.call(el[0]);}
d.contentReset.y=1;
}
if(to==="_resetX" && !d.contentReset.x){
/* callbacks: onOverflowXNone */
if(_cb("onOverflowXNone")){o.callbacks.onOverflowXNone.call(el[0]);}
d.contentReset.x=1;
}
if(to==="_resetY" || to==="_resetX"){return;}
if((d.contentReset.y || !el[0].mcs) && d.overflowed[0]){
/* callbacks: onOverflowY */
if(_cb("onOverflowY")){o.callbacks.onOverflowY.call(el[0]);}
d.contentReset.x=null;
}
if((d.contentReset.x || !el[0].mcs) && d.overflowed[1]){
/* callbacks: onOverflowX */
if(_cb("onOverflowX")){o.callbacks.onOverflowX.call(el[0]);}
d.contentReset.x=null;
}
if(o.snapAmount){ /* scrolling snapping */
var snapAmount=!(o.snapAmount instanceof Array) ? o.snapAmount : options.dir==="x" ? o.snapAmount[1] : o.snapAmount[0];
to=_snapAmount(to,snapAmount,o.snapOffset);
}
switch(options.dir){
case "x":
var mCSB_dragger=$("#mCSB_"+d.idx+"_dragger_horizontal"),
property="left",
contentPos=mCSB_container[0].offsetLeft,
limit=[
mCustomScrollBox.width()-mCSB_container.outerWidth(false),
mCSB_dragger.parent().width()-mCSB_dragger.width()
],
scrollTo=[to,to===0 ? 0 : (to/d.scrollRatio.x)],
tso=totalScrollOffsets[1],
tsbo=totalScrollBackOffsets[1],
totalScrollOffset=tso>0 ? tso/d.scrollRatio.x : 0,
totalScrollBackOffset=tsbo>0 ? tsbo/d.scrollRatio.x : 0;
break;
case "y":
var mCSB_dragger=$("#mCSB_"+d.idx+"_dragger_vertical"),
property="top",
contentPos=mCSB_container[0].offsetTop,
limit=[
mCustomScrollBox.height()-mCSB_container.outerHeight(false),
mCSB_dragger.parent().height()-mCSB_dragger.height()
],
scrollTo=[to,to===0 ? 0 : (to/d.scrollRatio.y)],
tso=totalScrollOffsets[0],
tsbo=totalScrollBackOffsets[0],
totalScrollOffset=tso>0 ? tso/d.scrollRatio.y : 0,
totalScrollBackOffset=tsbo>0 ? tsbo/d.scrollRatio.y : 0;
break;
}
if(scrollTo[1]<0 || (scrollTo[0]===0 && scrollTo[1]===0)){
scrollTo=[0,0];
}else if(scrollTo[1]>=limit[1]){
scrollTo=[limit[0],limit[1]];
}else{
scrollTo[0]=-scrollTo[0];
}
if(!el[0].mcs){
_mcs();  /* init mcs object (once) to make it available before callbacks */
if(_cb("onInit")){o.callbacks.onInit.call(el[0]);} /* callbacks: onInit */
}
clearTimeout(mCSB_container[0].onCompleteTimeout);
_tweenTo(mCSB_dragger[0],property,Math.round(scrollTo[1]),dur[1],options.scrollEasing);
if(!d.tweenRunning && ((contentPos===0 && scrollTo[0]>=0) || (contentPos===limit[0] && scrollTo[0]<=limit[0]))){return;}
_tweenTo(mCSB_container[0],property,Math.round(scrollTo[0]),dur[0],options.scrollEasing,options.overwrite,{
onStart:function(){
if(options.callbacks && options.onStart && !d.tweenRunning){
/* callbacks: onScrollStart */
if(_cb("onScrollStart")){_mcs(); o.callbacks.onScrollStart.call(el[0]);}
d.tweenRunning=true;
_onDragClasses(mCSB_dragger);
d.cbOffsets=_cbOffsets();
}
},onUpdate:function(){
if(options.callbacks && options.onUpdate){
/* callbacks: whileScrolling */
if(_cb("whileScrolling")){_mcs(); o.callbacks.whileScrolling.call(el[0]);}
}
},onComplete:function(){
if(options.callbacks && options.onComplete){
if(o.axis==="yx"){clearTimeout(mCSB_container[0].onCompleteTimeout);}
var t=mCSB_container[0].idleTimer || 0;
mCSB_container[0].onCompleteTimeout=setTimeout(function(){
/* callbacks: onScroll, onTotalScroll, onTotalScrollBack */
if(_cb("onScroll")){_mcs(); o.callbacks.onScroll.call(el[0]);}
if(_cb("onTotalScroll") && scrollTo[1]>=limit[1]-totalScrollOffset && d.cbOffsets[0]){_mcs(); o.callbacks.onTotalScroll.call(el[0]);}
if(_cb("onTotalScrollBack") && scrollTo[1]<=totalScrollBackOffset && d.cbOffsets[1]){_mcs(); o.callbacks.onTotalScrollBack.call(el[0]);}
d.tweenRunning=false;
mCSB_container[0].idleTimer=0;
_onDragClasses(mCSB_dragger,"hide");
},t);
}
}
});
/* checks if callback function exists */
function _cb(cb){
return d && o.callbacks[cb] && typeof o.callbacks[cb]==="function";
}
/* checks whether callback offsets always trigger */
function _cbOffsets(){
return [o.callbacks.alwaysTriggerOffsets || contentPos>=limit[0]+tso,o.callbacks.alwaysTriggerOffsets || contentPos<=-tsbo];
}
/* 
populates object with useful values for the user 
values: 
content: this.mcs.content
content top position: this.mcs.top 
content left position: this.mcs.left 
dragger top position: this.mcs.draggerTop 
dragger left position: this.mcs.draggerLeft 
scrolling y percentage: this.mcs.topPct 
scrolling x percentage: this.mcs.leftPct 
scrolling direction: this.mcs.direction
*/
function _mcs(){
var cp=[mCSB_container[0].offsetTop,mCSB_container[0].offsetLeft], /* content position */
dp=[mCSB_dragger[0].offsetTop,mCSB_dragger[0].offsetLeft], /* dragger position */
cl=[mCSB_container.outerHeight(false),mCSB_container.outerWidth(false)], /* content length */
pl=[mCustomScrollBox.height(),mCustomScrollBox.width()]; /* content parent length */
el[0].mcs={
content:mCSB_container, /* original content wrapper as jquery object */
top:cp[0],left:cp[1],draggerTop:dp[0],draggerLeft:dp[1],
topPct:Math.round((100*Math.abs(cp[0]))/(Math.abs(cl[0])-pl[0])),leftPct:Math.round((100*Math.abs(cp[1]))/(Math.abs(cl[1])-pl[1])),
direction:options.dir
};
/* 
this refers to the original element containing the scrollbar(s)
usage: this.mcs.top, this.mcs.leftPct etc. 
*/
}
},
/* -------------------- */


/* 
CUSTOM JAVASCRIPT ANIMATION TWEEN 
Lighter and faster than jquery animate() and css transitions 
Animates top/left properties and includes easings 
*/
_tweenTo=function(el,prop,to,duration,easing,overwrite,callbacks){
if(!el._mTween){el._mTween={top:{},left:{}};}
var callbacks=callbacks || {},
onStart=callbacks.onStart || function(){},onUpdate=callbacks.onUpdate || function(){},onComplete=callbacks.onComplete || function(){},
startTime=_getTime(),_delay,progress=0,from=el.offsetTop,elStyle=el.style,_request,tobj=el._mTween[prop];
if(prop==="left"){from=el.offsetLeft;}
var diff=to-from;
tobj.stop=0;
if(overwrite!=="none"){_cancelTween();}
_startTween();
function _step(){
if(tobj.stop){return;}
if(!progress){onStart.call();}
progress=_getTime()-startTime;
_tween();
if(progress>=tobj.time){
tobj.time=(progress>tobj.time) ? progress+_delay-(progress-tobj.time) : progress+_delay-1;
if(tobj.time<progress+1){tobj.time=progress+1;}
}
if(tobj.time<duration){tobj.id=_request(_step);}else{onComplete.call();}
}
function _tween(){
if(duration>0){
tobj.currVal=_ease(tobj.time,from,diff,duration,easing);
elStyle[prop]=Math.round(tobj.currVal)+"px";
}else{
elStyle[prop]=to+"px";
}
onUpdate.call();
}
function _startTween(){
_delay=1000/60;
tobj.time=progress+_delay;
_request=(!window.requestAnimationFrame) ? function(f){_tween(); return setTimeout(f,0.01);} : window.requestAnimationFrame;
tobj.id=_request(_step);
}
function _cancelTween(){
if(tobj.id==null){return;}
if(!window.requestAnimationFrame){clearTimeout(tobj.id);
}else{window.cancelAnimationFrame(tobj.id);}
tobj.id=null;
}
function _ease(t,b,c,d,type){
switch(type){
case "linear": case "mcsLinear":
return c*t/d + b;
break;
case "mcsLinearOut":
t/=d; t--; return c * Math.sqrt(1 - t*t) + b;
break;
case "easeInOutSmooth":
t/=d/2;
if(t<1) return c/2*t*t + b;
t--;
return -c/2 * (t*(t-2) - 1) + b;
break;
case "easeInOutStrong":
t/=d/2;
if(t<1) return c/2 * Math.pow( 2, 10 * (t - 1) ) + b;
t--;
return c/2 * ( -Math.pow( 2, -10 * t) + 2 ) + b;
break;
case "easeInOut": case "mcsEaseInOut":
t/=d/2;
if(t<1) return c/2*t*t*t + b;
t-=2;
return c/2*(t*t*t + 2) + b;
break;
case "easeOutSmooth":
t/=d; t--;
return -c * (t*t*t*t - 1) + b;
break;
case "easeOutStrong":
return c * ( -Math.pow( 2, -10 * t/d ) + 1 ) + b;
break;
case "easeOut": case "mcsEaseOut": default:
var ts=(t/=d)*t,tc=ts*t;
return b+c*(0.499999999999997*tc*ts + -2.5*ts*ts + 5.5*tc + -6.5*ts + 4*t);
}
}
},
/* -------------------- */


/* returns current time */
_getTime=function(){
if(window.performance && window.performance.now){
return window.performance.now();
}else{
if(window.performance && window.performance.webkitNow){
return window.performance.webkitNow();
}else{
if(Date.now){return Date.now();}else{return new Date().getTime();}
}
}
},
/* -------------------- */


/* stops a tween */
_stopTween=function(){
var el=this;
if(!el._mTween){el._mTween={top:{},left:{}};}
var props=["top","left"];
for(var i=0; i<props.length; i++){
var prop=props[i];
if(el._mTween[prop].id){
if(!window.requestAnimationFrame){clearTimeout(el._mTween[prop].id);
}else{window.cancelAnimationFrame(el._mTween[prop].id);}
el._mTween[prop].id=null;
el._mTween[prop].stop=1;
}
}
},
/* -------------------- */


/* deletes a property (avoiding the exception thrown by IE) */
_delete=function(c,m){
try{delete c[m];}catch(e){c[m]=null;}
},
/* -------------------- */


/* detects left mouse button */
_mouseBtnLeft=function(e){
return !(e.which && e.which!==1);
},
/* -------------------- */


/* detects if pointer type event is touch */
_pointerTouch=function(e){
var t=e.originalEvent.pointerType;
return !(t && t!=="touch" && t!==2);
},
/* -------------------- */


/* checks if value is numeric */
_isNumeric=function(val){
return !isNaN(parseFloat(val)) && isFinite(val);
},
/* -------------------- */


/* returns element position according to content */
_childPos=function(el){
var p=el.parents(".mCSB_container");
return [el.offset().top-p.offset().top,el.offset().left-p.offset().left];
},
/* -------------------- */


/* checks if browser tab is hidden/inactive via Page Visibility API */
_isTabHidden=function(){
var prop=_getHiddenProp();
if(!prop) return false;
return document[prop];
function _getHiddenProp(){
var pfx=["webkit","moz","ms","o"];
if("hidden" in document) return "hidden"; //natively supported
for(var i=0; i<pfx.length; i++){ //prefixed
    if((pfx[i]+"Hidden") in document) 
        return pfx[i]+"Hidden";
}
return null; //not supported
}
};
/* -------------------- */





/* 
----------------------------------------
PLUGIN SETUP 
----------------------------------------
*/

/* plugin constructor functions */
$.fn[pluginNS]=function(method){ /* usage: $(selector).mCustomScrollbar(); */
if(methods[method]){
return methods[method].apply(this,Array.prototype.slice.call(arguments,1));
}else if(typeof method==="object" || !method){
return methods.init.apply(this,arguments);
}else{
$.error("Method "+method+"does not exist");
}
};
$[pluginNS]=function(method){ /* usage: $.mCustomScrollbar(); */
if(methods[method]){
return methods[method].apply(this,Array.prototype.slice.call(arguments,1));
}else if(typeof method==="object" || !method){
return methods.init.apply(this,arguments);
}else{
$.error("Method "+method+"does not exist");
}
};

/* 
allow setting plugin default options. 
usage: $.mCustomScrollbar.defaults.scrollInertia=500; 
to apply any changed default options on default selectors (below), use inside document ready fn 
e.g.: $(document).ready(function(){ $.mCustomScrollbar.defaults.scrollInertia=500; });
*/
$[pluginNS].defaults=defaults;

/* 
add window object (window.mCustomScrollbar) 
usage: if(window.mCustomScrollbar){console.log("custom scrollbar plugin loaded");}
*/
window[pluginNS]=true;

$(window).bind("load",function(){

$(defaultSelector)[pluginNS](); /* add scrollbars automatically on default selector */

/* extend jQuery expressions */
$.extend($.expr[":"],{
/* checks if element is within scrollable viewport */
mcsInView:$.expr[":"].mcsInView || function(el){
var $el=$(el),content=$el.parents(".mCSB_container"),wrapper,cPos;
if(!content.length){return;}
wrapper=content.parent();
cPos=[content[0].offsetTop,content[0].offsetLeft];
return cPos[0]+_childPos($el)[0]>=0 && cPos[0]+_childPos($el)[0]<wrapper.height()-$el.outerHeight(false) && 
cPos[1]+_childPos($el)[1]>=0 && cPos[1]+_childPos($el)[1]<wrapper.width()-$el.outerWidth(false);
},
/* checks if element or part of element is in view of scrollable viewport */
mcsInSight:$.expr[":"].mcsInSight || function(el,i,m){
var $el=$(el),elD,content=$el.parents(".mCSB_container"),wrapperView,pos,wrapperViewPct,
pctVals=m[3]==="exact" ? [[1,0],[1,0]] : [[0.9,0.1],[0.6,0.4]];
if(!content.length){return;}
elD=[$el.outerHeight(false),$el.outerWidth(false)];
pos=[content[0].offsetTop+_childPos($el)[0],content[0].offsetLeft+_childPos($el)[1]];
wrapperView=[content.parent()[0].offsetHeight,content.parent()[0].offsetWidth];
wrapperViewPct=[elD[0]<wrapperView[0] ? pctVals[0] : pctVals[1],elD[1]<wrapperView[1] ? pctVals[0] : pctVals[1]];
return pos[0]-(wrapperView[0]*wrapperViewPct[0][0])<0 && pos[0]+elD[0]-(wrapperView[0]*wrapperViewPct[0][1])>=0 && 
pos[1]-(wrapperView[1]*wrapperViewPct[1][0])<0 && pos[1]+elD[1]-(wrapperView[1]*wrapperViewPct[1][1])>=0;
},
/* checks if element is overflowed having visible scrollbar(s) */
mcsOverflow:$.expr[":"].mcsOverflow || function(el){
var d=$(el).data(pluginPfx);
if(!d){return;}
return d.overflowed[0] || d.overflowed[1];
}
});

});

}))}));
// ==ClosureCompiler==
// @compilation_level ADVANCED_OPTIMIZATIONS
// @externs_url https://raw.githubusercontent.com/google/closure-compiler/master/contrib/externs/maps/google_maps_api_v3.js
// ==/ClosureCompiler==

/**
 * @name MarkerClusterer for Google Maps v3
 * @version version 1.0
 * @author Luke Mahe
 * @fileoverview
 * The library creates and manages per-zoom-level clusters for large amounts of
 * markers.
 * <br/>
 * This is a v3 implementation of the
 * <a href="http:* >v2 MarkerClusterer</a>.
 */

function MarkerClusterer(map,opt_markers,opt_options) {this.extend(MarkerClusterer,google.maps.OverlayView);this.map_ =map;this.markers_ =[];this.clusters_ =[];this.sizes =[53,56,66,78,90];this.styles_ =[];this.ready_ =false;var options =opt_options ||{};this.gridSize_ =options['gridSize'] ||60;this.minClusterSize_ =options['minimumClusterSize'] ||2;this.maxZoom_ =options['maxZoom'] ||null;this.styles_ =options['styles'] ||[];this.imagePath_ =options['imagePath'] ||this.MARKER_CLUSTER_IMAGE_PATH_;this.imageExtension_ =options['imageExtension'] ||this.MARKER_CLUSTER_IMAGE_EXTENSION_;this.zoomOnClick_ =true;if (options['zoomOnClick'] !=undefined) {this.zoomOnClick_ =options['zoomOnClick'];}
 this.averageCenter_ =false;if (options['averageCenter'] !=undefined) {this.averageCenter_ =options['averageCenter'];}
 this.setupStyles_();this.setMap(map);this.prevZoom_ =this.map_.getZoom();var that =this;google.maps.event.addListener(this.map_,'zoom_changed',function() {var zoom =that.map_.getZoom();if (that.prevZoom_ !=zoom) {that.prevZoom_ =zoom;that.resetViewport();}
 });google.maps.event.addListener(this.map_,'idle',function() {that.redraw();});if (opt_markers &&opt_markers.length) {this.addMarkers(opt_markers,false);}
}
MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_ ='../images/m';MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_ ='png';MarkerClusterer.prototype.extend =function(obj1,obj2) {return (function(object) {for (var property in object.prototype) {this.prototype[property] =object.prototype[property];}
 return this;}).apply(obj1,[obj2]);};MarkerClusterer.prototype.onAdd =function() {this.setReady_(true);};MarkerClusterer.prototype.draw =function() {};MarkerClusterer.prototype.setupStyles_ =function() {if (this.styles_.length) {return;}
 for (var i =0,size;size =this.sizes[i];i++) {this.styles_.push({url:this.imagePath_ + (i + 1) + '.'+ this.imageExtension_,height:size,width:size
 });}
};MarkerClusterer.prototype.fitMapToMarkers =function() {var markers =this.getMarkers();var bounds =new google.maps.LatLngBounds();for (var i =0,marker;marker =markers[i];i++) {bounds.extend(marker.getPosition());}
 this.map_.fitBounds(bounds);};MarkerClusterer.prototype.setStyles =function(styles) {this.styles_ =styles;};MarkerClusterer.prototype.getStyles =function() {return this.styles_;};MarkerClusterer.prototype.isZoomOnClick =function() {return this.zoomOnClick_;};MarkerClusterer.prototype.isAverageCenter =function() {return this.averageCenter_;};MarkerClusterer.prototype.getMarkers =function() {return this.markers_;};MarkerClusterer.prototype.getTotalMarkers =function() {return this.markers_.length;};MarkerClusterer.prototype.setMaxZoom =function(maxZoom) {this.maxZoom_ =maxZoom;};MarkerClusterer.prototype.getMaxZoom =function() {return this.maxZoom_;};MarkerClusterer.prototype.calculator_ =function(markers,numStyles) {var index =0;var count =markers.length;var dv =count;while (dv !==0) {dv =parseInt(dv / 10,10);index++;}
 index =Math.min(index,numStyles);return {text:count,index:index
 };};MarkerClusterer.prototype.setCalculator =function(calculator) {this.calculator_ =calculator;};MarkerClusterer.prototype.getCalculator =function() {return this.calculator_;};MarkerClusterer.prototype.addMarkers =function(markers,opt_nodraw) {for (var i =0,marker;marker =markers[i];i++) {this.pushMarkerTo_(marker);}
 if (!opt_nodraw) {this.redraw();}
};MarkerClusterer.prototype.pushMarkerTo_ =function(marker) {marker.isAdded =false;if (marker['draggable']) {var that =this;google.maps.event.addListener(marker,'dragend',function() {marker.isAdded =false;that.repaint();});}
 this.markers_.push(marker);};MarkerClusterer.prototype.addMarker =function(marker,opt_nodraw) {this.pushMarkerTo_(marker);if (!opt_nodraw) {this.redraw();}
};MarkerClusterer.prototype.removeMarker_ =function(marker) {var index =-1;if (this.markers_.indexOf) {index =this.markers_.indexOf(marker);} else {for (var i =0,m;m =this.markers_[i];i++) {if (m ==marker) {index =i;break;}
 }
 }
 if (index ==-1) {return false;}
 marker.setMap(null);this.markers_.splice(index,1);return true;};MarkerClusterer.prototype.removeMarker =function(marker,opt_nodraw) {var removed =this.removeMarker_(marker);if (!opt_nodraw &&removed) {this.resetViewport();this.redraw();return true;} else {return false;}
};MarkerClusterer.prototype.removeMarkers =function(markers,opt_nodraw) {var removed =false;for (var i =0,marker;marker =markers[i];i++) {var r =this.removeMarker_(marker);removed =removed ||r;}
 if (!opt_nodraw &&removed) {this.resetViewport();this.redraw();return true;}
};MarkerClusterer.prototype.setReady_ =function(ready) {if (!this.ready_) {this.ready_ =ready;this.createClusters_();}
};MarkerClusterer.prototype.getTotalClusters =function() {return this.clusters_.length;};MarkerClusterer.prototype.getMap =function() {return this.map_;};MarkerClusterer.prototype.setMap =function(map) {this.map_ =map;};MarkerClusterer.prototype.getGridSize =function() {return this.gridSize_;};MarkerClusterer.prototype.setGridSize =function(size) {this.gridSize_ =size;};MarkerClusterer.prototype.getMinClusterSize =function() {return this.minClusterSize_;};MarkerClusterer.prototype.setMinClusterSize =function(size) {this.minClusterSize_ =size;};MarkerClusterer.prototype.getExtendedBounds =function(bounds) {var projection =this.getProjection();var tr =new google.maps.LatLng(bounds.getNorthEast().lat(),bounds.getNorthEast().lng());var bl =new google.maps.LatLng(bounds.getSouthWest().lat(),bounds.getSouthWest().lng());var trPix =projection.fromLatLngToDivPixel(tr);trPix.x +=this.gridSize_;trPix.y -=this.gridSize_;var blPix =projection.fromLatLngToDivPixel(bl);blPix.x -=this.gridSize_;blPix.y +=this.gridSize_;var ne =projection.fromDivPixelToLatLng(trPix);var sw =projection.fromDivPixelToLatLng(blPix);bounds.extend(ne);bounds.extend(sw);return bounds;};MarkerClusterer.prototype.isMarkerInBounds_ =function(marker,bounds) {return bounds.contains(marker.getPosition());};MarkerClusterer.prototype.clearMarkers =function() {this.resetViewport(true);this.markers_ =[];};MarkerClusterer.prototype.resetViewport =function(opt_hide) {for (var i =0,cluster;cluster =this.clusters_[i];i++) {cluster.remove();}
 for (var i =0,marker;marker =this.markers_[i];i++) {marker.isAdded =false;if (opt_hide) {marker.setMap(null);}
 }
 this.clusters_ =[];};MarkerClusterer.prototype.repaint =function() {var oldClusters =this.clusters_.slice();this.clusters_.length =0;this.resetViewport();this.redraw();window.setTimeout(function() {for (var i =0,cluster;cluster =oldClusters[i];i++) {cluster.remove();}
 },0);};MarkerClusterer.prototype.redraw =function() {this.createClusters_();};MarkerClusterer.prototype.distanceBetweenPoints_ =function(p1,p2) {if (!p1 ||!p2) {return 0;}
 var R =6371;var dLat =(p2.lat() - p1.lat()) * Math.PI / 180;var dLon =(p2.lng() - p1.lng()) * Math.PI / 180;var a =Math.sin(dLat / 2) * Math.sin(dLat / 2) +
 Math.cos(p1.lat() * Math.PI / 180) * Math.cos(p2.lat() * Math.PI / 180) *
 Math.sin(dLon / 2) * Math.sin(dLon / 2);var c =2 * Math.atan2(Math.sqrt(a),Math.sqrt(1 - a));var d =R * c;return d;};MarkerClusterer.prototype.addToClosestCluster_ =function(marker) {var distance =40000;var clusterToAddTo =null;var pos =marker.getPosition();for (var i =0,cluster;cluster =this.clusters_[i];i++) {var center =cluster.getCenter();if (center) {var d =this.distanceBetweenPoints_(center,marker.getPosition());if (d < distance) {distance =d;clusterToAddTo =cluster;}
 }
 }
 if (clusterToAddTo &&clusterToAddTo.isMarkerInClusterBounds(marker)) {clusterToAddTo.addMarker(marker);} else {var cluster =new Cluster(this);cluster.addMarker(marker);this.clusters_.push(cluster);}
};MarkerClusterer.prototype.createClusters_ =function() {if (!this.ready_) {return;}
 var mapBounds =new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast());var bounds =this.getExtendedBounds(mapBounds);for (var i =0,marker;marker =this.markers_[i];i++) {if (!marker.isAdded &&this.isMarkerInBounds_(marker,bounds)) {this.addToClosestCluster_(marker);}
 }
};function Cluster(markerClusterer) {this.markerClusterer_ =markerClusterer;this.map_ =markerClusterer.getMap();this.gridSize_ =markerClusterer.getGridSize();this.minClusterSize_ =markerClusterer.getMinClusterSize();this.averageCenter_ =markerClusterer.isAverageCenter();this.center_ =null;this.markers_ =[];this.bounds_ =null;this.clusterIcon_ =new ClusterIcon(this,markerClusterer.getStyles(),markerClusterer.getGridSize());}
Cluster.prototype.isMarkerAlreadyAdded =function(marker) {if (this.markers_.indexOf) {return this.markers_.indexOf(marker) !=-1;} else {for (var i =0,m;m =this.markers_[i];i++) {if (m ==marker) {return true;}
 }
 }
 return false;};Cluster.prototype.addMarker =function(marker) {if (this.isMarkerAlreadyAdded(marker)) {return false;}
 if (!this.center_) {this.center_ =marker.getPosition();this.calculateBounds_();} else {if (this.averageCenter_) {var l =this.markers_.length + 1;var lat =(this.center_.lat() * (l-1) + marker.getPosition().lat()) / l;var lng =(this.center_.lng() * (l-1) + marker.getPosition().lng()) / l;this.center_ =new google.maps.LatLng(lat,lng);this.calculateBounds_();}
 }
 marker.isAdded =true;this.markers_.push(marker);var len =this.markers_.length;if (len < this.minClusterSize_ &&marker.getMap() !=this.map_) {marker.setMap(this.map_);}
 if (len ==this.minClusterSize_) {for (var i =0;i < len;i++) {this.markers_[i].setMap(null);}
 }
 if (len >=this.minClusterSize_) {marker.setMap(null);}
 this.updateIcon();return true;};Cluster.prototype.getMarkerClusterer =function() {return this.markerClusterer_;};Cluster.prototype.getBounds =function() {var bounds =new google.maps.LatLngBounds(this.center_,this.center_);var markers =this.getMarkers();for (var i =0,marker;marker =markers[i];i++) {bounds.extend(marker.getPosition());}
 return bounds;};Cluster.prototype.remove =function() {this.clusterIcon_.remove();this.markers_.length =0;delete this.markers_;};Cluster.prototype.getSize =function() {return this.markers_.length;};Cluster.prototype.getMarkers =function() {return this.markers_;};Cluster.prototype.getCenter =function() {return this.center_;};Cluster.prototype.calculateBounds_ =function() {var bounds =new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_ =this.markerClusterer_.getExtendedBounds(bounds);};Cluster.prototype.isMarkerInClusterBounds =function(marker) {return this.bounds_.contains(marker.getPosition());};Cluster.prototype.getMap =function() {return this.map_;};Cluster.prototype.updateIcon =function() {var zoom =this.map_.getZoom();var mz =this.markerClusterer_.getMaxZoom();if (mz &&zoom > mz) {for (var i =0,marker;marker =this.markers_[i];i++) {marker.setMap(this.map_);}
 return;}
 if (this.markers_.length < this.minClusterSize_) {this.clusterIcon_.hide();return;}
 var numStyles =this.markerClusterer_.getStyles().length;var sums =this.markerClusterer_.getCalculator()(this.markers_,numStyles);this.clusterIcon_.setCenter(this.center_);this.clusterIcon_.setSums(sums);this.clusterIcon_.show();};function ClusterIcon(cluster,styles,opt_padding) {cluster.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.styles_ =styles;this.padding_ =opt_padding ||0;this.cluster_ =cluster;this.center_ =null;this.map_ =cluster.getMap();this.div_ =null;this.sums_ =null;this.visible_ =false;this.setMap(this.map_);}
ClusterIcon.prototype.triggerClusterClick =function(event) {var markerClusterer =this.cluster_.getMarkerClusterer();google.maps.event.trigger(markerClusterer,'clusterclick',this.cluster_,event);if (markerClusterer.isZoomOnClick()) {this.map_.fitBounds(this.cluster_.getBounds());}
};ClusterIcon.prototype.onAdd =function() {this.div_ =document.createElement('DIV');if (this.visible_) {var pos =this.getPosFromLatLng_(this.center_);this.div_.style.cssText =this.createCss(pos);this.div_.innerHTML =this.sums_.text;}
 var panes =this.getPanes();panes.overlayMouseTarget.appendChild(this.div_);var that =this;var isDragging =false;google.maps.event.addDomListener(this.div_,'click',function(event) {if (!isDragging) {that.triggerClusterClick(event);}
 });google.maps.event.addDomListener(this.div_,'mousedown',function() {isDragging =false;});google.maps.event.addDomListener(this.div_,'mousemove',function() {isDragging =true;});};ClusterIcon.prototype.getPosFromLatLng_ =function(latlng) {var pos =this.getProjection().fromLatLngToDivPixel(latlng);if (typeof this.iconAnchor_ ==='object'&&this.iconAnchor_.length ===2) {pos.x -=this.iconAnchor_[0];pos.y -=this.iconAnchor_[1];} else {pos.x -=parseInt(this.width_ / 2,10);pos.y -=parseInt(this.height_ / 2,10);}
 return pos;};ClusterIcon.prototype.draw =function() {if (this.visible_) {var pos =this.getPosFromLatLng_(this.center_);this.div_.style.top =pos.y + 'px';this.div_.style.left =pos.x + 'px';}
};ClusterIcon.prototype.hide =function() {if (this.div_) {this.div_.style.display ='none';}
 this.visible_ =false;};ClusterIcon.prototype.show =function() {if (this.div_) {var pos =this.getPosFromLatLng_(this.center_);this.div_.style.cssText =this.createCss(pos);this.div_.style.display ='';}
 this.visible_ =true;};ClusterIcon.prototype.remove =function() {this.setMap(null);};ClusterIcon.prototype.onRemove =function() {if (this.div_ &&this.div_.parentNode) {this.hide();this.div_.parentNode.removeChild(this.div_);this.div_ =null;}
};ClusterIcon.prototype.setSums =function(sums) {this.sums_ =sums;this.text_ =sums.text;this.index_ =sums.index;if (this.div_) {this.div_.innerHTML =sums.text;}
 this.useStyle();};ClusterIcon.prototype.useStyle =function() {var index =Math.max(0,this.sums_.index - 1);index =Math.min(this.styles_.length - 1,index);var style =this.styles_[index];this.url_ =style['url'];this.height_ =style['height'];this.width_ =style['width'];this.textColor_ =style['textColor'];this.anchor_ =style['anchor'];this.textSize_ =style['textSize'];this.backgroundPosition_ =style['backgroundPosition'];this.iconAnchor_ =style['iconAnchor'];};ClusterIcon.prototype.setCenter =function(center) {this.center_ =center;};ClusterIcon.prototype.createCss =function(pos) {var style =[];style.push('background-image:url('+ this.url_ + ');');var backgroundPosition =this.backgroundPosition_ ?this.backgroundPosition_ :'0 0';style.push('background-position:'+ backgroundPosition + ';');if (typeof this.anchor_ ==='object') {if (typeof this.anchor_[0] ==='number'&&this.anchor_[0] > 0 &&this.anchor_[0] < this.height_) {style.push('height:'+ (this.height_ - this.anchor_[0]) +
 'px; padding-top:'+ this.anchor_[0] + 'px;');} else if (typeof this.anchor_[0] ==='number'&&this.anchor_[0] < 0 &&-this.anchor_[0] < this.height_) {style.push('height:'+ this.height_ + 'px; line-height:'+ (this.height_ + this.anchor_[0]) +
 'px;');} else {style.push('height:'+ this.height_ + 'px; line-height:'+ this.height_ +
 'px;');}
 if (typeof this.anchor_[1] ==='number'&&this.anchor_[1] > 0 &&this.anchor_[1] < this.width_) {style.push('width:'+ (this.width_ - this.anchor_[1]) +
 'px; padding-left:'+ this.anchor_[1] + 'px;');} else {style.push('width:'+ this.width_ + 'px; text-align:center;');}
 } else {style.push('height:'+ this.height_ + 'px; line-height:'+
 this.height_ + 'px; width:'+ this.width_ + 'px; text-align:center;');}
 var txtColor =this.textColor_ ?this.textColor_ :'black';var txtSize =this.textSize_ ?this.textSize_ :11;style.push('cursor:pointer; top:'+ pos.y + 'px; left:'+
 pos.x + 'px; color:'+ txtColor + '; position:absolute; font-size:'+
 txtSize + 'px; font-family:Arial,sans-serif; font-weight:bold');return style.join('');};window['MarkerClusterer'] =MarkerClusterer;MarkerClusterer.prototype['addMarker'] =MarkerClusterer.prototype.addMarker;MarkerClusterer.prototype['addMarkers'] =MarkerClusterer.prototype.addMarkers;MarkerClusterer.prototype['clearMarkers'] =MarkerClusterer.prototype.clearMarkers;MarkerClusterer.prototype['fitMapToMarkers'] =MarkerClusterer.prototype.fitMapToMarkers;MarkerClusterer.prototype['getCalculator'] =MarkerClusterer.prototype.getCalculator;MarkerClusterer.prototype['getGridSize'] =MarkerClusterer.prototype.getGridSize;MarkerClusterer.prototype['getExtendedBounds'] =MarkerClusterer.prototype.getExtendedBounds;MarkerClusterer.prototype['getMap'] =MarkerClusterer.prototype.getMap;MarkerClusterer.prototype['getMarkers'] =MarkerClusterer.prototype.getMarkers;MarkerClusterer.prototype['getMaxZoom'] =MarkerClusterer.prototype.getMaxZoom;MarkerClusterer.prototype['getStyles'] =MarkerClusterer.prototype.getStyles;MarkerClusterer.prototype['getTotalClusters'] =MarkerClusterer.prototype.getTotalClusters;MarkerClusterer.prototype['getTotalMarkers'] =MarkerClusterer.prototype.getTotalMarkers;MarkerClusterer.prototype['redraw'] =MarkerClusterer.prototype.redraw;MarkerClusterer.prototype['removeMarker'] =MarkerClusterer.prototype.removeMarker;MarkerClusterer.prototype['removeMarkers'] =MarkerClusterer.prototype.removeMarkers;MarkerClusterer.prototype['resetViewport'] =MarkerClusterer.prototype.resetViewport;MarkerClusterer.prototype['repaint'] =MarkerClusterer.prototype.repaint;MarkerClusterer.prototype['setCalculator'] =MarkerClusterer.prototype.setCalculator;MarkerClusterer.prototype['setGridSize'] =MarkerClusterer.prototype.setGridSize;MarkerClusterer.prototype['setMaxZoom'] =MarkerClusterer.prototype.setMaxZoom;MarkerClusterer.prototype['onAdd'] =MarkerClusterer.prototype.onAdd;MarkerClusterer.prototype['draw'] =MarkerClusterer.prototype.draw;Cluster.prototype['getCenter'] =Cluster.prototype.getCenter;Cluster.prototype['getSize'] =Cluster.prototype.getSize;Cluster.prototype['getMarkers'] =Cluster.prototype.getMarkers;ClusterIcon.prototype['onAdd'] =ClusterIcon.prototype.onAdd;ClusterIcon.prototype['draw'] =ClusterIcon.prototype.draw;ClusterIcon.prototype['onRemove'] =ClusterIcon.prototype.onRemove;!function(a){var t='<div class="modaal-loading-spinner"><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div>',o={init:function(t,o){var e=this;e.dom=a("body"),e.$elem=a(o),e.options=a.extend({},a.fn.modaal.options,e.$elem.data(),t),e.xhr=null,e.scope={is_open:!1,id:"modaal_"+(new Date).getTime()+Math.random().toString(16).substring(2)},e.$elem.attr("data-modaal-scope",e.scope.id),e.private_options={active_class:"is_active"},e.lastFocus=null,e.options.is_locked||"confirm"==e.options.type||e.options.hide_close?e.scope.close_btn="":e.scope.close_btn='<button type="button" class="modaal-close" id="modaal-close" aria-label="'+e.options.close_aria_label+'"><span>'+e.options.close_text+"</span></button>","none"===e.options.animation&&(e.options.animation_speed=0,e.options.after_callback_delay=0),a(o).on("click.Modaal",function(a){a.preventDefault();var t;if(e.lastFocus=document.activeElement,e.options.should_open!==!1&&("function"!=typeof e.options.should_open||e.options.should_open()!==!1)){switch(e.options.before_open.call(e,a),e.options.type){case"inline":e.create_basic();break;case"ajax":t=e.options.source(e.$elem,e.$elem.attr("href")),e.fetch_ajax(t);break;case"confirm":e.options.is_locked=!0,e.create_confirm();break;case"image":e.create_image();break;case"iframe":t=e.options.source(e.$elem,e.$elem.attr("href")),e.create_iframe(t);break;case"video":e.create_video(e.$elem.attr("href"));break;case"instagram":e.create_instagram()}e.watch_events()}}),e.options.start_open===!0&&a(o).click()},watch_events:function(){var t=this;t.dom.off("click.Modaal keyup.Modaal keydown.Modaal"),t.dom.on("keydown.Modaal",function(o){var e=o.keyCode,i=o.target;9==e&&t.scope.is_open&&(a.contains(document.getElementById(t.scope.id),i)||a("#"+t.scope.id).find('*[tabindex="0"]').focus())}),t.dom.on("keyup.Modaal",function(o){var e=o.keyCode,i=o.target;return o.shiftKey&&9==o.keyCode&&t.scope.is_open&&(a.contains(document.getElementById(t.scope.id),i)||a("#"+t.scope.id).find(".modaal-close").focus()),!t.options.is_locked&&27==e&&t.scope.is_open?a(document.activeElement).is("input:not(:checkbox):not(:radio)")?!1:void t.modaal_close():"image"==t.options.type?(37==e&&t.scope.is_open&&!a("#"+t.scope.id+" .modaal-gallery-prev").hasClass("is_hidden")&&t.gallery_update("prev"),void(39==e&&t.scope.is_open&&!a("#"+t.scope.id+" .modaal-gallery-next").hasClass("is_hidden")&&t.gallery_update("next"))):void 0}),t.dom.on("click.Modaal",function(o){var e=a(o.target);if(!t.options.is_locked&&(t.options.overlay_close&&e.is(".modaal-inner-wrapper")||e.is(".modaal-close")||e.closest(".modaal-close").length))return void t.modaal_close();if(e.is(".modaal-confirm-btn"))return e.is(".modaal-ok")&&t.options.confirm_callback.call(t,t.lastFocus),e.is(".modaal-cancel")&&t.options.confirm_cancel_callback.call(t,t.lastFocus),void t.modaal_close();if(e.is(".modaal-gallery-control")){if(e.hasClass("is_hidden"))return;return e.is(".modaal-gallery-prev")&&t.gallery_update("prev"),void(e.is(".modaal-gallery-next")&&t.gallery_update("next"))}})},build_modal:function(a){var t=this,o="";"instagram"==t.options.type&&(o=" modaal-instagram");var e,i="video"==t.options.type?"modaal-video-wrap":"modaal-content";switch(t.options.animation){case"fade":e=" modaal-start_fade";break;case"slide-down":e=" modaal-start_slidedown";break;default:e=" modaal-start_none"}var l="";t.options.fullscreen&&(l=" modaal-fullscreen"),""===t.options.custom_class&&"undefined"==typeof t.options.custom_class||(t.options.custom_class=" "+t.options.custom_class);var s="";t.options.width&&t.options.height&&"number"==typeof t.options.width&&"number"==typeof t.options.height?s=' style="max-width:'+t.options.width+"px;height:"+t.options.height+'px;overflow:auto;"':t.options.width&&"number"==typeof t.options.width?s=' style="max-width:'+t.options.width+'px;"':t.options.height&&"number"==typeof t.options.height&&(s=' style="height:'+t.options.height+'px;overflow:auto;"'),("image"==t.options.type||"video"==t.options.type||"instagram"==t.options.type||t.options.fullscreen)&&(s="");var n='<div class="modaal-wrapper modaal-'+t.options.type+e+o+l+t.options.custom_class+'" id="'+t.scope.id+'"><div class="modaal-outer-wrapper"><div class="modaal-inner-wrapper">';"video"!=t.options.type&&(n+='<div class="modaal-container"'+s+">"),n+='<div class="'+i+' modaal-focus" aria-hidden="false" aria-label="'+t.options.accessible_title+' (Press escape to close)" role="dialog">',n+="inline"==t.options.type?'<div class="modaal-content-container"></div>':a,n+="</div>"+t.scope.close_btn,"video"!=t.options.type&&(n+="</div>"),n+="</div></div></div>",t.dom.append(n),"inline"==t.options.type&&a.appendTo("#"+t.scope.id+" .modaal-content-container"),t.modaal_overlay("show")},create_basic:function(){var t=this,o=t.$elem.is("[href]")?a(t.$elem.attr("href")):t.$elem,e="";o.length?(e=o.contents().clone(!0,!0),o.empty()):e="Content could not be loaded. Please check the source and try again.",t.build_modal(e)},create_instagram:function(){var t=this,o=t.options.instagram_id,e="",i="Instagram photo couldn't be loaded, please check the embed code and try again.";if(t.build_modal('<div class="modaal-content-container'+(""!=t.options.loading_class?" "+t.options.loading_class:"")+'">'+t.options.loading_content+"</div>"),""!=o&&null!==o&&void 0!==o){var l="https://api.instagram.com/oembed?url=http://instagr.am/p/"+o+"/";a.ajax({url:l,dataType:"jsonp",cache:!1,success:function(o){e=o.html;var i=a("#"+t.scope.id+" .modaal-content-container");i.length>0&&(i.removeClass(t.options.loading_class),i.html(e),window.instgrm.Embeds.process())},error:function(){e=i;var o=a("#"+t.scope.id+" .modaal-content-container");o.length>0&&(o.removeClass(t.options.loading_class).addClass(t.options.ajax_error_class),o.html(e))}})}else e=i;return!1},fetch_ajax:function(t){var o=this;null==o.options.accessible_title&&(o.options.accessible_title="Dialog Window"),null!==o.xhr&&(o.xhr.abort(),o.xhr=null),o.build_modal('<div class="modaal-content-container'+(""!=o.options.loading_class?" "+o.options.loading_class:"")+'">'+o.options.loading_content+"</div>"),o.xhr=a.ajax(t,{success:function(t){var e=a("#"+o.scope.id).find(".modaal-content-container");e.length>0&&(e.removeClass(o.options.loading_class),e.html(t),o.options.ajax_success.call(o,e))},error:function(t){if("abort"!=t.statusText){var e=a("#"+o.scope.id+" .modaal-content-container");e.length>0&&(e.removeClass(o.options.loading_class).addClass(o.options.ajax_error_class),e.html("Content could not be loaded. Please check the source and try again."))}}})},create_confirm:function(){var a,t=this;a='<div class="modaal-content-container"><h1 id="modaal-title">'+t.options.confirm_title+'</h1><div class="modaal-confirm-content">'+t.options.confirm_content+'</div><div class="modaal-confirm-wrap"><button type="button" class="modaal-confirm-btn modaal-ok" aria-label="Confirm">'+t.options.confirm_button_text+'</button><button type="button" class="modaal-confirm-btn modaal-cancel" aria-label="Cancel">'+t.options.confirm_cancel_button_text+"</button></div></div></div>",t.build_modal(a)},create_image:function(){var t,o,e=this,i="",l='<button type="button" class="modaal-gallery-control modaal-gallery-prev" id="modaal-gallery-prev" aria-label="Previous image (use left arrow to change)"><span>Previous Image</span></button>',s='<button type="button" class="modaal-gallery-control modaal-gallery-next" id="modaal-gallery-next" aria-label="Next image (use right arrow to change)"><span>Next Image</span></button>';if(e.$elem.is("[rel]")){var n=e.$elem.attr("rel"),d=a('[rel="'+n+'"]');d.removeAttr("data-gallery-active","is_active"),e.$elem.attr("data-gallery-active","is_active"),o=d.length-1;var r=[];i='<div class="modaal-gallery-item-wrap">',d.each(function(a,t){var o="",e="",i="",l=!1,s=t.getAttribute("data-modaal-desc"),n=t.getAttribute("data-gallery-active");""!==t.href||void 0!==t.href?o=t.href:""===t.src&&void 0===t.src||(o=t.src),""!=s&&null!==s&&void 0!==s?(e=s,i='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(a+1)+" - </span>"+s+"</div>"):i='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image '+(a+1)+"</span></div>",n&&(l=!0);var d={url:o,alt:e,rawdesc:s,desc:i,active:l};r.push(d)});for(var c=0;c<r.length;c++){var m="",p=r[c].rawdesc?"Image: "+r[c].rawdesc:"Image "+c+" no description";r[c].active&&(m=" "+e.private_options.active_class),i+='<div class="modaal-gallery-item gallery-item-'+c+m+'" aria-label="'+p+'"><img src="'+r[c].url+'" alt=" " style="width:100%">'+r[c].desc+"</div>"}i+="</div>"+l+s}else{var _=e.$elem.attr("href"),v="",f="",p="";e.$elem.attr("data-modaal-desc")?(p=e.$elem.attr("data-modaal-desc"),v=e.$elem.attr("data-modaal-desc"),f='<div class="modaal-gallery-label"><span class="modaal-accessible-hide">Image - </span>'+v+"</div>"):p="Image with no description",i='<div class="modaal-gallery-item is_active" aria-label="'+p+'"><img src="'+_+'" alt=" " style="width:100%">'+f+"</div>"}t=i,e.build_modal(t),a(".modaal-gallery-item.is_active").is(".gallery-item-0")&&a(".modaal-gallery-prev").hide(),a(".modaal-gallery-item.is_active").is(".gallery-item-"+o)&&a(".modaal-gallery-next").hide()},gallery_update:function(t){var o=this,e=a("#"+o.scope.id),i=e.find(".modaal-gallery-item"),l=i.length-1;if(0==l)return!1;var s=e.find(".modaal-gallery-prev"),n=e.find(".modaal-gallery-next"),d=250,r=0,c=0,m=e.find(".modaal-gallery-item."+o.private_options.active_class),p="next"==t?m.next(".modaal-gallery-item"):m.prev(".modaal-gallery-item");return o.options.before_image_change.call(o,m,p),"prev"==t&&e.find(".gallery-item-0").hasClass("is_active")?!1:"next"==t&&e.find(".gallery-item-"+l).hasClass("is_active")?!1:void m.stop().animate({opacity:0},d,function(){p.addClass("is_next").css({position:"absolute",display:"block",opacity:0});var t=a(document).width(),i=t>1140?280:50;r=e.find(".modaal-gallery-item.is_next").width(),c=e.find(".modaal-gallery-item.is_next").height();var _=e.find(".modaal-gallery-item.is_next img").prop("naturalWidth"),v=e.find(".modaal-gallery-item.is_next img").prop("naturalHeight");_>t-i?(r=t-i,e.find(".modaal-gallery-item.is_next").css({width:r}),e.find(".modaal-gallery-item.is_next img").css({width:r}),c=e.find(".modaal-gallery-item.is_next").find("img").height()):(r=_,c=v),e.find(".modaal-gallery-item-wrap").stop().animate({width:r,height:c},d,function(){m.removeClass(o.private_options.active_class+" "+o.options.gallery_active_class).removeAttr("style"),m.find("img").removeAttr("style"),p.addClass(o.private_options.active_class+" "+o.options.gallery_active_class).removeClass("is_next").css("position",""),p.stop().animate({opacity:1},d,function(){a(this).removeAttr("style").css({width:"100%"}),a(this).find("img").css("width","100%"),e.find(".modaal-gallery-item-wrap").removeAttr("style"),o.options.after_image_change.call(o,p)}),e.find(".modaal-gallery-item").removeAttr("tabindex"),e.find(".modaal-gallery-item."+o.private_options.active_class).attr("tabindex","0").focus(),e.find(".modaal-gallery-item."+o.private_options.active_class).is(".gallery-item-0")?s.stop().animate({opacity:0},150,function(){a(this).hide()}):s.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150),e.find(".modaal-gallery-item."+o.private_options.active_class).is(".gallery-item-"+l)?n.stop().animate({opacity:0},150,function(){a(this).hide()}):n.stop().css({display:"block",opacity:s.css("opacity")}).animate({opacity:1},150)})})},create_video:function(a){var t,o=this;t='<iframe src="'+a+'" class="modaal-video-frame" frameborder="0" allowfullscreen></iframe>',o.build_modal('<div class="modaal-video-container">'+t+"</div>")},create_iframe:function(a){var t,o=this;t=null!==o.options.width||void 0!==o.options.width||null!==o.options.height||void 0!==o.options.height?'<iframe src="'+a+'" class="modaal-iframe-elem" frameborder="0" allowfullscreen></iframe>':'<div class="modaal-content-container">Please specify a width and height for your iframe</div>',o.build_modal(t)},modaal_open:function(){var t=this,o=a("#"+t.scope.id),e=t.options.animation;"none"===e&&(o.removeClass("modaal-start_none"),t.options.after_open.call(t,o)),"fade"===e&&o.removeClass("modaal-start_fade"),"slide-down"===e&&o.removeClass("modaal-start_slide_down");var i=o;a(".modaal-wrapper *[tabindex=0]").removeAttr("tabindex"),i="image"==t.options.type?a("#"+t.scope.id).find(".modaal-gallery-item."+t.private_options.active_class):o.find(".modaal-iframe-elem").length?o.find(".modaal-iframe-elem"):o.find(".modaal-video-wrap").length?o.find(".modaal-video-wrap"):o.find(".modaal-focus"),i.attr("tabindex","0").focus(),"none"!==e&&setTimeout(function(){t.options.after_open.call(t,o)},t.options.after_callback_delay)},modaal_close:function(){var t=this,o=a("#"+t.scope.id);t.options.before_close.call(t,o),null!==t.xhr&&(t.xhr.abort(),t.xhr=null),"none"===t.options.animation&&o.addClass("modaal-start_none"),"fade"===t.options.animation&&o.addClass("modaal-start_fade"),"slide-down"===t.options.animation&&o.addClass("modaal-start_slide_down"),setTimeout(function(){"inline"==t.options.type&&a("#"+t.scope.id+" .modaal-content-container").contents().clone(!0,!0).appendTo(t.$elem.attr("href")),o.remove(),t.options.after_close.call(t),t.scope.is_open=!1},t.options.after_callback_delay),t.modaal_overlay("hide"),null!=t.lastFocus&&t.lastFocus.focus()},modaal_overlay:function(t){var o=this;"show"==t?(o.scope.is_open=!0,o.options.background_scroll||o.dom.addClass("modaal-noscroll"),o.dom.append('<div class="modaal-overlay" id="'+o.scope.id+'_overlay"></div>'),a("#"+o.scope.id+"_overlay").css("background",o.options.background).stop().animate({opacity:o.options.overlay_opacity},o.options.animation_speed,function(){o.modaal_open()})):"hide"==t&&(o.dom.removeClass("modaal-noscroll"),a("#"+o.scope.id+"_overlay").stop().animate({opacity:0},o.options.animation_speed,function(){a(this).remove()}))}};a.fn.modaal=function(t){return this.each(function(){var e=a(this).data("modaal");if(e){if("string"==typeof t)switch(t){case"close":e.modaal_close()}}else{var i=Object.create(o);i.init(t,this),a.data(this,"modaal",i)}})},a.fn.modaal.options={type:"inline",animation:"fade",animation_speed:300,after_callback_delay:350,is_locked:!1,hide_close:!1,background:"#000",overlay_opacity:"0.8",overlay_close:!0,accessible_title:"Dialog Window",start_open:!1,fullscreen:!1,custom_class:"",background_scroll:!1,should_open:!0,close_text:"Close",close_aria_label:"Close (Press escape to close)",width:null,height:null,before_open:function(){},after_open:function(){},before_close:function(){},after_close:function(){},source:function(a,t){return t},confirm_button_text:"Confirm",confirm_cancel_button_text:"Cancel",confirm_title:"Confirm Title",confirm_content:"<p>This is the default confirm dialog content. Replace me through the options</p>",confirm_callback:function(){},confirm_cancel_callback:function(){},gallery_active_class:"gallery_active_item",before_image_change:function(a,t){},after_image_change:function(a){},loading_content:t,loading_class:"is_loading",ajax_error_class:"modaal-error",ajax_success:function(){},instagram_id:null},a(function(){var t=a(".modaal");t.length&&t.each(function(){var t=a(this),o={},e=!1;t.attr("data-modaal-type")&&(e=!0,o.type=t.attr("data-modaal-type")),t.attr("data-modaal-animation")&&(e=!0,o.animation=t.attr("data-modaal-animation")),t.attr("data-modaal-animation-speed")&&(e=!0,o.animation_speed=t.attr("data-modaal-animation-speed")),t.attr("data-modaal-after-callback-delay")&&(e=!0,o.after_callback_delay=t.attr("data-modaal-after-callback-delay")),t.attr("data-modaal-is-locked")&&(e=!0,o.is_locked="true"===t.attr("data-modaal-is-locked")),t.attr("data-modaal-hide-close")&&(e=!0,o.hide_close="true"===t.attr("data-modaal-hide-close")),t.attr("data-modaal-background")&&(e=!0,o.background=t.attr("data-modaal-background")),t.attr("data-modaal-overlay-opacity")&&(e=!0,o.overlay_opacity=t.attr("data-modaal-overlay-opacity")),t.attr("data-modaal-overlay-close")&&(e=!0,o.overlay_close="false"!==t.attr("data-modaal-overlay-close")),t.attr("data-modaal-accessible-title")&&(e=!0,o.accessible_title=t.attr("data-modaal-accessible-title")),t.attr("data-modaal-start-open")&&(e=!0,o.start_open="true"===t.attr("data-modaal-start-open")),t.attr("data-modaal-fullscreen")&&(e=!0,o.fullscreen="true"===t.attr("data-modaal-fullscreen")),t.attr("data-modaal-custom-class")&&(e=!0,o.custom_class=t.attr("data-modaal-custom-class")),t.attr("data-modaal-close-text")&&(e=!0,o.close_text=t.attr("data-modaal-close-text")),t.attr("data-modaal-close-aria-label")&&(e=!0,o.close_aria_label=t.attr("data-modaal-close-aria-label")),t.attr("data-modaal-background-scroll")&&(e=!0,o.background_scroll="true"===t.attr("data-modaal-background-scroll")),t.attr("data-modaal-width")&&(e=!0,o.width=parseInt(t.attr("data-modaal-width"))),t.attr("data-modaal-height")&&(e=!0,o.height=parseInt(t.attr("data-modaal-height"))),t.attr("data-modaal-confirm-button-text")&&(e=!0,o.confirm_button_text=t.attr("data-modaal-confirm-button-text")),t.attr("data-modaal-confirm-cancel-button-text")&&(e=!0,o.confirm_cancel_button_text=t.attr("data-modaal-confirm-cancel-button-text")),t.attr("data-modaal-confirm-title")&&(e=!0,o.confirm_title=t.attr("data-modaal-confirm-title")),t.attr("data-modaal-confirm-content")&&(e=!0,o.confirm_content=t.attr("data-modaal-confirm-content")),t.attr("data-modaal-gallery-active-class")&&(e=!0,o.gallery_active_class=t.attr("data-modaal-gallery-active-class")),t.attr("data-modaal-loading-content")&&(e=!0,o.loading_content=t.attr("data-modaal-loading-content")),t.attr("data-modaal-loading-class")&&(e=!0,o.loading_class=t.attr("data-modaal-loading-class")),t.attr("data-modaal-ajax-error-class")&&(e=!0,o.ajax_error_class=t.attr("data-modaal-ajax-error-class")),t.attr("data-modaal-instagram-id")&&(e=!0,o.instagram_id=t.attr("data-modaal-instagram-id")),e&&t.modaal(o)})})}(jQuery,window,document);(function (window,document) {var _eventListener ='addEventListener'in window;var _DOMReady =false;if (document.readyState ==='complete') {_DOMReady =true;} else if (_eventListener ) {window.addEventListener('load',loaded,false);}
function loaded () {window.removeEventListener('load',loaded,false);_DOMReady =true;}
var _reSmartURL =/\/ath(\/)?$/;
var _reQueryString =/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;

var _instance;function ath (options) {_instance =_instance ||new ath.Class(options);return _instance;}
ath.intl ={cs_cs:{ios:'Pro přidáni této webové aplikace na úvodní obrazovku: stlačte %icon a pak <strong>Přidat na úvodní obrazovku</strong>.',android:'Pro přidáni této webové aplikace na úvodní obrazovku otevřete menu nastavení prohlížeče a stlačte <strong>Přidat na úvodní obrazovku</strong>. <small>K menu se dostanete stlačením hardwaroveho tlačítka, když ho vaše zařízení má, nebo stlačením pravé horní menu ikony <span class="ath-action-icon">icon</span>.</small>'},de_de:{ios:'Um diese Web-App zum Home-Bildschirm hinzuzufügen, tippen Sie auf %icon und dann <strong>Zum Home-Bildschirm</strong>.',android:'Um diese Web-App zum Home-Bildschirm hinzuzufügen, öffnen Sie das Menü und tippen dann auf <strong>Zum Startbildschirm hinzufügen</strong>. <small>Wenn Ihr Gerät eine Menütaste hat, lässt sich das Browsermenü über diese öffnen. Ansonsten tippen Sie auf %icon.</small>'},da_dk:{ios:'For at tilføje denne web app til hjemmeskærmen: Tryk %icon og derefter <strong>Føj til hjemmeskærm</strong>.',android:'For at tilføje denne web app til hjemmeskærmen, åbn browser egenskaber menuen og tryk på <strong>Føj til hjemmeskærm</strong>. <small>Denne menu kan tilgås ved at trykke på menu knappen, hvis din enhed har en, eller ved at trykke på det øverste højre menu ikon %icon.</small>'},el_gr:{ios:'Για να προσθέσετε την εφαρμογή στην αρχική οθόνη: πατήστε το %icon και μετά <strong>Πρόσθεσε στην αρχική οθόνη</strong>.',android:'Για να προσθέσετε την εφαρμογή στην αρχική οθόνη, ανοίξτε τις επιλογές του browser σας και πατήστε το <strong>Προσθήκη στην αρχική οθόνη</strong>. <small>Μπορείτε να έχετε πρόσβαση στο μενού, πατώντας το κουμπί του μενού του κινητού σας ή το πάνω δεξιά κουμπί του μενού %icon.</small>'},en_us:{ios:'To add this web app to the home screen: tap %icon and then <strong>Add to Home Screen</strong>.',android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>'},es_es:{ios:'Para añadir esta aplicación web a la pantalla de inicio: pulsa %icon y selecciona <strong>Añadir a pantalla de inicio</strong>.',android:'Para añadir esta aplicación web a la pantalla de inicio, abre las opciones y pulsa <strong>Añadir a pantalla inicio</strong>. <small>El menú se puede acceder pulsando el botón táctil en caso de tenerlo, o bien el icono de la parte superior derecha de la pantalla %icon.</small>'},fi_fi:{ios:'Liitä tämä sovellus kotivalikkoon: klikkaa %icon ja tämän jälkeen <strong>Lisää kotivalikkoon</strong>.',android:'Lisätäksesi tämän sovelluksen aloitusnäytölle, avaa selaimen valikko ja klikkaa tähti -ikonia tai <strong>Lisää aloitusnäytölle tekstiä</strong>. <small>Valikkoon pääsee myös painamalla menuvalikkoa, jos laitteessasi on sellainen tai koskettamalla oikealla yläkulmassa menu ikonia %icon.</small>'},fr_fr:{ios:'Pour ajouter cette application web sur l\'écran d\'accueil : Appuyez %icon et sélectionnez <strong>Ajouter sur l\'écran d\'accueil</strong>.',android:'Pour ajouter cette application web sur l\'écran d\'accueil : Appuyez sur le bouton "menu", puis sur <strong>Ajouter sur l\'écran d\'accueil</strong>. <small>Le menu peut-être accessible en appuyant sur le bouton "menu" du téléphone s\'il en possède un <i class="fa fa-bars"></i>. Sinon,il se trouve probablement dans la coin supérieur droit du navigateur %icon.</small>'
},

he_il: {
ios: '<span dir="rtl">להוספת האפליקציה למסך הבית:ללחוץ על %icon ואז <strong>הוסף למסך הבית</strong>.</span>',
android: 'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one,or by tapping the top right menu icon %icon.</small>'
},

hu_hu: {
ios: 'Ha hozzá szeretné adni ezt az alkalmazást a kezdőképernyőjéhez,érintse meg a következő ikont:%icon ,majd a <strong>Hozzáadás a kezdőképernyőhöz</strong> menüpontot.',
android: 'Ha hozzá szeretné adni ezt az alkalmazást a kezdőképernyőjéhez,a böngésző menüjében kattintson a <strong>Hozzáadás a kezdőképernyőhöz</strong> menüpontra. <small>A böngésző menüjét a következő ikon megérintésével tudja megnyitni:%icon.</small>'
},

it_it: {
ios: 'Per aggiungere questa web app alla schermata iniziale:premi %icon e poi <strong>Aggiungi a Home</strong>.',
android: 'Per aggiungere questa web app alla schermata iniziale,apri il menu opzioni del browser e premi su <strong>Aggiungi alla homescreen</strong>. <small>Puoi accedere al menu premendo il pulsante hardware delle opzioni se la tua device ne ha uno,oppure premendo l\'icona %icon in alto a destra.</small>'},ja_jp:{ios:'このウェプアプリをホーム画面に追加するには、%iconをタップして<strong>ホーム画面に追加</strong>してください。',android:'このウェプアプリをホーム画面に追加するには、ブラウザのオプションメニューから<strong>ホーム画面に追加</strong>をタップしてください。<small>オプションメニューは、一部の機種ではデバイスのメニューボタンから、それ以外では画面右上の%iconからアクセスできます。</small>'},ko_kr:{ios:'홈 화면에 바로가기 생성: %icon 을 클릭한 후 <strong>홈 화면에 추가</strong>.',android:'브라우저 옵션 메뉴의 <string>홈 화면에 추가</string>를 클릭하여 홈화면에 바로가기를 생성할 수 있습니다. <small>옵션 메뉴는 장치의 메뉴 버튼을 누르거나 오른쪽 상단의 메뉴 아이콘 %icon을 클릭하여 접근할 수 있습니다.</small>'},nb_no:{ios:'For å installere denne appen på hjem-skjermen: trykk på %icon og deretter <strong>Legg til på Hjem-skjerm</strong>.',android:'For å legge til denne webappen på startsiden åpner en nettlesermenyen og velger <strong>Legg til på startsiden</strong>. <small>Menyen åpnes ved å trykke på den fysiske menyknappen hvis enheten har det, eller ved å trykke på menyikonet øverst til høyre %icon.</small>'},pt_br:{ios:'Para adicionar este app à tela de início: clique %icon e então <strong>Tela de início</strong>.',android:'Para adicionar este app à tela de início, abra o menu de opções do navegador e selecione <strong>Adicionar à tela inicial</strong>. <small>O menu pode ser acessado pressionando o "menu" button se o seu dispositivo tiver um, ou selecionando o ícone %icon no canto superior direito.</small>'},pt_pt:{ios:'Para adicionar esta app ao ecrã principal: clique %icon e depois <strong>Ecrã principal</strong>.',android:'Para adicionar esta app web ecrã principal, abra o menu de opções do navegador e selecione <strong>Adicionar à tela inicial</strong>. <small>O menu pode ser acessado pressionando o "menu" button se o seu dispositivo tiver um, ou selecionando o ícone %icon no canto superior direito.</small>'},nl_nl:{ios:'Om deze webapp aan je startscherm toe te voegen, klik op %icon en dan <strong>Zet in startscherm</strong>.',android:'Om deze webapp aan je startscherm toe te voegen, open de browserinstellingen en tik op <strong>Toevoegen aan startscherm</strong>. <small>Gebruik de "menu" knop als je telefoon die heeft, anders het menu-icoon rechtsbovenin %icon.</small>'},ru_ru:{ios:'Чтобы добавить этот сайт на свой домашний экран, нажмите на иконку %icon и затем <strong>На экран "Домой"</strong>.',android:'Чтобы добавить сайт на свой домашний экран, откройте меню браузера и нажмите на <strong>Добавить на главный экран</strong>. <small>Меню можно вызвать, нажав на кнопку меню вашего телефона, если она есть. Или найдите иконку сверху справа %icon[иконка].</small>'},sk_sk:{ios:'Pre pridanie tejto webovej aplikácie na úvodnú obrazovku: stlačte %icon a potom <strong>Pridať na úvodnú obrazovku</strong>.',android:'Pre pridanie tejto webovej aplikácie na úvodnú obrazovku otvorte menu nastavenia prehliadača a stlačte <strong>Pridať na úvodnú obrazovku</strong>. <small>K menu sa dostanete stlačením hardwaroveho tlačidla, ak ho vaše zariadenie má, alebo stlačením pravej hornej menu ikony <span class="ath-action-icon">icon</span>.</small>'},sv_se:{ios:'För att lägga till denna webbapplikation på hemskärmen: tryck på %icon och därefter <strong>Lägg till på hemskärmen</strong>.',android:'För att lägga till den här webbappen på hemskärmen öppnar du webbläsarens alternativ-meny och väljer <strong>Lägg till på startskärmen</strong>. <small>Man hittar menyn genom att trycka på hårdvaruknappen om din enhet har en sådan, eller genom att trycka på menyikonen högst upp till höger %icon.</small>'},tr_tr:{ios:'Uygulamayı ana ekrana eklemek için, %icon ve ardından <strong>ana ekrana ekle</strong> butonunu tıklayın.',android:'Uygulamayı ana ekrana eklemek için, menüye girin ve <strong>ana ekrana ekle</strong> butonunu tıklayın. <small>Cihazınız menü tuşuna sahip ise menüye girmek için menü tuşunu tıklayın. Aksi takdirde %icon butonunu tıklayın.</small>'},uk_ua:{ios:'Щоб додати цей сайт на початковий екран, натисніть %icon, а потім <strong>На початковий екран</strong>.',android:'Щоб додати цей сайт на домашній екран, відкрийте меню браузера та виберіть <strong>Додати на головний екран</strong>. <small>Це можливо зробити, натиснувши кнопку меню на вашому смартфоні, якщо така є. Або ж на іконці зверху справа %icon.</small>'},zh_cn:{ios:'如要把应用程序加至主屏幕,请点击%icon, 然后<strong>添加到主屏幕</strong>',android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>'},zh_tw:{ios:'如要把應用程式加至主屏幕, 請點擊%icon, 然後<strong>加至主屏幕</strong>.',android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon %icon.</small>'}
};for (var lang in ath.intl ) {ath.intl[lang.substr(0,2)] =ath.intl[lang];}
ath.defaults ={appID:'org.cubiq.addtohome',fontSize:15,debug:false,logging:false,modal:false,mandatory:false,autostart:true,skipFirstVisit:false,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:true,message:'',validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,privateModeOverride:false,detectHomescreen:false};var _ua =window.navigator.userAgent;var _nav =window.navigator;_extend(ath,{hasToken:document.location.hash =='#ath'||_reSmartURL.test(document.location.href) ||_reQueryString.test(document.location.search),isRetina:window.devicePixelRatio &&window.devicePixelRatio > 1,isIDevice:(/iphone|ipod|ipad/i).test(_ua),
isMobileChrome:_ua.indexOf('Android') > -1 &&(/Chrome\/[.0-9]*/).test(_ua) && _ua.indexOf("Version") == -1,
isMobileIE:_ua.indexOf('Windows Phone') > -1,language:_nav.language &&_nav.language.toLowerCase().replace('-','_') ||''});ath.language =ath.language &&ath.language in ath.intl ?ath.language :'en_us';ath.isMobileSafari =ath.isIDevice &&_ua.indexOf('Safari') > -1 &&_ua.indexOf('CriOS') < 0;ath.OS =ath.isIDevice ?'ios':ath.isMobileChrome ?'android':ath.isMobileIE ?'windows':'unsupported';ath.OSVersion =_ua.match(/(OS|Android) (\d+[_\.]\d+)/);
ath.OSVersion =ath.OSVersion &&ath.OSVersion[2] ?+ath.OSVersion[2].replace('_','.') :0;ath.isStandalone ='standalone'in window.navigator &&window.navigator.standalone;ath.isTablet =(ath.isMobileSafari &&_ua.indexOf('iPad') > -1) ||(ath.isMobileChrome &&_ua.indexOf('Mobile') < 0);ath.isCompatible =(ath.isMobileSafari &&ath.OSVersion >=6) ||ath.isMobileChrome;var _defaultSession ={lastDisplayTime:0,returningVisitor:false,displayCount:0,optedout:false,added:false};ath.removeSession =function (appID) {try {if (!localStorage) {throw new Error('localStorage is not defined');}
localStorage.removeItem(appID ||ath.defaults.appID);} catch (e) {}
};ath.doLog =function (logStr) {if (this.options.logging ) {console.log(logStr);}
};ath.Class =function (options) {this.doLog =ath.doLog;this.options =_extend({},ath.defaults);_extend(this.options,options);if (this.options &&this.options.debug &&(typeof this.options.logging ==="undefined") ) {this.options.logging =true;}
if (!_eventListener ) {return;}
this.options.mandatory =this.options.mandatory &&('standalone'in window.navigator ||this.options.debug );this.options.modal =this.options.modal ||this.options.mandatory;if (this.options.mandatory ) {this.options.startDelay =-0.5;}
this.options.detectHomescreen =this.options.detectHomescreen ===true ?'hash':this.options.detectHomescreen;if (this.options.debug ) {ath.isCompatible =true;ath.OS =typeof this.options.debug =='string'?this.options.debug :ath.OS =='unsupported'?'android':ath.OS;ath.OSVersion =ath.OS =='ios'?'8':'4';}
this.container =document.body;this.session =this.getItem(this.options.appID);this.session =this.session ?JSON.parse(this.session) :undefined;if (ath.hasToken &&(!ath.isCompatible ||!this.session ) ) {ath.hasToken =false;_removeToken();}
if (!ath.isCompatible ) {this.doLog("Add to homescreen: not displaying callout because device not supported");return;}
this.session =this.session ||_defaultSession;try {if (!localStorage) {throw new Error('localStorage is not defined');}
localStorage.setItem(this.options.appID,JSON.stringify(this.session));ath.hasLocalStorage =true;} catch (e) {ath.hasLocalStorage =false;if (this.options.onPrivate ) {this.options.onPrivate.call(this);}
}
var isValidLocation =!this.options.validLocation.length;for (var i =this.options.validLocation.length;i--;) {if (this.options.validLocation[i].test(document.location.href) ) {isValidLocation =true;break;}
}
if (this.getItem('addToHome') ) {this.optOut();}
if (this.session.optedout ) {this.doLog("Add to homescreen: not displaying callout because user opted out");return;}
if (this.session.added ) {this.doLog("Add to homescreen: not displaying callout because already added to the homescreen");return;}
if (!isValidLocation ) {this.doLog("Add to homescreen: not displaying callout because not a valid location");return;}
if (ath.isStandalone ) {if (!this.session.added ) {this.session.added =true;this.updateSession();if (this.options.onAdd &&ath.hasLocalStorage ) {this.options.onAdd.call(this);}
}
this.doLog("Add to homescreen: not displaying callout because in standalone mode");return;}
if (this.options.detectHomescreen ) {if (ath.hasToken ) {_removeToken();if (!this.session.added ) {this.session.added =true;this.updateSession();if (this.options.onAdd &&ath.hasLocalStorage ) {this.options.onAdd.call(this);}
}
this.doLog("Add to homescreen: not displaying callout because URL has token, so we are likely coming from homescreen");return;}
if (this.options.detectHomescreen =='hash') {history.replaceState('',window.document.title,document.location.href + '#ath');} else if (this.options.detectHomescreen =='smartURL') {history.replaceState('',window.document.title,document.location.href.replace(/(\/)?$/, '/ath$1'));
} else {history.replaceState('',window.document.title,document.location.href + (document.location.search ?'&':'?') + 'ath=');}
}
if (!this.session.returningVisitor ) {this.session.returningVisitor =true;this.updateSession();if (this.options.skipFirstVisit ) {this.doLog("Add to homescreen: not displaying callout because skipping first visit");return;}
}
if (!this.options.privateModeOverride &&!ath.hasLocalStorage ) {this.doLog("Add to homescreen: not displaying callout because browser is in private mode");return;}
this.ready =true;if (this.options.onInit ) {this.options.onInit.call(this);}
if (this.options.autostart ) {this.doLog("Add to homescreen: autostart displaying callout");this.show();}
};ath.Class.prototype ={events:{load:'_delayedShow',error:'_delayedShow',orientationchange:'resize',resize:'resize',scroll:'resize',click:'remove',touchmove:'_preventDefault',transitionend:'_removeElements',webkitTransitionEnd:'_removeElements',MSTransitionEnd:'_removeElements'},handleEvent:function (e) {var type =this.events[e.type];if (type ) {this[type](e);}
},show:function (force) {if (this.options.autostart &&!_DOMReady ) {setTimeout(this.show.bind(this),50);return;}
if (this.shown ) {this.doLog("Add to homescreen: not displaying callout because already shown on screen");return;}
var now =Date.now();var lastDisplayTime =this.session.lastDisplayTime;if (force !==true ) {if (!this.ready ) {this.doLog("Add to homescreen: not displaying callout because not ready");return;}
if (now - lastDisplayTime < this.options.displayPace * 60000 ) {this.doLog("Add to homescreen: not displaying callout because displayed recently");return;}
if (this.options.maxDisplayCount &&this.session.displayCount >=this.options.maxDisplayCount ) {this.doLog("Add to homescreen: not displaying callout because displayed too many times already");return;}
}
this.shown =true;this.session.lastDisplayTime =now;this.session.displayCount++;this.updateSession();if (!this.applicationIcon ) {if (ath.OS =='ios') {this.applicationIcon =document.querySelector('head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]');} else {this.applicationIcon =document.querySelector('head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]');}
}
var message ='';if (typeof this.options.message =='object'&&ath.language in this.options.message ) {message =this.options.message[ath.language][ath.OS];} else if (typeof this.options.message =='object'&&ath.OS in this.options.message ) {message =this.options.message[ath.OS];} else if (this.options.message in ath.intl ) {message =ath.intl[this.options.message][ath.OS];} else if (this.options.message !=='') {message =this.options.message;} else if (ath.OS in ath.intl[ath.language] ) {message =ath.intl[ath.language][ath.OS];}
message ='<p>'+ message.replace(/%icon(?:\[([^\]]+)\])?/gi, function(matches, group1) {
return '<span class="ath-action-icon">'+ (!!group1 ?group1 :'icon') + '</span>';}) + '</p>';this.viewport =document.createElement('div');this.viewport.className ='ath-viewport';if (this.options.modal ) {this.viewport.className +=' ath-modal';}
if (this.options.mandatory ) {this.viewport.className +=' ath-mandatory';}
this.viewport.style.position ='absolute';this.element =document.createElement('div');this.element.className ='ath-container ath-'+ ath.OS + ' ath-'+ ath.OS + (parseInt(ath.OSVersion) ||'') + ' ath-'+ (ath.isTablet ?'tablet':'phone');this.element.style.cssText ='-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0s;-webkit-transition-timing-function:ease-out;transition-property:transform,opacity;transition-duration:0s;transition-timing-function:ease-out;';this.element.style.webkitTransform ='translate3d(0,-'+ window.innerHeight + 'px,0)';this.element.style.transform ='translate3d(0,-'+ window.innerHeight + 'px,0)';if (this.options.icon &&this.applicationIcon ) {this.element.className +=' ath-icon';this.img =document.createElement('img');this.img.className ='ath-application-icon';this.img.addEventListener('load',this,false);this.img.addEventListener('error',this,false);this.img.src =this.applicationIcon.href;this.element.appendChild(this.img);}
this.element.innerHTML +=message;this.viewport.style.left ='-99999em';this.viewport.appendChild(this.element);this.container.appendChild(this.viewport);if (this.img ) {this.doLog("Add to homescreen: not displaying callout because waiting for img to load");} else {this._delayedShow();}
},_delayedShow:function (e) {setTimeout(this._show.bind(this),this.options.startDelay * 1000 + 500);},_show:function () {var that =this;this.updateViewport();window.addEventListener('resize',this,false);window.addEventListener('scroll',this,false);window.addEventListener('orientationchange',this,false);if (this.options.modal ) {document.addEventListener('touchmove',this,true);}
if (!this.options.mandatory ) {setTimeout(function () {that.element.addEventListener('click',that,true);},1000);}
setTimeout(function () {that.element.style.webkitTransitionDuration ='1.2s';that.element.style.transitionDuration ='1.2s';that.element.style.webkitTransform ='translate3d(0,0,0)';that.element.style.transform ='translate3d(0,0,0)';},0);if (this.options.lifespan ) {this.removeTimer =setTimeout(this.remove.bind(this),this.options.lifespan * 1000);}
if (this.options.onShow ) {this.options.onShow.call(this);}
},remove:function () {clearTimeout(this.removeTimer);if (this.img ) {this.img.removeEventListener('load',this,false);this.img.removeEventListener('error',this,false);}
window.removeEventListener('resize',this,false);window.removeEventListener('scroll',this,false);window.removeEventListener('orientationchange',this,false);document.removeEventListener('touchmove',this,true);this.element.removeEventListener('click',this,true);this.element.addEventListener('transitionend',this,false);this.element.addEventListener('webkitTransitionEnd',this,false);this.element.addEventListener('MSTransitionEnd',this,false);this.element.style.webkitTransitionDuration ='0.3s';this.element.style.opacity ='0';},_removeElements:function () {this.element.removeEventListener('transitionend',this,false);this.element.removeEventListener('webkitTransitionEnd',this,false);this.element.removeEventListener('MSTransitionEnd',this,false);this.container.removeChild(this.viewport);this.shown =false;if (this.options.onRemove ) {this.options.onRemove.call(this);}
},updateViewport:function () {if (!this.shown ) {return;}
this.viewport.style.width =window.innerWidth + 'px';this.viewport.style.height =window.innerHeight + 'px';this.viewport.style.left =window.scrollX + 'px';this.viewport.style.top =window.scrollY + 'px';var clientWidth =document.documentElement.clientWidth;this.orientation =clientWidth > document.documentElement.clientHeight ?'landscape':'portrait';var screenWidth =ath.OS =='ios'?this.orientation =='portrait'?screen.width :screen.height :screen.width;this.scale =screen.width > clientWidth ?1 :screenWidth / window.innerWidth;this.element.style.fontSize =this.options.fontSize / this.scale + 'px';},resize:function () {clearTimeout(this.resizeTimer);this.resizeTimer =setTimeout(this.updateViewport.bind(this),100);},updateSession:function () {if (ath.hasLocalStorage ===false ) {return;}
 if (localStorage) {localStorage.setItem(this.options.appID,JSON.stringify(this.session));}
},clearSession:function () {this.session =_defaultSession;this.updateSession();},getItem:function(item) {try {if (!localStorage) {throw new Error('localStorage is not defined');}
return localStorage.getItem(item);} catch(e) {ath.hasLocalStorage =false;}
},optOut:function () {this.session.optedout =true;this.updateSession();},optIn:function () {this.session.optedout =false;this.updateSession();},clearDisplayCount:function () {this.session.displayCount =0;this.updateSession();},_preventDefault:function (e) {e.preventDefault();e.stopPropagation();}
};function _extend (target,obj) {for (var i in obj ) {target[i] =obj[i];}
return target;}
function _removeToken () {if (document.location.hash =='#ath') {history.replaceState('',window.document.title,document.location.href.split('#')[0]);}
if (_reSmartURL.test(document.location.href) ) {history.replaceState('',window.document.title,document.location.href.replace(_reSmartURL,'$1'));}
if (_reQueryString.test(document.location.search) ) {history.replaceState('',window.document.title,document.location.href.replace(_reQueryString,'$2'));}
}
window.addToHomescreen =ath;})(window,document);(function ($) {window.JABCookies =function () {var self =this;self.get =function (cookieName) {var regExCookie =new RegExp('(?:(?:^|.*;\\s*)'+ cookieName + '\\s*\\=\\s*([^;]*).*$)|^.*$/');return document.cookie.replace(regExCookie,"$1");};self.set =function (cookieName,newValue,expires) {expires =expires ||'Fri, 31 Dec 9999 23:59:59 GMT';document.cookie =cookieName + "="+ newValue + "; expires="+ expires;};self.del =function (cookieName) {document.cookie =cookieName + "=; expires=Thu, 01 Jan 1970 00:00:00 GMT";};self.isSet =function (cookieName,checkValue) {return (this.get(cookieName) ===checkValue);}
 };$.support.cors =true;var initFunctions ={init:function () {jQuery('input[type="text"]').placeholder();if ((navigator.userAgent.match(/(iPad|iPhone|iPod)/g) ?
 true :false)) {$('body').addClass('ios-mobile');}
 if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i
 .test(navigator.userAgent)) {$('body').addClass('mobile-device');}
 checkCookieNofication();}
 };var checkCookieNofication =function () {var host =location.host;var cookieInformed =new JABCookies();if (cookieInformed.isSet(host,'COOKIE_INFORMED')) return;cookieInformed.set(host,'COOKIE_INFORMED');var $cookie =$('.cookie_notification');$cookie.show();var theHeight =$cookie.outerHeight();setTimeout(function () {$('.page').animate({'padding-top':theHeight
 },250);},250);$('span[data-close-cookie]').click(function (event) {$('body').addClass('no_cookie_notif');$cookie.hide();$('.page').css('padding-top',0);});};var initMainMenu ={init:function () {if ($('#header-menu').length ||$('#header-menu2').length) {if ($('#header-menu').length) {$('#header-menu').hMenu('.nav-topic','.top-level','level-1');}
if ($('#header-menu2').length) {$('#header-menu2').hMenu('.nav-topic','.top-level','selectboxit-custom');}
if (!$('body').hasClass("markenseiten")) {$('.header-menu .level-1 > li').hover(function () {if (getWidth() > 1259 &&$(this).children('ul').length) {$(this).children('a').addClass('active');}
 },function () {if (getWidth() > 1259) {$(this).children('a').removeClass('active').delay(1000);}
 });}
}
}
 };var initMobileTopMenu ={init:function () {$('.mobile-top-menu .selectmenu a').click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;var self =$(this);$('.dropdown-meta-nav').hide();if ($(".marken-dropdown .selectboxit").hasClass('selectboxit-open')) {markenMenuToggle($(".marken-dropdown .selectboxit"));}
if ($(window).width() < 600) {$('.mobile-nav').hide();$('.submenu').removeClass('show');}
else if ($(window).width() < 768) {$('.submenu').removeClass('show').addClass('hide');$('#metanavigation > ul > li > a').removeClass('active');}
var myDropDown =$($(this).attr('data-mobile-menu'));if (self.is('.active')) {myDropDown.hide('fast');}
else {myDropDown.show('fast',function () {$('body').one('click',function (e) {if ($(window.event.target).next().is('ul')) return;if(myDropDown ===undefined)
 {myDropDown.hide('fast');}
 else
 {var eventId = event.target.id;var dropdownId = myDropDown.get(0).id;if(eventId != dropdownId && $(e.target).closest('#' + dropdownId).length === 0) {myDropDown.hide('fast');var myOpener =$('[data-mobile-menu="'+myDropDown.selector+'"]');myOpener.removeClass('active');} }
});});}
 self.toggleClass('active');});$('#metanavigation > ul > li > a').on("touchstart",function (event) {if (ww <=1024) {metaMenuToggle($(this).parent());}
});}
 };function initRightClick() {ww =document.body.clientWidth;$('#metanavigation > ul > li > a').on("mouseenter",function (e) {$('#metanavigation > ul > li > a.login').removeClass('hovered');if (!$('body').hasClass('mobile-device')) {$('#metanavigation').find('.submenu.show').removeClass('show');$(this).removeClass('active');}
});$('.submenu > form').on('mousedown mouseenter',function (e) {$(this).focus();$(this).parent().addClass('show');$('a.icon.login').addClass('hovered');if (e.button ==2) {$(this).parents('li').find('a').addClass('active');$(this).parent().addClass('show');return false;}
 return true;});$('.submenu.show > form').on('mouseleave',function () {$(this).removeClass('show');$('#metanavigation > ul > li > a.login').addClass('hovered');});$(document).mouseup(function (e) {var container =$(".submenu.show");if (!$('body').hasClass('mobile-device')) {if (!container.is(e.target) &&container.has(e.target).length ===0) {container.removeClass('show');$('a.icon.login').removeClass('hovered');}
 }
});}
 var initHeaderScroll ={init:function () {var body =$('body');var _content =$(".wrapper");var _header =$(".header");var _cookie =$(".cookie_notification");if (!body.hasClass('reduced_header')) {if (!(body.hasClass("markenseiten"))) {if ($(document).scrollTop() > 0) {if(!($('main').hasClass('range-update-page'))){body.addClass('small');}
if (!$('.submenu').hasClass('show')) {}
if (body.hasClass("markenseiten-open-menu")) {$('.markenseiten-nav .selectboxit').removeClass('selectboxit-open').closest('.selectboxit-container')
.find('.header-menu, .selectboxit-custom')
.hide();}
 }
 else if (!body.hasClass('markenseiten-content')) {body.removeClass('small');}
}
else {if (body.width() > 1024) {body.addClass('small expand');if ($(document).scrollTop() > 0) {if (body.hasClass("markenseiten-open-menu")) {$('.markenseiten-nav .selectboxit').removeClass('selectboxit-open')
 .closest('.selectboxit-container')
 .find('.header-menu, .selectboxit-custom')
 .hide();}
}
else {body.removeClass('expand');}
 }
 else {body.addClass("small expand");if ($(document).scrollTop() > 0) {if (body.hasClass("markenseiten-open-menu")) {$('.markenseiten-nav .selectboxit').removeClass('selectboxit-open').closest('.selectboxit-container')
 .find('.header-menu, .selectboxit-custom')
 .hide();}
}
else {body.removeClass('expand');}
 }
}
 }
}
 };var initWindowResize ={init:function () {if (getWidth() > 600) {$("#metanavigation").show();$("#header-menu .nav-topic").removeClass('show');$("#header-menu").find('.nav-topic, ul, li, a').removeClass('hide').removeClass('show').removeClass('active');}
 if (getWidth() < 600) {if (!$('.submenu').hasClass('show')) {$("#metanavigation").hide();$('.submenu.show');}
 }
 var searchBoxInHeader =$('.header .search-form');var searchBoxInCarusel =$('.imageGallery').find("form[class~='search-form']");if (searchBoxInCarusel.is(":visible")) {searchBoxInHeader.hide();}
 else {searchBoxInHeader.show();}
}
 };var initAjaxLoading ={init:function () {}
 };var initDropdown ={init:function () {if (!($("body").hasClass("simple-draperies"))) {if (!($("body").hasClass("mobile-device"))) {$('.featurebox select, .custom select').selectBoxIt({autoWidth:false,dynamicPositioning:false,isMobile:function () {return false;}
});}
if (($("body").hasClass("mobile-device"))) {$('.featurebox select, .custom select').selectBoxIt({autoWidth:false,dynamicPositioning:false,native:true,isMobile:function () {return false;}
});}
 }
 if (($("body").hasClass("simple-draperies"))) {if (($("body").hasClass("facettensuche"))) {$('.featurebox select').selectBoxIt({autoWidth:false,dynamicPositioning:false,isMobile:function () {return false;}
 });}
 }
 $(".slider-module .featurebox select").bind({"change":function (ev,obj) {var option =$('option:selected',this).attr('data-url');if (option) {window.location =option;}
 }
});$('.custom-dropdown .selectboxit').click(function (event) {$(this).toggleClass('selectboxit-open')
 .closest('.selectboxit-container')
 .find('.header-menu, .selectboxit-custom')
 .toggle();});$('.menu-mark .selectboxit').click(function (event) {if ($(this).hasClass("selectboxit-open")) {$(".mobile-top-menu a").each(function () {if ($(this).hasClass("active")) {$(this).removeClass("active");$("#header-menu.mobile-nav").hide("fast");$('.markenseiten .metanav .mobile-nav').show('fast');}
 });}
 });$('.custom-dropdown-top .selectboxit-top').click(function (event) {$(this).toggleClass('selectboxit-open')
.closest('.selectboxit-container-top')
.toggleClass('block-open');});$("body").on("click",".locator-open",function () {var drop_item =$(this).next(),drop_item_height =drop_item.outerHeight(),visible_height,invisible_height,parent,wrapper =$(".wrapper");$(".custom-dropdown-locator").not($(this).parents(".custom-dropdown-locator")).removeClass("open");wrapper.removeClass("opened").css("padding-bottom",0);$(".brends .col-item").removeClass("overlay-blur");if ($(this).parents(".custom-dropdown-locator").hasClass("open")) {$(this).parents(".custom-dropdown-locator").removeClass("open");wrapper.removeClass("opened").css("padding-bottom",0);if (Modernizr.canvas) {$(".brends .col-item").removeClass("overlay-blur");}
}
else {$(this).parents(".custom-dropdown-locator").addClass("open");visible_height =$("body").outerHeight() - drop_item.offset().top;invisible_height =drop_item_height - visible_height;parent =$(this).parents(".col-item");wrapper.addClass("opened").css("padding-bottom",invisible_height + 40);if (Modernizr.canvas) {$(this).parents(".brends").find(".col-item").not(parent).addClass("overlay-blur");}
}
 });if ($("body").hasClass("markenseiten-open-menu")) {$(".header .selectboxit").click();}
 $(".selectboxit-disabled .selectboxit-arrow-container").remove();}
 };var initDropdownGabelseiten =function () {var select ='';var count =0;$('.gabelseiten .component-block').each(function (index,el) {var id =$(this).attr('id');var title =$(this).find('h2').text();if (title) {count++;select +='<option value="#'+ id + '" >'+
 title + '</option>';}
});if (count >=2) {$('.gabelseiten .filter-options .animate-scroll').append(select);}
else {$('.gabelseiten .filter-options .animate-scroll').remove();$('.gabelseiten .selectboxit-container').hide();}
 };var initSocial ={init:function () {var networksList =['facebook','pinterest','twitter'];if ($('.social-btn').length) {networksList =['facebook','pinterest','twitter'];}
 $('.share-icons').share({networks:networksList,mediaUrl:$("#pintrestMediaUrl").text(),productDesc:$(document).find("title").text(),urlToShare:$("#configuratorURL").text() ||$(location).attr('href')
});$('.social .icon-share4').click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;$('.share-icons').toggle();});}
 };var initProductSocial ={init:function () {$('.product-social').share({networks:['email','facebook','twitter','pinterest','linkedin','googleplus'],mediaUrl:$("#productShareMediaLink").text(),productDesc:$("#productShareDescription").html(),urlToShare:$("#configuratorURL").text() ||$(location).attr('href')
});$('.social-btn').click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;$('.product-social').toggle();});}
 };var initWishlistSocial ={init:function () {$('.wl-share-icons').share({networks:['email','facebook','twitter','pinterest','linkedin','googleplus'],urlToShare:$('.wl-share-icons').data('url')
});$('.wl-share-icons').toggle();$('.icon-share4').click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;$(this).parent().find('.wl-share-icons').slideToggle();});}
 };var initMatchHeight ={init:function () {$(function () {$('.js-shuffle .col-item').matchHeight();$('.teaser-description').matchHeight();});if ($('.featureboxs-wrapper .featurebox .container').length >
0) {$('.featureboxs-wrapper .featurebox .container').matchHeight();}
}
 };var hideHeaderMenu =function () {$(".mobile-top-menu a.icon-menu").removeClass('active');$(".mobile-top-menu .mobile-menu").removeClass('active');$("#header-menu").hide();if ($(".marken-dropdown .selectboxit").hasClass('selectboxit-open')) {markenMenuToggle($(".marken-dropdown .selectboxit"));}
 };var metaMenuToggle =function (el) {if (el.find('a.icon').hasClass('active')) {hideMetaMenu(el);}
else {showMetaMenu(el);hideHeaderMenu();}
 };var markenMenuToggle =function (el) {el.toggleClass('selectboxit-open')
 .closest('.selectboxit-container')
 .find('.header-menu, .selectboxit-custom')
 .toggle();};$('.marken-dropdown .selectboxit').click(function (event) {markenMenuToggle($(this));});var showMetaMenu =function (el) {$('.submenu').addClass('hide');$('#metanavigation > ul > li > a').removeClass('active');$(el.find('a.icon').attr('data-hover-dropdown')).addClass('show').removeClass('hide');el.find('a.icon').addClass('active');};var hideMetaMenu =function (el) {$('.submenu').addClass('hide');$(el.find('a.icon').attr('data-hover-dropdown')).addClass('hide').removeClass('show');$('#metanavigation > ul > li > a').removeClass('active');};var initCustomScroll =function () {var $root =$('html, body');var addScroll =15;var cookie =$(".cookie_notification");var header =$(".header");var logo =$(".branding");$('a[name]').each(function () {$(this).attr('id',$(this).attr('name'));});$('a.animate-scroll, a[href*="'+ location.pathname + '#"]:not([class])').click(function (event) {var hcookie =(cookie.is(":visible")) ?cookie.outerHeight() :0;(event.preventDefault) ?event.preventDefault() :event.returnValue =false;if (getWidth() > 599) {if ($("body").hasClass("markenseiten")) {addScroll =250 + hcookie;}
 else {addScroll =120 + hcookie;}
}
$root.animate({scrollTop:$($(this).attr('href')).offset()
 .top - addScroll
 },800);return false;});$('select.animate-scroll').change(function () {var hcookie =(cookie.is(":visible")) ?cookie.outerHeight() :0;if (getWidth() > 599) {if ($("body").hasClass("markenseiten")) {if (getWidth() > 1024) {addScroll =250 + hcookie;}
 else {addScroll =190 + hcookie;}
}
else {addScroll =120 + hcookie;}
 }
 $root.animate({scrollTop:$($(this).val()).offset().top -
 addScroll
},800);return false;});};var initToolTip =function (slider,delay) {beforeAction =function (origin,continueTooltip) {var p ="bottom-left";if (origin.hasClass('north')) {p ="top-left";}
 origin.tooltipster('option',"position",p);continueTooltip();};addTooltipEvents =function (tooltip) {if (slider &&delay) {$(tooltip).on({mouseenter:function () {if (window._timer) {clearTimeout(_timer);}
 slider.pause();},mouseleave:function () {if (window._timer) {clearTimeout(_timer);}
 _timer =setTimeout(function () {slider.play();},delay);}
 });}
};$('.plus-white').tooltipster({functionBefore:function (origin,continueTooltip) {beforeAction(origin,continueTooltip);},functionReady:function (origin,tooltip) {addTooltipEvents(tooltip);},contentAsHTML:true,interactive:true,animation:'grow',offsetY:8,theme:'tooltipster-white'});$('.register-tooltop').tooltipster({contentAsHTML:true,interactive:true,animation:'grow',offsetX:10,offsetY:-15,theme:'tooltipster-register',position:"right"});$('.register-tooltop').on("click",function () {return false;});$('.plus-gray').tooltipster({functionBefore:function (origin,continueTooltip) {beforeAction(origin,continueTooltip);},functionReady:function (origin,tooltip) {addTooltipEvents(tooltip);},contentAsHTML:true,interactive:true,animation:'grow',offsetY:8,theme:'tooltipster-gray'});$('.transparent').tooltipster({contentAsHTML:true,interactive:true,position:'bottom',animation:'grow',offsetY:-5,theme:'tooltipster-transparent'});$('.tooltipster-transparent-w').tooltipster({contentAsHTML:true,interactive:true,position:'bottom',animation:'grow',offsetY:-5,theme:'tooltipster-transparent-w'});$('.tab-tips-gray').tooltipster({contentAsHTML:true,interactive:true,position:'top-left',animation:'grow',offsetY:-60,theme:'tooltipster-gray'});$('.icon-tips-gray').tooltipster({contentAsHTML:true,interactive:true,position:'top-left',animation:'grow',offsetY:5,offsetX:-5,theme:'tooltipster-gray-table'});};var initSlider ={init:function (element) {var margin =19,sliderID1 ='.'+ element,sliders_arr =[];$('.'+ element).imagesLoaded(function () {$(sliderID1).each(function () {var flag =$(sliderID1).index($(this));if ($(this).find("li").length > 1) {if (getWidth() > 1024) {margin =25;}
var delay =$(this).attr("data-delay");var gallery =($(this).attr("data-gallery") !==undefined &&$(this).attr("data-gallery") =="0") ?false :true;var slider =$(this).lightSlider({gallery:gallery,pager:gallery,item:1,pause:delay,auto:false,loop:true,mode:"slide",controls:false,responsive:true,adaptiveHeight:true,galleryMargin:20,freeMove:true,currentPagerPosition:'middle',onSliderLoad:function (el) {setCurrentDropdown(slider.getCurrentSlideCount(),el);setHotSpotPosition();if (Modernizr.canvas) {progressStart(el,delay);}
 sliders_arr.push(slider);if (flag ===$(sliderID1).length -
1) {openLightbox.init(sliders_arr
);initLazyLoad(sliders_arr
);initToolTip(slider,delay);}
 productSliderImages
 ();},onBeforeStart:function (el) {el.imagesLoaded(function () {var height =$('.initSlider').find('li:eq(0)').find('picture img').outerHeight();var src =$('.initSlider').find('li:eq(0)').attr('data-src');$('.initSlider').outerHeight(height / 2);slider.refresh();progressStart(el,delay);});},onAfterSlide:function (el) {setCurrentDropdown(slider.getCurrentSlideCount(),el);initToolTip(slider,delay);if (Modernizr.canvas) {progressStart(el,delay);}
}
 });$(this).find('.goToPrevSlide').click(function (event) {if (window._timer) {clearTimeout(_timer);}
_timer =setTimeout(function () {slider.play();},delay);slider.goToPrevSlide();formPosition();});$(this).find('.goToNextSlide').click(function (event) {if (window._timer) {clearTimeout(_timer);}
_timer =setTimeout(function () {slider.play();},delay);slider.goToNextSlide();formPosition();});pager =$(this).parents(".imageGallery")
 .find(".lSPager");pager.on("click",function () {if (window._timer) {clearTimeout(_timer);}
 _timer =setTimeout(function () {slider.play();},delay);});}
 else {$(this).addClass("one-image");initLazyLoadOne();setCurrentDropdown(1,this);setHotSpotPosition();}
});});}
 };var openLightbox ={init:function (arr) {var btn =$(".fullscreen");btn.on("click",function () {var slider =$(this).parents(".initSlider"),holder =$(".initSlider"),index =holder.index(slider);initLightbox.data =arr[index];});}
 };var setHotSpotPosition =function () {$('.slider-module .hot-spot').each(function (index,val) {if ($(this).attr('data-position-left')) {$(this).css({'left':$(this).attr('data-position-left') + '%'});}
 if ($(this).attr('data-position-bottom')) {$(this).css({'bottom':$(this).attr('data-position-bottom') +
'%'});}
 if ($(this).attr('data-position-right')) {$(this).css({'right':$(this).attr('data-position-right') +
'%'});}
 if ($(this).attr('data-position-top')) {$(this).css({'top':$(this).attr('data-position-top') + '%'});}
});};var initPopUp =function () {$('.info').click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;$(this).next('.popup').toggleClass('open');$(this).hide();});$('.popup .close').click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;$(this).closest('.popup').toggleClass('open');$('.info',$(this).closest('.slide-block')).show();});if ($('.slider-module').length > 1) {$('.scrolldown').hide();}
if ($('.imageGallery.showInfo').length < 1) {$('.info').show();$('.popup').toggleClass('open');}
 };var initBrandLinks =function () {$(".mark-logo").unbind("click").click(function (event) {(event.preventDefault) ?event.preventDefault() :event.returnValue =false;var $img =$(this).find("img");if ($img.length > 0) {window.location =$img.attr("data-brandlink");}
});};var progressStart =function (el,delay) {var slider =el.attr('id');var diameter =88;var _delay =(delay) ?Number(delay) :2000;if (el.parents(".lSSlideOuter ").find(".lSPager").height() > 95) {diameter =115;}
el.parents(".lSSlideOuter ").find('.lSPager li canvas').hide();el.parents(".lSSlideOuter ").find('.lSPager li.active').circleProgress({value:1,size:diameter,thickness:10,emptyFill:"rgba(0, 0, 0, 0)",startAngle:-Math.PI / 2,animation:{duration:_delay,ease:"circleProgressEase"},fill:{gradient:["#d5d8dd","#010000"]
 }
 });el.parents(".lSSlideOuter ").find('.lSPager li.active canvas').show();};var setCurrentDropdown =function (index,el) {$(el).parents('.column').find('.mobile-slide-drop .hot').hide();$(el).parents('.column').find('.mobile-slide-drop .hot.drop'+ index).show();};var getWidth =function () {var w =$(window).width();return w;};var checkBlur =function () {if (!Modernizr.cssfilters &&!(typeof InstallTrigger !=='undefined') ) {return true;}
return false;};var Blur ={set:function () {if (checkBlur()) {}
 else {}
},del:function () {if (checkBlur()) {}
 else {}
}
 };function initCustomForms() {$('.custom input:radio').customRadio();$('.custom input:checkbox').customCheckbox();}
 function inputMobileFix(argument) {$.fn.mobileFix =function (options) {var $parent =$(this),$fixedElements =$(options.fixedElements);$(document)
.on('focus',options.inputElements,function (e) {$parent.addClass(options.addClass);})
.on('blur',options.inputElements,function (e) {$parent.removeClass(options.addClass);setTimeout(function () {$(document).scrollTop($(document).scrollTop());},1);});return this;};if (Modernizr.touch) {$("body").mobileFix({inputElements:"input,textarea,select",addClass:"fixfixed"});}
 }
 var initMenuWidth =function () {var _menu =$(".markenseiten-nav .header-menu");var _width =$("body").width();if (getWidth() <=582) {_menu.width(_width);}
else {_menu.width("auto");}
 };var setDisabled ={set:function (el) {if (el.length) {el[0].setAttribute("disabled","disabled");}
},remove:function (el) {if (el.length) {el[0].removeAttribute("disabled");}
}
 };function checkDisabled() {var _btn =$(".map_form input[type='submit']");var _input =$(".map_form input[type='text']");_input.on("input",function () {var _val =$(this).val();if (_val.length >=4) {setDisabled.remove(_btn);}
 else {setDisabled.set(_btn);}
});}
 function svgCheck() {if (!Modernizr.svg) {var _imgs =document.getElementsByTagName("img");var svgExtension =/.*\.svg$/;
 for (var i =0;i < _imgs.length;i++) {if (_imgs[i].src.match(svgExtension)) {_imgs[i].src =_imgs[i].src.slice(0,-3) + 'png';}
 }
}
 }
 function osXDetect() {var _os =(function () {var userAgent =navigator.userAgent.toLowerCase();return {isMac105:/mac os x 10_5/.test(userAgent),
isMac106:/mac os x 10_6/.test(userAgent),
isMac107:/mac os x 10_7/.test(userAgent),
isMac108:/mac os x 10_8/.test(userAgent),
isMac109:/mac os x 10_9/.test(userAgent),
isMac110:/mac os x 10_10/.test(userAgent),
ios:/8.0.6 safari/.test(userAgent),
 };}());if (_os.isMac110 &&_os.ios &&$(".storelocator").length) {$("body").addClass("osx");}
 }
 function productSliderImages() {var _slider =$(".product-slider");_slider.each(function () {var el =$(this);el.imagesLoaded(function () {setTimeout(function () {sliderMobileWidth();var _item =el.find(".lSSlideWrapper img");var _wrapper =el.find(".lSSlideWrapper");_item.each(function () {if (!(this.naturalHeight <
_wrapper.height() &&this.naturalWidth <
_wrapper.width()
 )) {if ($(this).height() >
$(this).width()
 ) {$(this).css({"width":"auto","height":"100%"});}
 else {$(this).css({"width":"100%","height":"auto"});}
}
else {$(this).css({"width":this
.naturalWidth,"height":this
.naturalHeight
});}
});},1000);});});}
 function sliderMobileWidth() {var _slider =$(".product-slider");var _item =_slider.find(".lSSlideWrapper img");if ($(window).width() < 750) {_slider.find(".lSSlide").height(_slider.width());}
 }
 var initLightbox ={data:{},image:function () {$('.image-lightbox').magnificPopup({type:'image',callbacks:{beforeOpen:function () {if (!($.isEmptyObject(initLightbox.data))) {initLightbox.data.stop();}
 },beforeClose:function () {if (!($.isEmptyObject(initLightbox.data))) {initLightbox.data.play();}
 }
}
});},video:function () {if (!($("body").hasClass("mobile-device"))) {$('.video-lightbox').magnificPopup({type:'iframe',callbacks:{beforeOpen:function (el) {if (!($.isEmptyObject(initLightbox.data
))) {initLightbox.data.stop();}
},open:function () {var iframe =$(".mfp-wrap")
 .find("iframe"),src =iframe.attr("src"),holder =$(".mfp-wrap");if ($(this.currItem.el).data("fullscreen")) {holder.addClass("fullscreen-popup");}
 iframe.attr("src",src +
"&wmode=transparent");},beforeClose:function () {if (!($.isEmptyObject(initLightbox.data
))) {initLightbox.data.play();}
}
 }
 });}
}
 };function initPrint() {if ($("body").hasClass("product-print-version")) {window.print();}
 }
 function initLazyLoadOne() {var slider =$(".one-image");slider.each(function () {var _this =$(this).find("li"),body =$("body"),source =$(this).find("source"),image =$(this).find("img");$(_this).addClass("first-item").find("source").each(function () {var first_src =$(this).data("srcset");$(this).attr("srcset",first_src);});if (getWidth() >=1025) {src =$(source[0]).data("srcset");image.attr("src",src);}
 else if (getWidth() >=769) {src =$(source[1]).data("srcset");image.attr("src",src);}
 else {src =$(source[2]).data("srcset");image.attr("src",src);}
});}
 function initLazyLoad(arr) {var slider =$(".initSlider");$("a.hot-spot",slider).each(function () {$(this).on({mouseenter:function () {if (window._timer) {clearTimeout(_timer);}
arr[slider.index()].pause();},mouseleave:function () {if (window._timer) {clearTimeout(_timer);}
_timer =setTimeout(function () {arr[slider.index()].play();},5000);}
});});slider.each(function () {var _this =$(this).find("li"),first =$(this).find(".lslide")[0],current =$(this),first_image =$(first).find("img"),first_source =$(first).find("source"),body =$("body"),src;$(first).addClass("first-item").find("source").each(function () {var first_src =$(this).data("srcset");$(this).attr("srcset",first_src);});if (getWidth() >=1025) {src =$(first_source[0]).data("srcset");first_image.attr("src",src);}
 else if (getWidth() >=769) {src =$(first_source[1]).data("srcset");first_image.attr("src",src);}
 else {src =$(first_source[2]).data("srcset");first_image.attr("src",src);}
 firstLoad();function firstLoad() {$(first).imagesLoaded()
 .done(function () {var ind =slider.index(current),timer;if (current.data("delay")) {timer =current.data("delay");}
else {timer =2000;}
startLoading();setTimeout(function () {arr[ind].play();},timer);})
 .fail(function () {});}
 function startLoading() {_this.each(function () {if (_this.index($(this)) !=1) {var image =$(this).find("img"),item =$(this).find("source"),this_source =$(this).find("source");item.each(function () {var src =$(this).data("srcset");$(this).attr("srcset",src);});if (getWidth() >=1025) {var new_src =$(this_source[0]).data("srcset");image.attr("src",new_src);}
else if (getWidth() >=769) {var new_src =$(this_source[1]).data("srcset");image.attr("src",new_src);}
else {var new_src =$(this_source[2]).data("srcset");image.attr("src",new_src);}
 }
});}
});}
 function initStorelocatorFeatureBox() {$(".featurebox.storeFinder form").submit(function (e) {if ($("#brandCode",this).length ===0) {return;}
 var brand =$("#brandCode",this).val();if (!brand) {e.preventDefault();var errorBlock =$(".errorBlock",$(this).parents(".featurebox.storeFinder"));errorBlock.html(errorBlock.data("errormsg"));}
});}
 function initHashScroll() {var _hash =window.location.hash;var $root =$('html, body'),cookie =$(".cookie_notification"),hcookie =(cookie.is(":visible")) ?cookie.outerHeight() :0;var addScroll =addScroll ||120;var currentWidth =getWidth();var isMarkenSeite =$("body").hasClass("markenseiten");if (currentWidth < 600) {addScroll =120;}
else if (currentWidth < 1024) {addScroll =isMarkenSeite ?190 :100;}
else {addScroll =isMarkenSeite ?250 :100;}
function scrollToHash() {var top =$(_hash).offset().top;$root.animate({scrollTop:top - addScroll
},800);}
if (_hash) {setTimeout(function () {imagesLoaded('body',scrollToHash);},1000);}
 }
 function disablePinchZoom() {var $viewportMeta =$('meta[name="viewport"]');$('input, select, textarea').bind('focus blur',function (event) {$viewportMeta.attr('content','width=device-width,initial-scale=1,maximum-scale='+ (event.type =='blur'?10 :1));});}
 function init360slider() {$(".threesixty").wrapAll('<div class="threesixty_wrapper" />');$(".threesixty").each(function (i) {var threesixty_id =$(this).attr('id',"threesixty-"+ i);var threesixty_thumb =$(this).data('thumb');var id =$(this).attr('id');$('.threesixty_nav').append('<span class="threesixty_thumb"><img class="thumbnail" width="50px" height="50px" src="'+
threesixty_thumb + '" data-id="'+ id + '" /></span>');});$('.thumbnail').on('click',function () {var matchThumb =$(this).data("id");var matchPic =$(".item360").find(matchThumb);var height =$('.threesixty').height();$('.threesixty').height(height);$('#'+ matchThumb).show();$('.threesixty:not(#'+ matchThumb + ')').hide();});}
 function thumbsPosition() {$(".thumb > img").each(function (i,img) {$(img).css({position:"relative",left:($(img).parent().width() / 2) - ($(img).width() / 2)
});});}
 function init360reel() {$('.item360:gt(0)').hide();$(".item360").each(function (i) {reel =$(this).attr('id',"reel-"+ i);var thumb =$(this).data('thumb');var id =$(this).attr('id');var matchThumb =$(this).data("id");$('.nav360').append('<span class="thumb"><img class="thumb360" width="50px" height="50px" src="'+
thumb + '" data-id="'+ id + '" /></span>');});$('.thumb .thumb360').on('click',function () {var matchThumb =$(this).data("id");var matchPic =$(".item360").find(matchThumb);$this =$('div#'+ matchThumb + ' > img.reel');$('.item360').trigger("teardown");$('#'+ matchThumb).show();$('img.reel').reel(':play');$(this).reel(':play');$('.item360:not(#'+ matchThumb + ')').hide();});thumbsPosition();var resizeTimer;var height =0;$(window).on('resize',function (e) {clearTimeout(resizeTimer);resizeTimer =setTimeout(function () {var width =$('.gallery360').width();$('.gallery360 .item360 img').width(width);$('.gallery360 .item360 div.reel').width(width);},250);heightTimer =setTimeout(function () {var height =$('.gallery360 img.reel').height();$('.gallery360 div.reel').height(height);$('.gallery360 .item360').height(height);},250);thumbsPosition();});}
 function scrollOnLoad() {anchor =location.hash;hash =location.hash.replace('#','');cookie =$(".cookie_notification"),hcookie =(cookie.is(":visible")) ?cookie.outerHeight() :0;if (getWidth() < 599) {hscroll =10 + hcookie;}
else {hscroll =140 + hcookie;}
if (hash !=='') {viewableOffset =$(anchor).offset().top - ($(window).scrollTop() + hscroll);$('html, body').animate({scrollTop:viewableOffset
},1000);}
 }
 function initScrollToAnchorLoad() {var timer;clearTimeout(timer);timer =setTimeout(function () {scrollOnLoad();},1500);}
 function ajaxModaal() {$('.modaal-ajax').modaal({type:'ajax',before_open:function () {},after_close:function () {}
});}
 function enableCountryFormElementOnSubmit() {$('form').bind('submit',function () {$(this).find('select#country').prop('disabled',false);});}
 function fader() {var stage =$('.fader');var slide_a =$('.fader .slide_a');var slide_b =$('.fader .slide_b');var timer =stage.attr('data-time') * 1000;slide_a.fadeOut(timer);}
 function toggleShare() {var item =$('.toggle');$(item).on('click',function () {$(this).parent().find('.share-icons').slideToggle();});}
function setWrapperPadding() {$(".wrapper").css("padding-bottom",parseInt($(".footer").height()) + 'px');}
 if(isBunchboxEnabled==="true") {$(window).scroll(function () {initHeaderScroll.init();});}
 $(window).resize(function () {initWindowResize.init();initMenuWidth();sliderMobileWidth();initMatchHeight.init();setWrapperPadding();$(function () {$(".wrapper").css("padding-bottom",parseInt($(".footer").height() + $(".footer-toolbar").height()) + 'px');});});function addtohome() {var athKey ="de.jab";var $body =$("body")
var isBrandPage =$body.hasClass("markenseiten");var athAdditionalKey =$body.data("addtohome");var athMessage =$body.data("athmessage");if (isBrandPage &&athAdditionalKey) {athKey +="."+ athAdditionalKey;}
addToHomescreen({appID:athKey,startDelay:2,displayPace:0,lifespan:15,modal:false,maxDisplayCount:1,icon:false,message:athMessage,skipFirstVisit:false
});}
 function advertising() {var item =$('.advertising');if (item.length > 0) {var toggle =$('.advertising_toggle');var content =$('.advertising .full');var preview =$('.advertising .preview');var close =$('.advertising .icon-Schliessen');var position =$(document).scrollTop();var id =item.data('addid');if (!localStorage.getItem(id)) {var initialObject ={time:Date.now(),status:0
};localStorage.setItem(id,JSON.stringify(initialObject));}
 var object =JSON.parse(localStorage.getItem(id));advertisingShow(item,id,object);advertisingScroll(position,content,preview,toggle,id);advertisingToggle(toggle,content,preview,id);advertisingClose(close,content,preview,item,id);}
 }
 function advertisingShow(item,id) {var object =JSON.parse(localStorage.getItem(id));if (object.status ===2) {var currenttime =Date.now();var delay =24 * 60 * 60 * 1000;if (parseInt(currenttime) > (parseInt(object.time) + parseInt(delay))) {$(item).removeClass('hidden');object.status =0;localStorage.setItem(id,JSON.stringify(object));}
}
else {$(item).removeClass('hidden');}
 }
 function advertisingToggle(toggle,content,preview,id) {$(toggle).on('click',function () {$(this).toggleClass('open');$(content).toggleClass('active');$(preview).toggleClass('out');var object ={};object.time =Date.now();object.status =1;localStorage.setItem(id,JSON.stringify(object));});}
 function advertisingClose(close,content,preview,item,id) {$(close).on('click',function () {$(content).removeClass('active');$(preview).removeClass('out');$(item).fadeOut();var object ={};var time =Date.now();object.time =time;object.status =2;localStorage.setItem(id,JSON.stringify(object));});}
 function advertisingScroll(position,content,preview,toggle,id) {$(window).on('scroll',function () {var object =JSON.parse(localStorage.getItem(id));if ($(document).scrollTop() !==position) {if (object.status ===0 ||object.status ===undefined) {$(toggle).addClass('open');$(content).addClass('active');$(preview).addClass('out');}
 }
});}
 $(document).ready(function () {advertising();initWindowResize.init();osXDetect();svgCheck();initMobileTopMenu.init();initFunctions.init();initMainMenu.init();colorFilter();initDropdownGabelseiten();initDropdown.init();initProductSocial.init();initSocial.init();initWishlistSocial.init();initMatchHeight.init();initSlider.init('initSlider');initSlider.init('one-image');initToolTip();initLightbox.image();initLightbox.video();initCustomScroll();initCustomForms();initPopUp();initBrandLinks();inputMobileFix();if(isBunchboxEnabled==="true") {initHeaderScroll.init();}
initMenuWidth();initPrint();initRightClick();initStorelocatorFeatureBox();init360slider();init360reel();ajaxModaal();fader();enableCountryFormElementOnSubmit();addtohome();toggleShare();$('.mailto').click(function (item) {window.location ='mailto:'+ $(item.currentTarget).text();});$(window).resize();});$(window).on('load hashchange',function () {initHashScroll();});})(jQuery);;var initLoad ={load:function () {$(".full-overlay").show();},close:function () {$(".full-overlay").hide();}
};'use strict';(function ($) {var mainContainer;var checkBoxes;var checkBoxIcon;var filterList;var resultsTable;var facetteOpener;var mainDropDownOpener;function init() {mainContainer =$('.facettensuche-module.restricted-downloads');checkBoxes =$(".restricted-downloads .filter-items .checkbox");filterList =$(".restricted-downloads ul.filter-list");resultsTable =$(".restricted-downloads .results-table");facetteOpener =$(".restricted-downloads .open-facette");mainDropDownOpener =$('.restricted-downloads h2.selectboxit');checkBoxIcon =checkBoxes.find('.icon-check35');addEvents();updateAvailableDownloadsList();mainContainer.css({opacity:1})
 }
 function addEvents() {checkBoxes.on('change',updateAvailableDownloadsList);checkBoxIcon.on('click',function () {var self =$(this);self.next('input[type="checkbox"]').trigger('click');});mainDropDownOpener.on('click',function () {mainContainer.toggleClass('closed');});facetteOpener.on('click',function () {$(this).parent().toggleClass('closed-facette');})
 }
 function updateAvailableDownloadsList() {filterList.find('li').remove();if (checkBoxes.find(':checked').length ===0) {resultsTable
.show()
.find('[data-group-item]')
.show();checkBoxes.find('.icon-check35').removeClass('checked');return;}
checkBoxes.each(function (i,chk) {var el =$(chk).find('input[type="checkbox"]');var chkBox =$(chk).find('.icon-check35');var isChecked =el.is(':checked');var groupName =el.data('group-name');var groupLabel =el.data('group-label');if (isChecked) {chkBox.addClass('checked');$('[data-group-item="'+ groupName + '"]').show();var li =$('<li/>');var removeMe =$('<span/>').addClass('icon-circle-cross');li.on('click',function () {el.trigger('click');});li.html(groupLabel)
 .data({'group-name':groupName
 })
 .append(removeMe);filterList.append(li);} else {chkBox.removeClass('checked');$('[data-group-item="'+ groupName + '"]').hide();}
});filterList.children().length ===0 ?resultsTable.hide() :resultsTable.show();}
 $(document).ready(init);}(jQuery));$(document).ready(function(){resizeVideoIFrame();$(window).resize(function() {resizeVideoIFrame();});});function resizeVideoIFrame() {if($('.video-component .cell-wrapper iframe').length > 0){$height =$('.video-component .cell-wrapper iframe').width() * 9/16;$('.video-component .cell-wrapper iframe').height($height);}
}
$(function () {$('.jab-btn').
 on('mouseenter',function (e) {var parentOffset =$(this).offset(),relX =e.pageX - parentOffset.left,relY =e.pageY - parentOffset.top;$(this).find('span').css({top:relY,left:relX });}).
 on('mouseout',function (e) {var parentOffset =$(this).offset(),relX =e.pageX - parentOffset.left,relY =e.pageY - parentOffset.top;$(this).find('span').css({top:relY,left:relX });});$(".jab-dynamic-video").each(function () {var myVideoComponent =$(this).find(".jab-video");if ($(window).width() < $(window).height()) {myVideoComponent.append("<source src="+ $(this).find(".video-blog-component-portrait-url").val() + " type='video/mp4' >");if($(this).find(".video-blog-component-portrait-poster").val() =="") {myVideoComponent.attr("poster",$(this).find(".video-blog-component-landscape-poster").val() );} else {myVideoComponent.attr("poster",$(this).find(".video-blog-component-portrait-poster").val() );}
 } else {myVideoComponent.append("<source src="+ $(this).find(".video-blog-component-landscape-url").val() + " type='video/mp4' >");myVideoComponent.attr("poster",$(this).find(".video-blog-component-landscape-poster").val() );}
 });});$(document).ready(function () {if ($.browser.msie ||($.browser.safari &&$.browser.version < 10)) {if (!$.cookie("shownbrowsersupport")) {$("#browser-support-wrapper").modaal({start_open:true,width:window.innerWidth / 2,after_open:function () {$.cookie("shownbrowsersupport","true");$('.browser-support-close').on("click",function () {$("#browser-support-wrapper").modaal('close');});}
 });}
 }
});$(window ).on("load",function() {console.log("prepare lazy loading");if ("loading"in HTMLImageElement.prototype) {console.log("new loading strategy");var lazyEls =document.querySelectorAll("img[loading='lazy']");lazyEls.forEach(function(lazyEl) {if(lazyEl.getAttribute("data-src") !=undefined)
 lazyEl.setAttribute("src",lazyEl.getAttribute("data-src")
 );lazyEl.removeAttribute("data-src");});var lazyBgEls =document.querySelectorAll("div[loading='lazy']");lazyBgEls.forEach(function(lazyBgEl) {if(lazyBgEl.getAttribute("data-bg") !=undefined)
 lazyBgEl.style.backgroundImage =lazyBgEl.getAttribute("data-bg");lazyBgEl.removeAttribute("data-bg");});} else {console.log("standard loading strategy");var pathArray =window.location.href.split('/');var protocol =pathArray[0];var host =pathArray[2];var lazyLoadJsUrl =protocol + '//'+ host + lazy_load_libuary_lazyload;var lazyLoadJsInitUrl =protocol + '//'+ host + lazy_load_libuary_lozadinit;console.log("lazyLoadJsUrl "+ lazyLoadJsUrl);console.log("lazyLoadJsInitUrl "+ lazyLoadJsInitUrl);var scriptLazyLoadJsUrl =document.createElement("script");console.log("scriptLazyLoadJsUrl"+ scriptLazyLoadJsUrl);scriptLazyLoadJsUrl.async =true;scriptLazyLoadJsUrl.src =lazyLoadJsUrl;var scriptLazyLoadJsInitUrl =document.createElement("script");console.log("scriptLazyLoadJsInitUrl"+ scriptLazyLoadJsInitUrl);scriptLazyLoadJsInitUrl.async =true;scriptLazyLoadJsInitUrl.src =lazyLoadJsInitUrl;setTimeout(1000);console.log("perform lazy loading standard");window.lazyLoadOptions ={elements_selector:"[loading=lazy]"};var body=document.getElementsByTagName('body')[0];body.append(scriptLazyLoadJsUrl);}
 });var globalScannerOptions ={playSoundOnScan:false,vibrateOnScan:true,mirrorImageEnabled:true
}
var searchScanner;var rangeScanner;(function deferScandit() {if(ScanditSDK ===undefined) {window.setTimeout(deferScandit,50);} else {if(isBrowserSupported()) {$(document ).ready(function() {var key =getLicenseKey();ScanditSDK.configure(key,{engineLocation:'https://cdn.jsdelivr.net/npm/scandit-sdk/build',preloadEngineLibrary:true,preloadCameras:false
});if($('#searchScanSection').length) {if(window.innerWidth> 960)
{$('.js-enable-search-scan').modaal({type:'inline',after_open:initSearchScanner,before_close:destroySearchScanner
});}
}
if($('#rangeScanSection').length) {if(window.innerWidth > 960)
{var $modalLink =$('.js-enable-range-scan');$modalLink.attr('href','#rangeScanModal');$('.js-enable-range-scan').modaal({type:'inline',after_open:initRangeScanner,before_close:destroyRangeScanner
});}
}
});} else {if($('#searchScanSection').length) {$('.js-enable-search-scan').modaal({type:'inline',});}
if($('#rangeScanSection').length) {$('.js-enable-range-scan').modaal({type:'inline',});}
handleScannerInitError({name:'browserUnsupportedError',message:''});}
}
})();function initSearchScanner() {if(window.innerWidth <=960)
{ScanditSDK.BarcodePicker.create(document.getElementById('searchScanMobile'),globalScannerOptions)
.then(function(barcodePicker) {barcodePicker.applyScanSettings(getScanSettings());barcodePicker.onScan(handleSearchScanSuccess);searchScanner =barcodePicker;})
.catch(handleScannerInitError);$('#searchScanMobile').append('<div class="range-update-scanner-notice">'+rangeScannerNotice+'</div>');$('.range-update-scanner-notice').css('width',parseInt($('.scandit-barcode-picker').css('width')));$('.range-update-scanner-notice').css('left','50%');$('.range-update-scanner-notice').css('margin-left',0 - parseInt($('.scandit-barcode-picker').css('width')) / 2);}
else
{ScanditSDK.BarcodePicker.create(document.getElementById('searchScanSection'),globalScannerOptions)
.then(function(barcodePicker) {barcodePicker.applyScanSettings(getScanSettings());barcodePicker.onScan(handleSearchScanSuccess);searchScanner =barcodePicker;})
.catch(handleScannerInitError);$('.modaal-inner-wrapper').append('<div class="range-update-scanner-notice">'+rangeScannerNotice+'</div>');}
}
function initRangeScanner() {if(window.innerWidth <=960)
{ScanditSDK.BarcodePicker.create(document.getElementById('rangeScanMobile'),globalScannerOptions)
.then(function(barcodePicker) {barcodePicker.applyScanSettings(getScanSettings());barcodePicker.onScan(handleRangeScanSuccess);barcodePicker.setCameraSwitcherEnabled(false);rangeScanner =barcodePicker;})
.catch(handleScannerInitError);$('#rangeScanMobile').append('<div class="range-update-scanner-notice">'+rangeScannerNotice+'</div>');$('.range-update-scanner-notice').css('width',parseInt($('.scandit-barcode-picker').css('width')));$('.range-update-scanner-notice').css('left','50%');$('.range-update-scanner-notice').css('margin-left',0 - parseInt($('.scandit-barcode-picker').css('width')) / 2);}
else
{ScanditSDK.BarcodePicker.create(document.getElementById('rangeScanSection'),globalScannerOptions)
.then(function(barcodePicker) {barcodePicker.applyScanSettings(getScanSettings());barcodePicker.onScan(handleRangeScanSuccess);barcodePicker.setCameraSwitcherEnabled(false);rangeScanner =barcodePicker;})
.catch(handleScannerInitError);$('.modaal-inner-wrapper').append('<div class="range-update-scanner-notice">'+rangeScannerNotice+'</div>');}
handleScannerLinePositioning();}
(function(){if(window.innerWidth > 960){var $modalLink =$('.js-enable-range-scan');$modalLink.attr('href','#rangeScanModal');}
});$('.js-enable-range-scan').click(function(e) {if(window.innerWidth <=960)
{e.stopPropagation();e.preventDefault();var match =navigator.userAgent.toLowerCase().match(/\b(\w*android \w*)\b/g)

if(match &&match[0].split(" ") &&parseInt(match[0].split(" ")[1]) < 7){handleScannerInitError({name:'androidUnsupportedError',message:''});$('#searchScanModal').show();$(".range-update-sticky-wrapper").css({'top':$("#searchScanSection").height() });}else{openMobileRangeScanner();}
}
else
{var $modalLink =$('.js-enable-range-scan');$modalLink.attr('href','#rangeScanModal');$modalLink.modaal({type:'inline',hide_close:false,start_open:true
});}
});$('.js-enable-search-scan').click(function(e){if(window.innerWidth <=960)
{e.stopPropagation();e.preventDefault();openMobileSearchScanner();}
});function openMobileRangeScanner(){$('main').addClass('fullscreen-scanner');$('.help-wrapper').hide();$('.rangeupdate-content').hide();$('#rangeScanMobile').show();$('.cancel-button').show();$('.back-button').hide();$('.footer-toolbar').hide();var footerHeight =$('.footer').height();initRangeScanner();}
function closeMobileRangeScanner(){$('main').removeClass('fullscreen-scanner');$('main').addClass('range-update-page');$('.help-wrapper').show();$('.rangeupdate-content').show();$('#rangeScanMobile').hide();$('.cancel-button').hide();$('.back-button').show();if(window.innerWidth > 600)
{$('.footer-toolbar').show();}
if($('.scandit-container').length > 0)
{$('.scandit-container').remove();}
destroyRangeScanner();}
$('.cancel-button').click(function(e){e.stopPropagation();e.preventDefault();closeMobileRangeScanner();});function openMobileSearchScanner()
{$('#searchScanMobile').css('height','100vh');$('#searchScanMobile').css('width','100vw');$('#searchScanMobile').css('margin-left','0px');$('#searchScanMobile').css('margin-right',' 0px');$('#searchScanMobile').css('z-index',' 100');$('#searchScanMobile').css('position',' absolute');$('#searchScanMobile').css('background-color','black');$('html').css('overflow','hidden');$('body').css('position','fixed');$('#searchScanMobile').show();initSearchScanner();var $close =$('<div id="searchScanMobileClose">'+scannerMobileClose+'</div>');$close.css('position','absolute');$close.css('top','10px');$close.css('right','20px');$close.css('z-index','101');$close.css('color','white');$('#searchScanMobile').append($close);$('#searchScanMobileClose').click(function() {closeMobileSearchScanner();});}
function closeMobileSearchScanner()
{destroySearchScanner();$('html').css('overflow','auto scroll');$('body').css('position','static');$('#searchScanMobileClose').remove();$('#searchScanMobile').hide();}
function destroySearchScanner() {if(searchScanner !==undefined) {searchScanner.destroy();}
$('#searchScanSection .scandit').remove();$('.range-update-scanner-notice').remove();}
function destroyRangeScanner() {if(rangeScanner !==undefined) {rangeScanner.destroy();}
$('.range-update-scanner-notice').remove();$('#rangeScanSection .scandit').remove();}
function handleSearchScanSuccess(scanResult) {var result =scanResult.barcodes.reduce(function(string,barcode) {return barcode.data;},'');if(isValidURL(result)) {window.location.href =result;} else {var url =window.location.href.split('?');if(url[0].includes('productadvancedsearch'))
{window.location.href =url[0]+"?searchTerm="+result;}
else
{window.location.href ="/productadvancedsearch?searchTerm="+ result;}
}
}
function handleRangeScanSuccess(scanResult) {var result =scanResult.barcodes.reduce(function(string,barcode) {return barcode.data;},'');if(window.innerWidth <=960)
{closeMobileRangeScanner();destroyRangeScanner();$('#rangeScanForm input[name="code"]').val(result);$('#rangeScanForm').submit();}
else
{$('#modaal-close').trigger("click");destroyRangeScanner();$('#rangeScanForm input[name="code"]').val(result);$('#rangeScanForm').submit();}
}
(function rangeScanForm() {$('#rangeScanForm').submit(function(e) {e.preventDefault();e.stopPropagation();preloader.appendOverlay();$('.search-action-error').remove();var $dateInput;if($.browser.mobile)
{if($('#requestDate').val().length > 0)
{$dateInput =$.datepicker.parseDate("yy-mm-dd",$('#requestDate').val());}
}
else
{$dateInput =$('#requestDate').datepicker('getDate');}
var $codeInput =$(this).find('#code');var $now =new Date();var inputError =false;if(!$dateInput ||$dateInput > $now) {$('<div class="search-action-error">'+rangeupdateTimespanError+'</div>').insertAfter('#rangeScanFormDate');inputError =true;}
if($codeInput.val().length ==0) {$('<div class="search-action-error">'+rangeupdateArtNrError+'</div>').insertAfter('#rangeScanFormCode');inputError =true;}
if(!inputError)
{var requestDate =toUTCDate($dateInput).toISOString().substring(0,10);var data ='requestDate='+requestDate+'&code='+$(this).find("#code").val();var action =$(this).attr('action');$.ajax({url:action,data:data,method:'get',success:function(data) {if(!data.name =="")
{var $section =$('#resultSectionContent');$section.html("");var $headarea =$('<div class="headarea"></div>');var $headinfo =$('<div class="headinfo"></div>');var $headline =$('<div class="headline"></div>');$headline.append('<div class="name">'+data.name+'</div>');$headinfo.append($headline);$headinfo.append('<div class="code">'+data.code+'</div>');if(data.price &&!data.price.formattedValue.includes('0,00'))
{$headinfo.append('<div class="price">'+data.price.formattedValue+'</div>');}
$headinfo.append('<div class="validdate">'+
rangeupdateValidDateLocalized+' '+
formatDate(new Date(data.validDate))+'</div>');var $headbuttons =$('<div class="headbuttons"></div>');$headarea.append($headinfo);$headarea.append($headbuttons);$section.append($headarea);$('.pricetag-button').modaal({type:'confirm',confirm_button_text:rangeupdatePriceTagModalConfirm,confirm_cancel_button_text:rangeupdatePriceTagModalCancel,confirm_title:'<p>'+rangeupdatePriceTagModalTitle+'</p>',confirm_content:'<p>'+rangeupdatePriceTagModalTextA+' <b>'+data.name+'</b> '+rangeupdatePriceTagModalTextB+' <b>'+data.code+'</b> '+rangeupdatePriceTagModalTextC+'</p>',confirm_callback:function() {alert('you have confirmed this action');}
});var $productarea =$('<div class="productarea"></div>');$productarea.append('<div class="requestdate">'+
rangeupdateRequestDateLocalized + ' '+
formatDate(new Date(data.requestDate)) + '</div>');if(data.products.length > 0) {var $productlist =$('<div class="productlist "></div>');for (var i =0;i < data.products.length;i++) {var product =data.products[i];var $product =$('<div class="product"></div>');$product.append('<div class="name">'+ product.code + '</div>');if (product.link !='null'&&product.link !=null) {$product.append('<a class="button" href="'+ product.link + '">DETAILS</a>');}
else {$product.append('<a class="button" style="visibility:hidden" href="#">DETAILS</a>');}
$productlist.append($product);}
$productarea.append($productlist);} else {var noResultMessage =rangeupdateoResult.replace("{0}",formatDate(new Date(data.requestDate)));noResultMessage =noResultMessage.replace("{1}",data.name);noResultMessage =noResultMessage.replace("{2}",data.code);$productarea.append('<div class="noresult">'+noResultMessage + '</div>');}
$section.append($productarea);if(window.innerWidth <=960) {rangeupdateMobileOpenResultSection();$('.range-update-mobile-back').click(function(e){rangeupdateMobileCloseResultSection();});}
}
else{$('<div class="search-action-error">'+rangeupdateArtNrError+'</div>').insertAfter('#rangeScanFormCode');}
preloader.destroyOverlay();},error:function(error) {if(console)
console.error(error.responseText)
preloader.destroyOverlay();}
});} else {preloader.destroyOverlay();}
});})();function formatDate(date)
{realMonth =date.getMonth() + 1;yr =date.getFullYear();month =date.getMonth() < 9 ?'0'+ realMonth :realMonth;day =date.getDate() < 10 ?'0'+ date.getDate() :date.getDate();newDate =day + '.'+ month + '.'+ yr;return newDate;}
function handleScannerInitError(error) {console.log(error);var message =error.message;if(error.name =='NotReadableError') {message =scanCameraNotFoundError;} else if(error.name =='NotAllowedError') {message =scanCameraAccessDeniedError;} else if(error.name =='browserUnsupportedError') {message =scanBrowserUnsupportedError;} else if(error.name =='androidUnsupportedError') {message =androidUnsupportedError;}
var width =$('.scandit video').width();var height =$('.scandit video').height();var $errorContainer =$('<div class="scandit-error">');$errorContainer.html(message);if(error.name =='browserUnsupportedError') {var $supportedBrowsers =$('#scannerSupportedBrowsers');$supportedBrowsers.css('display','');$errorContainer.append($supportedBrowsers);}
$errorContainer.css({'max-width':width,'height':height
});if($('.scandit > .scandit-barcode-picker').length) {$('.scandit > .scandit-barcode-picker').empty();$('.scandit > .scandit-barcode-picker').append($errorContainer);} else {$('#searchScanSection').empty();$('#searchScanSection').append($errorContainer);}
}
function getScanSettings() {return new ScanditSDK.ScanSettings({enabledSymbologies:['aztec','code128','code25','code39','code93','ean8','ean13','QR'],codeDuplicateFilter:1000,searchArea:{x:0,y:0,width:1.0,height:2.0 }
});}
function getLicenseKey() {if(isCustomerCenterCustomer ===true &&$('.range-update-page').length !==0) {if(!scannerLicenseCenterCustomerKey) {console.log("b2b scanner license not found");return null;} else {return scannerLicenseCenterCustomerKey;}
}
if(!scannerLicenseKey) {console.log("search barcode-scanner license not found");return null;} else {return scannerLicenseKey;}
}
function isBrowserSupported() {var isSupported =window.Blob !==undefined &&'mediaDevices'in navigator &&typeof WebAssembly ==='object';return isSupported;}
function isValidURL(str) {var a =document.createElement('a');a.href =str;return (str.indexOf('jab.de') !=-1) ||(a.host &&a.host !=window.location.host);}
function toUTCDate(date) {return new Date(Date.UTC(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds()));}
function rangeupdateMobileCloseResultSection()
{$('.range-update-mobile-back').hide();$('.back-button').show();$('#resultSection').hide();$('.search-section').show();}
function rangeupdateMobileOpenResultSection()
{var $backbutton =$('<a class="jab-button btn-dark range-update-mobile-back">'+$(".range-update-mobile-back").text()+'</a>');$(".productarea").append($backbutton);$('.range-update-mobile-back').show();$('.back-button').hide();$('#resultSection').show();if(window.innerWidth <=960){$('.search-section').hide();}else{$('.search-section').show();}
}
function handleScannerLinePositioning(){MutationObserver =window.MutationObserver ||window.WebKitMutationObserver;var observer =new MutationObserver(function(mutations,observer) {$(".scandit-laser").css("height","100%")
observer.disconnect();});observer.observe($(".scandit-laser")[0],{attributes:true});}
$(function(){$(".login-guest-checkout-login").on("click",(function(){$("#loginForm").submit();}));$(".login-guest-checkout-back").on("click",(function(e){e.preventDefault();window.location.href="/cart";}));$(".login-guest-checkout-register").on("click",(function(e){e.preventDefault();window.location.href="/register";}));$(".login-guest-checkout-order").on("click",(function(e){e.preventDefault();window.location.href="/guest/checkout/delivery";}));$(".login-guest-checkout-password-reset").on("click",(function(){$("#loginForm").submit();}));$(".login-guest-checkout-password-reset-back").on("click",(function(e){e.preventDefault();window.location.href="/login/guest";}));$(".login-guest-checkout-delivery").on("click",(function(){$("#guestCheckoutAddressData").submit();}));$(".login-guest-checkout-delivery-back").on("click",(function(e){e.preventDefault();window.location.href="/login/guest";}));$(".isshipping:first-child").click(function(){if($('input[name="shipToBillingAddress"]').is(':checked')){$(".delivery-address-guest-checkout").hide();}else{$(".delivery-address-guest-checkout").show();}
 });$(".jab-theme-2020 select").on("click",(function(){$(this).find("option").each(function(){if($(this).val() ===undefined ||$(this).val() ==''){$(".jab-theme-2020 select").next().find("li:first-child").hide();}
 });}));});$('.auth-input-wrapper-checkbox').click(function(){var $checkbox =$(this).find('.auth-checkbox');var $fakeCheckbox =$(this).find('.auth-checkbox-dummy');if($checkbox.prop("checked"))
 {$checkbox.prop("checked",false );$fakeCheckbox.removeClass('checked');}
 else
 {$checkbox.prop("checked",true );$fakeCheckbox.addClass('checked');}
 exportPriceListInputCheck();});$('.auth-form .auth-input').keyup(function(){exportPriceListInputCheck();});function exportPriceListInputCheck()
{var $customernumber =$('.auth-form').find('.auth-input[name="customernumber"]');var $email =$('.auth-form').find('.auth-input[name="email"]');var $agbCheck =$('.auth-input-wrapper-checkbox').find('.auth-checkbox');var $button =$('.auth-input-wrapper').find('.auth-button');if($customernumber.length > 0 &&$email.length > 0 &&$agbCheck.length > 0 &&$button.length > 0)
 {if($customernumber.val().length > 0 &&$email.val().length > 0 &&$agbCheck.prop("checked"))
 {$button.removeClass('disabled');$button.prop('disabled',false);}
 else
 {$button.addClass('disabled');$button.prop('disabled',true);}
 }
}